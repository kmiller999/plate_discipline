<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.550">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Kevin Miller">
<meta name="dcterms.date" content="2025-07-01">

<title>Plate Discipline Dimensionality Reduction</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="plate_discipline_dr_files/libs/clipboard/clipboard.min.js"></script>
<script src="plate_discipline_dr_files/libs/quarto-html/quarto.js"></script>
<script src="plate_discipline_dr_files/libs/quarto-html/popper.min.js"></script>
<script src="plate_discipline_dr_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="plate_discipline_dr_files/libs/quarto-html/anchor.min.js"></script>
<link href="plate_discipline_dr_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="plate_discipline_dr_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="plate_discipline_dr_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="plate_discipline_dr_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="plate_discipline_dr_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>
<script type="text/javascript">
window.PlotlyConfig = {MathJaxConfig: 'local'};
if (window.MathJax && window.MathJax.Hub && window.MathJax.Hub.Config) {window.MathJax.Hub.Config({SVG: {font: "STIX-Web"}});}
if (typeof require !== 'undefined') {
require.undef("plotly");
requirejs.config({
    paths: {
        'plotly': ['https://cdn.plot.ly/plotly-2.35.2.min']
    }
});
require(['plotly'], function(Plotly) {
    window._Plotly = Plotly;
});
}
</script>



</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#tldr" id="toc-tldr" class="nav-link active" data-scroll-target="#tldr">TL;DR</a></li>
  <li><a href="#overview-and-motivation-for-analyses" id="toc-overview-and-motivation-for-analyses" class="nav-link" data-scroll-target="#overview-and-motivation-for-analyses">1: Overview and Motivation for Analyses</a></li>
  <li><a href="#data-preparation" id="toc-data-preparation" class="nav-link" data-scroll-target="#data-preparation">2: Data Preparation</a>
  <ul class="collapse">
  <li><a href="#feature-investigation" id="toc-feature-investigation" class="nav-link" data-scroll-target="#feature-investigation">2.1: Feature Investigation</a></li>
  </ul></li>
  <li><a href="#pca" id="toc-pca" class="nav-link" data-scroll-target="#pca">3: PCA</a>
  <ul class="collapse">
  <li><a href="#pca-function" id="toc-pca-function" class="nav-link" data-scroll-target="#pca-function">3.1: PCA Function</a></li>
  </ul></li>
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section">4: 2024</a>
  <ul class="collapse">
  <li><a href="#outcomes-relation" id="toc-outcomes-relation" class="nav-link" data-scroll-target="#outcomes-relation">4.1: Outcomes Relation</a></li>
  <li><a href="#pca-interpretation" id="toc-pca-interpretation" class="nav-link" data-scroll-target="#pca-interpretation">4.2: PCA Interpretation</a></li>
  </ul></li>
  <li><a href="#section-1" id="toc-section-1" class="nav-link" data-scroll-target="#section-1">5: 2023</a></li>
  <li><a href="#section-2" id="toc-section-2" class="nav-link" data-scroll-target="#section-2">6: 2022</a></li>
  <li><a href="#section-3" id="toc-section-3" class="nav-link" data-scroll-target="#section-3">7: 2021</a></li>
  <li><a href="#inter-year-interpretation" id="toc-inter-year-interpretation" class="nav-link" data-scroll-target="#inter-year-interpretation">8: Inter-Year Interpretation</a></li>
  <li><a href="#run-intraclass-correlations-between-years" id="toc-run-intraclass-correlations-between-years" class="nav-link" data-scroll-target="#run-intraclass-correlations-between-years">9: Run Intraclass Correlations Between Years</a>
  <ul class="collapse">
  <li><a href="#yearly-deviations" id="toc-yearly-deviations" class="nav-link" data-scroll-target="#yearly-deviations">9.1: Yearly Deviations</a></li>
  </ul></li>
  <li><a href="#average-pc1-and-pc2-scores" id="toc-average-pc1-and-pc2-scores" class="nav-link" data-scroll-target="#average-pc1-and-pc2-scores">10: Average PC1 and PC2 Scores</a></li>
  <li><a href="#summaryconclusion" id="toc-summaryconclusion" class="nav-link" data-scroll-target="#summaryconclusion">10: Summary/Conclusion</a></li>
  <li><a href="#future-directions" id="toc-future-directions" class="nav-link" data-scroll-target="#future-directions">11: Future Directions</a></li>
  <li><a href="#acknowledgements" id="toc-acknowledgements" class="nav-link" data-scroll-target="#acknowledgements">Acknowledgements</a></li>
  <li><a href="#references" id="toc-references" class="nav-link" data-scroll-target="#references">References</a></li>
  </ul>
</nav>
</div>
<main class="content page-columns page-full" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Plate Discipline Dimensionality Reduction</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Kevin Miller </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 1, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="tldr" class="level2">
<h2 class="anchored" data-anchor-id="tldr">TL;DR</h2>
<p>Major League hitters must balance three competing drives to provide offensive value for their team:</p>
<p>1. Taking advantage of good pitches to hit</p>
<p>2. Not swinging at pitches out of the zone, which are more likely to produce an out or an unfavorable count</p>
<p>3. Making the pitcher throw more pitches to better gauge their arsenal and create a more stressful plate appearance</p>
<p>Accordingly, hitters attempt to find an optimal strategy to create the most value for their team, which is highly individualized based on the player’s skill set and offensive role within the team.</p>
<p>Here, I analyzed aggregated swing decision data (e.g., zone swing %, out of zone swing %, meatball swing percent %, and overall swing %) from qualifying MLB hitters within each season from 2021 to 2024. As an exploratory, proof-of-concept analysis, I performed Principal Component Analysis on these swing decision features to collapse similar sources of variance. The resulting principal components included a first component that captured a hitter’s tendency to swing in general, while the second component distinguished a hitter’s tendency to swing at good pitches while limiting the tendency to swing at bad ones. This pattern was largely consistent between seasons, as the first component had an intraclass correlation of .933 and the second had an intraclass correlation of .873.</p>
<p>These findings–while preliminary–suggest there may be more variance in how frequently a hitter swings more generally than a hitter’s ability to swing at good pitches (e.g., pitches in the zone, or meatballs in the middle of the zone) at the expense of swinging at pitches out of the zone. This calls into question the use of metrics like chase rate, as these may be confounded by a hitter’s tendency to swing more generally, rather than being entirely reflective of a hitter’s ability to not chase pitches. Future swing decision analyses can build off these results by investigating these constructs with greater specificity, including more contextual data that might impact swing decisions.</p>
</section>
<section id="overview-and-motivation-for-analyses" class="level2">
<h2 class="anchored" data-anchor-id="overview-and-motivation-for-analyses">1: Overview and Motivation for Analyses</h2>
<p>Put simply, hitting in the Major Leagues is one of the most challenging tasks in all of sports. Hitters must decide whether or not to swing in a mere fraction of a second, while pitchers throw multiple pitches to try and deceive the hitter. This creates a constant dilemma wherein hitters try not to miss good pitches to hit (e.g., pitches in the zone, or meatballs that are in the middle of the zone), while trying not to swing at pitches out of the zone, which are less optimal for hitting. Additionally, hitters are praised for “working the count” and seeing more pitches, as pitch counts have increasingly become a proxy for how fatigued and vulnerable a pitcher is to giving up runs. Chase rate and other swing-rate percentages are commonly used as proxies for how “disciplined” a hitter is (i.e., how likely or unlikely they are to swing at bad pitches), but it is still challenging to discern whether a hitter is truly good at discerning good from bad pitches, or if they are just employing a strategy to swing at fewer pitches to work the count.</p>
<p>Having played baseball for years as both a hitter and pitcher, I am continually fascinated with how hitters strike a balance between these competing priorities. Some hitters are more selective earlier in the count to ensure they see a few pitches, even if this means they might miss a good pitch to hit. Other hitters employ a more aggressive approach, which decreases the likelihood they will miss a good pitch to hit, but can leave them more vulnerable to swinging at less ideal pitches to hit. Striking an ideal balance between these competing goals requires good pitch discernment (similar terms include pitch recognition), which enables hitters to better discern good pitches to hit from bad ones. My goal in this report was to create a data-driven separation between hitting strategy and pitch discernment, as many common metrics of pitch selection capture some combination of both constructs (e.g., chase rate). Thus, I chose Principal Component Analysis as a way to collapse and restructure variance from correlated features to accomplish this.</p>
</section>
<section id="data-preparation" class="level2">
<h2 class="anchored" data-anchor-id="data-preparation">2: Data Preparation</h2>
<p>The data for these analyses comes from <a href="https://baseballsavant.mlb.com/leaderboard/custom?year=2024&amp;type=batter&amp;filter=&amp;min=q&amp;selections=pa%2Ck_percent%2Cbb_percent%2Cwoba%2Cxwoba%2Csweet_spot_percent%2Cbarrel_batted_rate%2Chard_hit_percent%2Cavg_best_speed%2Cavg_hyper_speed%2Cz_swing_percent%2Coz_swing_percent%2Coz_contact_percent%2Cout_zone_percent%2Cmeatball_swing_percent%2Cmeatball_percent%2Cpitch_count%2Ciz_contact_percent%2Cin_zone_percent%2Cedge_percent%2Cwhiff_percent%2Cswing_percent&amp;chart=false&amp;x=pa&amp;y=pa&amp;r=no&amp;chartType=beeswarm&amp;sort=pa&amp;sortDir=desc">Baseball Savant’s Custom Leaderboard</a> functionality. I selected the same columns for each season of data: 2021 <span class="citation" data-cites="statcast">(<a href="#ref-statcast" role="doc-biblioref">Baseball Savant, n.d.-a</a>)</span>, 2022 <span class="citation" data-cites="statcasta">(<a href="#ref-statcasta" role="doc-biblioref">Baseball Savant, n.d.-b</a>)</span>, 2023 <span class="citation" data-cites="statcastb">(<a href="#ref-statcastb" role="doc-biblioref">Baseball Savant, n.d.-c</a>)</span>, and 2024 <span class="citation" data-cites="statcastc">(<a href="#ref-statcastc" role="doc-biblioref">Baseball Savant, n.d.-d</a>)</span>. Only hitters with a qualifying number of plate appearances (502 in a season) were included, as this ensures all hitters had a large sample size. I performed the same analyses for each season, as this reduces any potential cohort effects specific to any given season. The metrics I chose to be features in the Principal Component Analysis model included the percentage a hitter swung at pitchers in the zone (<code>z_swing_percent</code>), out of the zone (<code>oz_swing_percent</code>), meatballs (<code>meatball_swing_percent</code>), and the percentage a hitter swung at all pitches (<code>swing_percent</code>). Baseball Savant did not provide a definition for a meatball, but the term generally implies a very hittable pitch in the middle of the strike zone.</p>
<p>While I acknowledge that using these features does not take into account other important factors (e.g., the count the hitter is in, how the hitter is generally pitched, etc.), I wanted to focus solely on the hitter’s general tendencies for the sake of this proof-of-concept analysis. I discuss additional information that would add more context to these results in section <a href="#future-directions">11: Future Directions</a>.</p>
<p>Here are the data preparation steps I took in sequential order:</p>
<ol type="1">
<li>Read in the data from .csv files</li>
<li>Create pitches per plate appearance (<code>pitches_per_pa</code>), since this metrics was not available</li>
<li>Create a <code>decisions_df_{year}</code> dataframe for the features of interest for each year</li>
<li>Separate out default, performance-related columns into <code>performance_df</code></li>
<li>Create a <code>disc_metrics_df_{year}</code> dataframe for the discipline metrics of interest for each year</li>
<li>Created a correlation plot among the 2024 features to show potential associations between each</li>
</ol>
<div id="f55b9006" class="cell" data-execution_count="1">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import libraries to be used in these analyses</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> StandardScaler</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.decomposition <span class="im">import</span> PCA</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pingouin</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> plotly.express <span class="im">as</span> px</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> IPython.display <span class="im">import</span> Markdown, display</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="e0b1059e" class="cell" data-execution_count="2">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># import yearly data as csvs </span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>disc_df_24 <span class="op">=</span> pd.read_csv(<span class="st">'../data/plate_discipline_24.csv'</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>disc_df_23 <span class="op">=</span> pd.read_csv(<span class="st">'../data/plate_discipline_23.csv'</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>disc_df_22 <span class="op">=</span> pd.read_csv(<span class="st">'../data/plate_discipline_22.csv'</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>disc_df_21 <span class="op">=</span> pd.read_csv(<span class="st">'../data/plate_discipline_21.csv'</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># inspect columns</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>disc_df_24.columns</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="2">
<pre><code>Index(['last_name, first_name', 'player_id', 'year', 'pa', 'k_percent',
       'bb_percent', 'woba', 'xwoba', 'sweet_spot_percent',
       'barrel_batted_rate', 'hard_hit_percent', 'avg_best_speed',
       'avg_hyper_speed', 'z_swing_percent', 'oz_swing_percent',
       'oz_contact_percent', 'out_zone_percent', 'meatball_swing_percent',
       'meatball_percent', 'pitch_count', 'iz_contact_percent',
       'in_zone_percent', 'edge_percent', 'whiff_percent', 'swing_percent'],
      dtype='object')</code></pre>
</div>
</div>
<div id="e3e2db12" class="cell" data-execution_count="3">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create new variable (pitches_pa) as the avg. number of pitches in a plate appearance</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>disc_df_24[<span class="st">'pitches_pa'</span>] <span class="op">=</span> disc_df_24[<span class="st">'pitch_count'</span>]<span class="op">/</span>disc_df_24[<span class="st">'pa'</span>]</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>disc_df_23[<span class="st">'pitches_pa'</span>] <span class="op">=</span> disc_df_23[<span class="st">'pitch_count'</span>]<span class="op">/</span>disc_df_23[<span class="st">'pa'</span>]</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>disc_df_22[<span class="st">'pitches_pa'</span>] <span class="op">=</span> disc_df_22[<span class="st">'pitch_count'</span>]<span class="op">/</span>disc_df_22[<span class="st">'pa'</span>]</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>disc_df_21[<span class="st">'pitches_pa'</span>] <span class="op">=</span> disc_df_21[<span class="st">'pitch_count'</span>]<span class="op">/</span>disc_df_21[<span class="st">'pa'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="e0056e8c" class="cell" data-execution_count="4">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create decisions_df_ for each year as features of interest</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a>decisions_df_24 <span class="op">=</span> disc_df_24[[</span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'z_swing_percent'</span>, <span class="st">'oz_swing_percent'</span>, <span class="st">'meatball_swing_percent'</span>, <span class="st">'swing_percent'</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>    ]].copy()</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>decisions_df_23 <span class="op">=</span> disc_df_23[[</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'z_swing_percent'</span>, <span class="st">'oz_swing_percent'</span>, <span class="st">'meatball_swing_percent'</span>, <span class="st">'swing_percent'</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>    ]].copy()</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>decisions_df_22 <span class="op">=</span> disc_df_22[[</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'z_swing_percent'</span>, <span class="st">'oz_swing_percent'</span>, <span class="st">'meatball_swing_percent'</span>, <span class="st">'swing_percent'</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>    ]].copy()</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>decisions_df_21 <span class="op">=</span> disc_df_21[[</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'z_swing_percent'</span>, <span class="st">'oz_swing_percent'</span>, <span class="st">'meatball_swing_percent'</span>, <span class="st">'swing_percent'</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    ]].copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="45275a84" class="cell" data-execution_count="5">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># save performance metrics for exploratory analysis</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>performance_df_24 <span class="op">=</span> disc_df_24[[</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'woba'</span>, <span class="st">'xwoba'</span>, <span class="st">'sweet_spot_percent'</span>, <span class="st">'barrel_batted_rate'</span>, <span class="st">'hard_hit_percent'</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>]].copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="ed2631b4" class="cell" data-execution_count="6">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create disc_metrics_df_ for each year as outputs of interest</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>disc_metrics_df_24 <span class="op">=</span> disc_df_24[[</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pitches_pa'</span>, <span class="st">'k_percent'</span>, <span class="st">'bb_percent'</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>]].copy()</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>disc_metrics_df_23 <span class="op">=</span> disc_df_23[[</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pitches_pa'</span>, <span class="st">'k_percent'</span>, <span class="st">'bb_percent'</span></span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a>]].copy()</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>disc_metrics_df_22 <span class="op">=</span> disc_df_22[[</span>
<span id="cb7-9"><a href="#cb7-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pitches_pa'</span>, <span class="st">'k_percent'</span>, <span class="st">'bb_percent'</span></span>
<span id="cb7-10"><a href="#cb7-10" aria-hidden="true" tabindex="-1"></a>]].copy()</span>
<span id="cb7-11"><a href="#cb7-11" aria-hidden="true" tabindex="-1"></a>disc_metrics_df_21 <span class="op">=</span> disc_df_21[[</span>
<span id="cb7-12"><a href="#cb7-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">'pitches_pa'</span>, <span class="st">'k_percent'</span>, <span class="st">'bb_percent'</span></span>
<span id="cb7-13"><a href="#cb7-13" aria-hidden="true" tabindex="-1"></a>]].copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="feature-investigation" class="level3">
<h3 class="anchored" data-anchor-id="feature-investigation">2.1: Feature Investigation</h3>
<div id="39d3b7ee" class="cell" data-execution_count="7">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co"># show scatter_matrix to illuminate relationships between features</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.scatter_matrix(</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>        decisions_df_24, </span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a>        dimensions<span class="op">=</span>[</span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a>            <span class="st">'swing_percent'</span>, <span class="st">'z_swing_percent'</span>, <span class="st">'oz_swing_percent'</span>, <span class="st">'meatball_swing_percent'</span></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>        ], </span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>        labels<span class="op">=</span>{</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>            <span class="st">'swing_percent'</span>: <span class="st">'Overall Swing'</span>,</span>
<span id="cb8-9"><a href="#cb8-9" aria-hidden="true" tabindex="-1"></a>            <span class="st">'z_swing_percent'</span>: <span class="st">'Zone Swing'</span>, </span>
<span id="cb8-10"><a href="#cb8-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">'oz_swing_percent'</span>: <span class="st">'Out of Zone Swing'</span>, </span>
<span id="cb8-11"><a href="#cb8-11" aria-hidden="true" tabindex="-1"></a>            <span class="st">'meatball_swing_percent'</span>: <span class="st">'Meatball Swing'</span>, </span>
<span id="cb8-12"><a href="#cb8-12" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb8-13"><a href="#cb8-13" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb8-14"><a href="#cb8-14" aria-hidden="true" tabindex="-1"></a><span class="co"># remove diagonal and upper half</span></span>
<span id="cb8-15"><a href="#cb8-15" aria-hidden="true" tabindex="-1"></a>fig.update_traces(</span>
<span id="cb8-16"><a href="#cb8-16" aria-hidden="true" tabindex="-1"></a>    showupperhalf<span class="op">=</span><span class="va">False</span>, diagonal_visible<span class="op">=</span><span class="va">False</span></span>
<span id="cb8-17"><a href="#cb8-17" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="295d8f31-fa40-4597-857c-14bca5c78f63" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("295d8f31-fa40-4597-857c-14bca5c78f63")) {                    Plotly.newPlot(                        "295d8f31-fa40-4597-857c-14bca5c78f63",                        [{"dimensions":[{"axis":{"matches":true},"label":"Overall Swing","values":[50.4,42.8,47.5,48.0,51.1,51.2,48.4,48.3,49.7,47.8,56.1,53.0,49.4,44.5,50.3,47.0,47.3,46.9,49.3,47.8,45.0,50.9,51.2,47.0,38.3,45.2,44.3,43.9,47.2,56.4,49.4,42.0,41.8,46.8,62.3,44.5,56.9,49.5,49.7,49.8,58.0,54.2,43.3,50.3,44.6,44.1,53.3,44.8,48.7,42.8,44.7,45.7,48.8,39.1,43.2,47.7,42.0,51.5,45.3,57.8,50.0,48.1,49.1,43.4,43.4,43.2,44.2,39.4,50.2,51.2,44.9,52.1,49.7,42.8,51.5,43.8,49.4,51.7,53.4,51.4,44.5,51.4,51.6,49.8,54.3,49.1,41.4,53.7,40.4,45.9,52.0,42.7,52.4,49.5,47.1,47.6,41.0,48.6,46.8,48.0,48.2,58.8,44.7,45.6,45.4,52.9,44.5,39.6,47.7,61.9,53.2,41.5,37.2,48.8,55.7,48.0,52.3,49.1,48.8,48.7,44.2,43.2,46.3,44.9,42.9,48.9,39.9,47.4,46.2]},{"axis":{"matches":true},"label":"Zone Swing","values":[74.0,59.3,67.1,73.1,69.5,74.7,63.7,68.2,67.8,68.0,75.8,79.5,73.7,64.8,72.3,62.7,69.7,65.6,69.2,66.3,65.9,73.8,74.7,68.8,57.6,68.6,66.3,64.0,66.9,74.6,68.9,65.6,62.1,72.5,82.0,64.0,80.0,69.5,72.3,67.1,79.0,72.9,64.9,72.3,63.5,59.6,70.5,65.6,71.0,62.1,61.3,69.2,66.1,57.6,63.4,64.4,67.4,68.6,67.8,77.3,75.9,65.4,70.8,63.6,61.7,64.8,66.7,53.5,72.6,72.3,65.6,74.9,71.1,64.3,72.1,64.0,66.7,69.0,75.3,74.5,60.1,72.7,72.4,63.0,74.7,73.0,59.8,74.8,60.8,67.8,72.4,62.8,70.1,71.2,66.9,70.3,59.5,67.9,63.9,68.6,71.3,77.7,64.7,68.6,65.7,78.2,64.8,59.6,65.1,78.6,73.5,57.0,59.0,69.5,77.6,69.3,74.0,68.1,73.4,69.9,63.7,64.7,63.0,60.3,61.0,67.9,60.6,71.0,66.5]},{"axis":{"matches":true},"label":"Out of Zone Swing","values":[30.2,25.4,29.2,24.3,32.9,26.9,31.8,28.1,33.8,30.5,38.0,27.8,26.6,26.8,32.2,30.4,26.6,26.5,29.1,30.7,23.1,30.4,28.7,26.2,18.4,23.2,23.1,22.8,27.0,37.4,31.7,17.2,21.5,26.5,44.1,25.0,34.4,30.7,28.7,32.4,37.8,36.9,23.4,29.9,24.2,28.3,35.4,24.1,24.0,22.0,25.5,21.4,31.9,19.2,23.7,28.4,18.7,37.3,24.7,42.9,25.2,29.3,27.6,21.2,26.9,20.8,23.2,24.7,31.0,32.1,23.6,33.6,27.2,23.0,29.7,22.9,33.0,36.0,32.6,30.0,28.9,31.7,29.7,35.3,37.3,23.5,24.9,33.9,21.1,23.2,34.0,23.5,36.5,28.1,25.9,25.9,24.3,29.9,30.0,27.5,26.0,42.6,26.5,21.9,25.1,33.4,24.8,20.7,29.5,46.4,36.1,25.8,18.3,29.0,34.5,25.1,32.7,31.2,27.4,26.3,23.7,19.0,31.7,27.8,25.9,31.3,20.9,25.6,26.3]},{"axis":{"matches":true},"label":"Meatball Swing","values":[86.2,71.2,76.7,78.0,77.8,83.1,71.3,78.5,73.0,79.1,84.6,90.2,83.5,76.0,81.3,70.5,79.5,75.0,84.2,75.0,78.9,81.1,81.1,81.7,63.9,86.5,74.7,76.6,78.5,80.3,77.0,80.2,72.4,81.0,89.1,71.0,90.3,75.8,82.3,77.1,86.5,81.3,72.8,83.1,71.5,66.3,79.1,79.0,88.7,72.8,71.6,78.4,77.4,67.8,67.1,75.9,81.1,76.0,84.7,81.7,92.1,73.6,74.1,74.7,76.5,78.4,77.8,56.3,79.5,80.2,70.9,84.0,89.0,71.7,84.4,73.7,68.5,74.6,84.5,82.7,63.9,77.0,80.4,72.0,81.8,87.5,67.7,82.5,76.1,80.2,80.1,69.0,78.2,82.7,77.1,81.7,72.0,85.2,72.4,79.5,82.7,85.6,72.4,81.7,77.5,86.3,75.4,70.9,71.5,84.4,83.3,59.9,72.1,79.9,84.5,80.0,85.9,78.2,82.7,82.3,68.0,78.0,77.3,72.8,72.2,76.3,74.1,76.9,78.2]}],"hovertemplate":"%{xaxis.title.text}=%{x}\u003cbr\u003e%{yaxis.title.text}=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"name":"","showlegend":false,"type":"splom","diagonal":{"visible":false},"showupperhalf":false}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"legend":{"tracegroupgap":0},"dragmode":"select"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('295d8f31-fa40-4597-857c-14bca5c78f63');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<hr>
<p>The swing decision metrics are clearly related, which should be expected, given how each feature represents a hitter’s tendency to swing in a certain context. The following section will discuss the significance of this, and why Principal Component Analysis is an appropriate technique to use in this scenario.</p>
</section>
</section>
<section id="pca" class="level2">
<h2 class="anchored" data-anchor-id="pca">3: PCA</h2>
<p>Principal Component Analysis (PCA) is a dimensionality reduction technique that re-captures the variance of dataset features as new, non-correlated components <span class="citation" data-cites="principa2025">(<a href="#ref-principa2025" role="doc-biblioref">GeeksforGeeks, 2025</a>)</span>. This enables PCA to capture large portions of a datset’s variance with fewer components, as a Principal Component (PC) can simultaneously represent the same variance from multiple features. This made PCA an appropriate technique for this data, since I knew the four features of interest were highly correlated and related to some tendency to swing. Thus, I predicted that the first PC would relate to a hitter’s tendency to swing in general, since that was the commonality among the four features. Once the variance from the general tendency to swing was accounted for–and thus removed from the model–I predicted the remaining variance captured by the second PC would relate to a hitter’s pitch discernment (i.e., tendency to swing at good pitches instead of bad ones), since that was largely what differentiated the four features of interest.</p>
<section id="pca-function" class="level3">
<h3 class="anchored" data-anchor-id="pca-function">3.1: PCA Function</h3>
<p>Because I intended to perform PCA on the same features for each year, I created a function that could run PCA and save the outputs for further investigation. Since I would need to map the PCs back to the original dataframes, I created dictionaries that linked season arguments (e.g., 2024) back to the <code>disc_metrics_df_</code> and <code>disc_df_</code> dataframes corresponding to that season.</p>
<p>Here are the steps of the function laid out sequentially:</p>
<ol type="1">
<li>Standardize the data so each feature has a mean of 0 and standard deviation of 1</li>
<li>Fit the PCA model to the standardized data to create a PCA model with the same number of PCs as the number of features</li>
<li>Create a covariance matrix to calculate eigenvalues and the proportion of variance captured by each PC</li>
<li>Store eigenvalues and captured variance in a table and figures</li>
<li>Create a loadings table to show how PCs relate to the original features</li>
<li>Create a biplot figure to show superimposed loading scores on top of standardized data (code adapted from Plotly’s PCA documentation <span class="citation" data-cites="pcavisu">(<a href="#ref-pcavisu" role="doc-biblioref">Plotly, n.d.</a>)</span>)</li>
<li>Transform each player’s standardized data to PC1 and PC2 scores and map PC1 and PC2 columns back to original dataframe</li>
<li>Define correlation plot to show how PCs relate to discipline metrics (e.g., pitcher per plate appearance, strikeout percentage, and walk percentage)</li>
<li>Organize each output for easy calls later</li>
</ol>
<div id="0e1d158a" class="cell" data-execution_count="8">
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create dictionary to map results back to its disc_metrics_df</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>disc_metrics_dict <span class="op">=</span> {</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2021"</span>: disc_metrics_df_21,</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2022"</span>: disc_metrics_df_22,</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2023"</span>: disc_metrics_df_23,</span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2024"</span>: disc_metrics_df_24</span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="co"># create dictionary to map results back to its disc_df</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a>disc_dict <span class="op">=</span> {</span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2021"</span>: disc_df_21,</span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2022"</span>: disc_df_22,</span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2023"</span>: disc_df_23,</span>
<span id="cb9-14"><a href="#cb9-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">"2024"</span>: disc_df_24</span>
<span id="cb9-15"><a href="#cb9-15" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="14abf677" class="cell" data-execution_count="9">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># accept dataframe and year (e.g., 2024) as arguments, along with year and df mappings</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> run_PCA(df, disc_metrics_dict, disc_dict, year):</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># scale data to have mean of 0 and sd of 1 (standardized)</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    scaler <span class="op">=</span> StandardScaler()</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create as dataframe with original columns</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>    standardized_decisions_df <span class="op">=</span> pd.DataFrame(</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>        scaler.fit_transform(df), columns <span class="op">=</span> df.columns</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>    <span class="co"># initialize PCA object, with number of components as length of features</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>    pca <span class="op">=</span> PCA(</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>        n_components<span class="op">=</span>standardized_decisions_df.shape[<span class="dv">1</span>]</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># run PCA</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>    pca.fit(standardized_decisions_df)</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># fit PCA model to scaled data for further examination</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>    vars_pca <span class="op">=</span> pd.DataFrame(</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>        pca.transform(standardized_decisions_df), </span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>        columns<span class="op">=</span>[<span class="st">'PC1'</span>, <span class="st">'PC2'</span>, <span class="st">'PC3'</span>, <span class="st">'PC4'</span>]</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create covariance matrix as product of matrix multiplication, divided by number of observations</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>    cov_matrix <span class="op">=</span> np.dot(</span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>        standardized_decisions_df.T, </span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>        standardized_decisions_df</span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>        )<span class="op">/</span>standardized_decisions_df.shape[<span class="dv">0</span>]</span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create array of eigenvalues using product of cov_matrix with each component</span></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>    eigenvalues <span class="op">=</span> np.array(</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>        [</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>            np.dot(eigenvector.T, np.dot(cov_matrix, eigenvector))</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>            <span class="cf">for</span> eigenvector <span class="kw">in</span> pca.components_</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>            ]</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># calculate the proportion of total variance each component accounts for</span></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a>    prop_var <span class="op">=</span> eigenvalues<span class="op">/</span>np.<span class="bu">sum</span>(eigenvalues)</span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create dataframe to display Eigenvalue and Explained Variance for each PC</span></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>    PC_values <span class="op">=</span> pd.DataFrame(</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Eigenvalue'</span>: eigenvalues,</span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a>        <span class="st">'Explained Variance'</span>: prop_var, </span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a>        }, </span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a>        index <span class="op">=</span> [<span class="st">'PC1'</span>, <span class="st">'PC2'</span>, <span class="st">'PC3'</span>, <span class="st">'PC4'</span>]</span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create figure to plot eigenvalues for each PC</span></span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>    eigenvalue_fig <span class="op">=</span> px.line(</span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a>        PC_values, </span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>PC_values.index,</span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">"Eigenvalue"</span>, </span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>        labels<span class="op">=</span>{</span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a>            <span class="st">'index'</span>: <span class="st">'Principal Component'</span>, </span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>            <span class="st">'Eigenvalue'</span>: <span class="st">'Eigenvalue'</span></span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a>    <span class="co"># add horizontal line at 1 for people who like this rule</span></span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a>    eigenvalue_fig.add_hline(y<span class="op">=</span><span class="dv">1</span>, line_color<span class="op">=</span><span class="st">"red"</span>, line_dash<span class="op">=</span><span class="st">"dash"</span>)</span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create figure to plot eigenvalues for each PC</span></span>
<span id="cb10-63"><a href="#cb10-63" aria-hidden="true" tabindex="-1"></a>    variance_fig <span class="op">=</span> px.line(</span>
<span id="cb10-64"><a href="#cb10-64" aria-hidden="true" tabindex="-1"></a>        PC_values, </span>
<span id="cb10-65"><a href="#cb10-65" aria-hidden="true" tabindex="-1"></a>        x<span class="op">=</span>PC_values.index,</span>
<span id="cb10-66"><a href="#cb10-66" aria-hidden="true" tabindex="-1"></a>        y<span class="op">=</span><span class="st">"Explained Variance"</span>,</span>
<span id="cb10-67"><a href="#cb10-67" aria-hidden="true" tabindex="-1"></a>        labels<span class="op">=</span>{</span>
<span id="cb10-68"><a href="#cb10-68" aria-hidden="true" tabindex="-1"></a>            <span class="st">'index'</span>: <span class="st">'Principal Component'</span>, </span>
<span id="cb10-69"><a href="#cb10-69" aria-hidden="true" tabindex="-1"></a>            <span class="st">'Explained Variance'</span>: <span class="st">'Variance Explained (Proportion)'</span></span>
<span id="cb10-70"><a href="#cb10-70" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb10-71"><a href="#cb10-71" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-72"><a href="#cb10-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-73"><a href="#cb10-73" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create dataframe to map loading scores of original features to PCs </span></span>
<span id="cb10-74"><a href="#cb10-74" aria-hidden="true" tabindex="-1"></a>    loadings <span class="op">=</span> pd.DataFrame(</span>
<span id="cb10-75"><a href="#cb10-75" aria-hidden="true" tabindex="-1"></a>        pca.components_.T, </span>
<span id="cb10-76"><a href="#cb10-76" aria-hidden="true" tabindex="-1"></a>        columns <span class="op">=</span> [<span class="st">'PC1'</span>, <span class="st">'PC2'</span>, <span class="st">'PC3'</span>, <span class="st">'PC4'</span>], </span>
<span id="cb10-77"><a href="#cb10-77" aria-hidden="true" tabindex="-1"></a>        index <span class="op">=</span> standardized_decisions_df.columns</span>
<span id="cb10-78"><a href="#cb10-78" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-79"><a href="#cb10-79" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb10-80"><a href="#cb10-80" aria-hidden="true" tabindex="-1"></a>    <span class="co"># save feature loadings for biplot figure</span></span>
<span id="cb10-81"><a href="#cb10-81" aria-hidden="true" tabindex="-1"></a>    biplot_loadings <span class="op">=</span> pca.components_</span>
<span id="cb10-82"><a href="#cb10-82" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-83"><a href="#cb10-83" aria-hidden="true" tabindex="-1"></a>    <span class="co"># save features </span></span>
<span id="cb10-84"><a href="#cb10-84" aria-hidden="true" tabindex="-1"></a>    features <span class="op">=</span> standardized_decisions_df.columns</span>
<span id="cb10-85"><a href="#cb10-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-86"><a href="#cb10-86" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Code for biplot figure adapted from Plotly (n.d.)</span></span>
<span id="cb10-87"><a href="#cb10-87" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create biplot to visualize data and feature loadings in same figure</span></span>
<span id="cb10-88"><a href="#cb10-88" aria-hidden="true" tabindex="-1"></a>    <span class="co"># initialize figure as scatterplot using observations in feature space</span></span>
<span id="cb10-89"><a href="#cb10-89" aria-hidden="true" tabindex="-1"></a>    biplot_fig <span class="op">=</span> px.scatter(vars_pca, x<span class="op">=</span><span class="st">'PC1'</span>, y<span class="op">=</span><span class="st">'PC2'</span>)</span>
<span id="cb10-90"><a href="#cb10-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-91"><a href="#cb10-91" aria-hidden="true" tabindex="-1"></a>    <span class="co"># loop through feature loading scores </span></span>
<span id="cb10-92"><a href="#cb10-92" aria-hidden="true" tabindex="-1"></a>    <span class="co"># draw arrows from origin to loading scores on PC1 and PC2</span></span>
<span id="cb10-93"><a href="#cb10-93" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i, feature <span class="kw">in</span> <span class="bu">enumerate</span>(features):</span>
<span id="cb10-94"><a href="#cb10-94" aria-hidden="true" tabindex="-1"></a>        biplot_fig.add_annotation(</span>
<span id="cb10-95"><a href="#cb10-95" aria-hidden="true" tabindex="-1"></a>            ax<span class="op">=</span><span class="dv">0</span>, ay<span class="op">=</span><span class="dv">0</span>, </span>
<span id="cb10-96"><a href="#cb10-96" aria-hidden="true" tabindex="-1"></a>            axref<span class="op">=</span><span class="st">"x"</span>, ayref<span class="op">=</span><span class="st">"y"</span>,</span>
<span id="cb10-97"><a href="#cb10-97" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span>biplot_loadings[<span class="dv">0</span>, i],</span>
<span id="cb10-98"><a href="#cb10-98" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span>biplot_loadings[<span class="dv">1</span>, i],</span>
<span id="cb10-99"><a href="#cb10-99" aria-hidden="true" tabindex="-1"></a>            showarrow<span class="op">=</span><span class="va">True</span>,</span>
<span id="cb10-100"><a href="#cb10-100" aria-hidden="true" tabindex="-1"></a>            arrowsize<span class="op">=</span><span class="dv">2</span>,</span>
<span id="cb10-101"><a href="#cb10-101" aria-hidden="true" tabindex="-1"></a>            arrowhead<span class="op">=</span><span class="dv">2</span>,</span>
<span id="cb10-102"><a href="#cb10-102" aria-hidden="true" tabindex="-1"></a>            xanchor<span class="op">=</span><span class="st">"right"</span>,</span>
<span id="cb10-103"><a href="#cb10-103" aria-hidden="true" tabindex="-1"></a>            yanchor<span class="op">=</span><span class="st">"top"</span></span>
<span id="cb10-104"><a href="#cb10-104" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb10-105"><a href="#cb10-105" aria-hidden="true" tabindex="-1"></a>        biplot_fig.add_annotation(</span>
<span id="cb10-106"><a href="#cb10-106" aria-hidden="true" tabindex="-1"></a>            x<span class="op">=</span>biplot_loadings[<span class="dv">0</span>, i],</span>
<span id="cb10-107"><a href="#cb10-107" aria-hidden="true" tabindex="-1"></a>            y<span class="op">=</span>biplot_loadings[<span class="dv">1</span>, i],</span>
<span id="cb10-108"><a href="#cb10-108" aria-hidden="true" tabindex="-1"></a>            ax<span class="op">=</span><span class="dv">0</span>, ay<span class="op">=</span><span class="dv">0</span>, </span>
<span id="cb10-109"><a href="#cb10-109" aria-hidden="true" tabindex="-1"></a>            xanchor<span class="op">=</span><span class="st">"center"</span>,</span>
<span id="cb10-110"><a href="#cb10-110" aria-hidden="true" tabindex="-1"></a>            yanchor<span class="op">=</span><span class="st">"bottom"</span>,</span>
<span id="cb10-111"><a href="#cb10-111" aria-hidden="true" tabindex="-1"></a>            text<span class="op">=</span>feature,</span>
<span id="cb10-112"><a href="#cb10-112" aria-hidden="true" tabindex="-1"></a>            yshift<span class="op">=</span><span class="dv">5</span></span>
<span id="cb10-113"><a href="#cb10-113" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb10-114"><a href="#cb10-114" aria-hidden="true" tabindex="-1"></a>        <span class="co"># soften the data points to make feature loadings clearer</span></span>
<span id="cb10-115"><a href="#cb10-115" aria-hidden="true" tabindex="-1"></a>        biplot_fig.update_traces(opacity<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb10-116"><a href="#cb10-116" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-117"><a href="#cb10-117" aria-hidden="true" tabindex="-1"></a>    <span class="co"># transform scaled data to create PC1 and PC2 scores for each hitter</span></span>
<span id="cb10-118"><a href="#cb10-118" aria-hidden="true" tabindex="-1"></a>    PC1 <span class="op">=</span> pd.DataFrame(</span>
<span id="cb10-119"><a href="#cb10-119" aria-hidden="true" tabindex="-1"></a>        pca.fit_transform(standardized_decisions_df)[:, <span class="dv">0</span>], </span>
<span id="cb10-120"><a href="#cb10-120" aria-hidden="true" tabindex="-1"></a>        columns<span class="op">=</span>[<span class="st">'PC1'</span>]</span>
<span id="cb10-121"><a href="#cb10-121" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb10-122"><a href="#cb10-122" aria-hidden="true" tabindex="-1"></a>    PC2 <span class="op">=</span> pd.DataFrame(</span>
<span id="cb10-123"><a href="#cb10-123" aria-hidden="true" tabindex="-1"></a>        pca.fit_transform(standardized_decisions_df)[:, <span class="dv">1</span>], </span>
<span id="cb10-124"><a href="#cb10-124" aria-hidden="true" tabindex="-1"></a>        columns<span class="op">=</span>[<span class="st">'PC2'</span>]</span>
<span id="cb10-125"><a href="#cb10-125" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb10-126"><a href="#cb10-126" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb10-127"><a href="#cb10-127" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create df strings for multiple uses</span></span>
<span id="cb10-128"><a href="#cb10-128" aria-hidden="true" tabindex="-1"></a>    <span class="co"># map back toperformance_df_24_ using year_suffix</span></span>
<span id="cb10-129"><a href="#cb10-129" aria-hidden="true" tabindex="-1"></a>    disc_metrics_dict[year][<span class="st">'PC1'</span>] <span class="op">=</span> PC1[<span class="st">'PC1'</span>]</span>
<span id="cb10-130"><a href="#cb10-130" aria-hidden="true" tabindex="-1"></a>    disc_metrics_dict[year][<span class="st">'PC2'</span>] <span class="op">=</span> PC2[<span class="st">'PC2'</span>]</span>
<span id="cb10-131"><a href="#cb10-131" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-132"><a href="#cb10-132" aria-hidden="true" tabindex="-1"></a>    disc_dict[year][<span class="st">'PC1'</span>] <span class="op">=</span> PC1[<span class="st">'PC1'</span>]</span>
<span id="cb10-133"><a href="#cb10-133" aria-hidden="true" tabindex="-1"></a>    disc_dict[year][<span class="st">'PC2'</span>] <span class="op">=</span> PC2[<span class="st">'PC2'</span>]</span>
<span id="cb10-134"><a href="#cb10-134" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-135"><a href="#cb10-135" aria-hidden="true" tabindex="-1"></a>    <span class="co"># create correlation plot for PCs and discipline metrics</span></span>
<span id="cb10-136"><a href="#cb10-136" aria-hidden="true" tabindex="-1"></a>    corr_plot <span class="op">=</span> px.scatter_matrix(</span>
<span id="cb10-137"><a href="#cb10-137" aria-hidden="true" tabindex="-1"></a>        disc_metrics_dict[year], </span>
<span id="cb10-138"><a href="#cb10-138" aria-hidden="true" tabindex="-1"></a>        dimensions<span class="op">=</span>[</span>
<span id="cb10-139"><a href="#cb10-139" aria-hidden="true" tabindex="-1"></a>            <span class="st">'PC1'</span>, <span class="st">'PC2'</span>, <span class="st">'pitches_pa'</span>, <span class="st">'k_percent'</span>, <span class="st">'bb_percent'</span></span>
<span id="cb10-140"><a href="#cb10-140" aria-hidden="true" tabindex="-1"></a>        ], </span>
<span id="cb10-141"><a href="#cb10-141" aria-hidden="true" tabindex="-1"></a>        labels<span class="op">=</span>{</span>
<span id="cb10-142"><a href="#cb10-142" aria-hidden="true" tabindex="-1"></a>            <span class="st">'PC1'</span>: <span class="st">'PC1'</span>, </span>
<span id="cb10-143"><a href="#cb10-143" aria-hidden="true" tabindex="-1"></a>            <span class="st">'PC2'</span>: <span class="st">'PC2'</span>, </span>
<span id="cb10-144"><a href="#cb10-144" aria-hidden="true" tabindex="-1"></a>            <span class="st">'pitches_pa'</span>: <span class="st">'Pitches per PA'</span>, </span>
<span id="cb10-145"><a href="#cb10-145" aria-hidden="true" tabindex="-1"></a>            <span class="st">'k_percent'</span>: <span class="st">'Strikeout %'</span>, </span>
<span id="cb10-146"><a href="#cb10-146" aria-hidden="true" tabindex="-1"></a>            <span class="st">'bb_percent'</span>: <span class="st">'Walk %'</span></span>
<span id="cb10-147"><a href="#cb10-147" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb10-148"><a href="#cb10-148" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb10-149"><a href="#cb10-149" aria-hidden="true" tabindex="-1"></a>    corr_plot.update_traces(</span>
<span id="cb10-150"><a href="#cb10-150" aria-hidden="true" tabindex="-1"></a>        showupperhalf<span class="op">=</span><span class="va">False</span>, diagonal_visible<span class="op">=</span><span class="va">False</span></span>
<span id="cb10-151"><a href="#cb10-151" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb10-152"><a href="#cb10-152" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-153"><a href="#cb10-153" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-154"><a href="#cb10-154" aria-hidden="true" tabindex="-1"></a>    <span class="co"># define results set as outputs to call after running</span></span>
<span id="cb10-155"><a href="#cb10-155" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> {</span>
<span id="cb10-156"><a href="#cb10-156" aria-hidden="true" tabindex="-1"></a>        <span class="st">'pc_values'</span>: PC_values,</span>
<span id="cb10-157"><a href="#cb10-157" aria-hidden="true" tabindex="-1"></a>        <span class="st">'loadings'</span>: loadings,</span>
<span id="cb10-158"><a href="#cb10-158" aria-hidden="true" tabindex="-1"></a>        <span class="st">'disc_metrics_df'</span>: disc_metrics_dict[year],</span>
<span id="cb10-159"><a href="#cb10-159" aria-hidden="true" tabindex="-1"></a>        <span class="st">'disc_df'</span>: disc_dict[year],</span>
<span id="cb10-160"><a href="#cb10-160" aria-hidden="true" tabindex="-1"></a>        <span class="st">'eigenvalue_fig'</span>: eigenvalue_fig, </span>
<span id="cb10-161"><a href="#cb10-161" aria-hidden="true" tabindex="-1"></a>        <span class="st">'variance_fig'</span>: variance_fig, </span>
<span id="cb10-162"><a href="#cb10-162" aria-hidden="true" tabindex="-1"></a>        <span class="st">'biplot_fig'</span>: biplot_fig,</span>
<span id="cb10-163"><a href="#cb10-163" aria-hidden="true" tabindex="-1"></a>        <span class="st">'corr_plot'</span>: corr_plot</span>
<span id="cb10-164"><a href="#cb10-164" aria-hidden="true" tabindex="-1"></a>    }</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
</section>
<section id="section" class="level1 page-columns page-full">
<h1>4: 2024</h1>
<p>Now we can call the function on the 2024 data and inspect the results sequentially.</p>
<div id="95f13a3d" class="cell" data-execution_count="10">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="co"># run PCA for 2024</span></span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>PCA_results_24 <span class="op">=</span> run_PCA(</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>    df<span class="op">=</span>decisions_df_24, </span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>    disc_dict<span class="op">=</span>disc_dict, </span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>    disc_metrics_dict<span class="op">=</span>disc_metrics_dict, </span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>    year<span class="op">=</span><span class="st">"2024"</span></span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># show PC eigenvalue/explained variance as table</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>display(Markdown(PCA_results_24[<span class="st">'pc_values'</span>].<span class="bu">round</span>(<span class="dv">3</span>).to_markdown()))</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a><span class="co"># show loading scores of features to show what PCs mean</span></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>display(Markdown(PCA_results_24[<span class="st">'loadings'</span>].<span class="bu">round</span>(<span class="dv">3</span>).to_markdown()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="a249ea62" class="cell column-body quarto-layout-panel" data-layout="[[40,60]]" data-execution_count="11">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 40.0%;justify-content: center;">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Eigenvalue</th>
<th style="text-align: right;">Explained Variance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">PC1</td>
<td style="text-align: right;">3.152</td>
<td style="text-align: right;">0.788</td>
</tr>
<tr class="even">
<td style="text-align: left;">PC2</td>
<td style="text-align: right;">0.737</td>
<td style="text-align: right;">0.184</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PC3</td>
<td style="text-align: right;">0.095</td>
<td style="text-align: right;">0.024</td>
</tr>
<tr class="even">
<td style="text-align: left;">PC4</td>
<td style="text-align: right;">0.016</td>
<td style="text-align: right;">0.004</td>
</tr>
</tbody>
</table>
</div>
<div class="quarto-layout-cell" style="flex-basis: 60.0%;justify-content: center;">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">PC1</th>
<th style="text-align: right;">PC2</th>
<th style="text-align: right;">PC3</th>
<th style="text-align: right;">PC4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">z_swing_percent</td>
<td style="text-align: right;">0.536</td>
<td style="text-align: right;">-0.254</td>
<td style="text-align: right;">0.677</td>
<td style="text-align: right;">-0.435</td>
</tr>
<tr class="even">
<td style="text-align: left;">oz_swing_percent</td>
<td style="text-align: right;">0.454</td>
<td style="text-align: right;">0.673</td>
<td style="text-align: right;">-0.387</td>
<td style="text-align: right;">-0.437</td>
</tr>
<tr class="odd">
<td style="text-align: left;">meatball_swing_percent</td>
<td style="text-align: right;">0.454</td>
<td style="text-align: right;">-0.654</td>
<td style="text-align: right;">-0.605</td>
<td style="text-align: right;">0</td>
</tr>
<tr class="even">
<td style="text-align: left;">swing_percent</td>
<td style="text-align: right;">0.548</td>
<td style="text-align: right;">0.234</td>
<td style="text-align: right;">0.159</td>
<td style="text-align: right;">0.787</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<p>The eigenvalues and proportion of explained variance quantify how effective each PC is at capturing the model variance in feature space. The proportion of explained variance is calculated from the eigenvalues, which explains why the figures in the next output are nearly identical. Typically, an eigenvalue of one or more denotes a strong PC worth keeping in the model, but I also look to see where the “dropoff” in explained variance is, since that indicates when adding another PC does not substantially improve the model. Since PC1 and PC2 combine to explain nearly all of the variance in the model (97.2%), I opted to keep those two for further investigation.</p>
<p>The loading scores relate each PC to the scaled features, and can be used to gauge which features that PC encapsulates. All four swing metrics load positively on PC1 (i.e., higher scores on each feature tend to have higher PC1 scores), which suggests PC1 represents the general tendency to swing. Outside of zone swing and swing percentage load positively on PC2, whereas zone swing and meatball swing load negatively. This suggests PC2 represents the tendency to swing at pitches out of the zone or at any pitch, without swinging more at meatballs or pitches in the zone.</p>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>PCA_results_24[<span class="st">'eigenvalue_fig'</span>].show()</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>PCA_results_24[<span class="st">'variance_fig'</span>].show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="1ac4fc42" class="cell column-body quarto-layout-panel" data-execution_count="12" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div>                            <div id="e6775834-889c-44bc-a26a-b934578600be" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("e6775834-889c-44bc-a26a-b934578600be")) {                    Plotly.newPlot(                        "e6775834-889c-44bc-a26a-b934578600be",                        [{"hovertemplate":"Principal Component=%{x}\u003cbr\u003eEigenvalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":["PC1","PC2","PC3","PC4"],"xaxis":"x","y":[3.1524129456093566,0.7367832179637063,0.09500333417039428,0.01580050225654352],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Principal Component"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Eigenvalue"}},"legend":{"tracegroupgap":0},"shapes":[{"line":{"color":"red","dash":"dash"},"type":"line","x0":0,"x1":1,"xref":"x domain","y0":1,"y1":1,"yref":"y"}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('e6775834-889c-44bc-a26a-b934578600be');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div>                            <div id="a528323e-6a64-4140-9e48-da6d5df76a5c" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("a528323e-6a64-4140-9e48-da6d5df76a5c")) {                    Plotly.newPlot(                        "a528323e-6a64-4140-9e48-da6d5df76a5c",                        [{"hovertemplate":"Principal Component=%{x}\u003cbr\u003eVariance Explained (Proportion)=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":["PC1","PC2","PC3","PC4"],"xaxis":"x","y":[0.7881032364023389,0.18419580449092654,0.023750833542598562,0.003950125564135879],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Principal Component"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Variance Explained (Proportion)"}},"legend":{"tracegroupgap":0}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('a528323e-6a64-4140-9e48-da6d5df76a5c');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</div>
<div id="2c9932f4" class="cell" data-execution_count="13">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>PCA_results_24[<span class="st">'biplot_fig'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="25431cb4-85f8-4e65-b372-fa091cfb5351" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("25431cb4-85f8-4e65-b372-fa091cfb5351")) {                    Plotly.newPlot(                        "25431cb4-85f8-4e65-b372-fa091cfb5351",                        [{"hovertemplate":"PC1=%{x}\u003cbr\u003ePC2=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"mode":"markers","name":"","orientation":"v","showlegend":false,"x":[1.62375732545916,-2.170985206360124,-0.154300891575781,0.17498161841109763,0.8842741819225166,1.2887733004917568,-0.554749235575921,0.08577109995639332,0.2818684694266896,0.24890277807188682,2.9924796481226172,2.55263092468939,0.9853100434266071,-0.9768001496068494,1.2571501201113169,-0.9888673179009918,0.06243489239564494,-0.7151914269220159,0.795302607081053,-0.19617556371753594,-0.9062333647771861,1.309778163946909,1.2919701678069508,0.06684615061526625,-3.968700946450075,-0.06259852443763005,-1.2541957131479813,-1.4103231963395886,-0.2594475301148198,2.550539220450191,0.4700901563951067,-1.6786243630849131,-2.251796143236438,0.3748936552047501,5.147350669765058,-1.5648273941167798,3.609051280461244,0.37046334122964675,0.9711054437758037,0.40794495952912063,3.6458633505753775,2.1595476566070677,-1.6198355821919164,1.1982852309104353,-1.6310331482085858,-2.1060069192145585,1.5390462118967279,-0.8690978951056617,0.8052294133683331,-2.064334878800641,-1.7176201014641157,-0.6814464939280993,0.17459855757875936,-3.526237444143396,-2.16508697554029,-0.5156330477731385,-1.3159224550860777,1.0759858709386068,-0.13518202181308228,3.5300152578218444,1.7765439924835333,-0.46473418244925335,0.07068154834640894,-1.7771157840228742,-1.3609124269679198,-1.4492827238536208,-0.9942774814942128,-4.26820427635752,1.045104874104926,1.2747267817399905,-1.485809920261474,2.0305603789398257,1.2174082403503033,-1.849151414681441,1.3974958311079688,-1.624077516769659,-0.251751392600999,0.9295598324991329,2.1756123152524403,1.5191412965719753,-2.1353774077595813,1.0718968206424422,1.1482044746639704,-0.11926146879619784,2.414409299620293,0.9172499060580875,-2.5818040632622323,2.1245109461568354,-2.3063072654595578,-0.5145719824263206,1.527410574572287,-2.1604269987233424,1.4201436453761076,0.8209462526514238,-0.46324927118925563,0.2574770819500849,-2.395350538609337,0.7259402284586284,-0.7915395594419973,0.11234020965781015,0.5052263052795191,3.9440238183641796,-1.2487164019462655,-0.4707309262407759,-0.8154781355722107,2.5935870606611853,-1.1849716480706793,-2.9260552896827154,-0.676431615830891,4.620473478344517,2.1793753210086857,-3.3320805509548888,-3.376140120587032,0.4456512883746071,2.8240872212706933,0.018634044386154836,2.030699647469897,0.40342870258786345,0.8938088277318194,0.42427983453425544,-1.9535505114267346,-1.6361503800449033,-0.4419256615627957,-1.5144250446760088,-1.8813023240173268,0.2311206223471068,-2.545753895965193,-0.0710500068186938,-0.4947803528501769],"xaxis":"x","y":[-0.77492435793375,0.5005562125933802,0.2669835065779473,-0.7172091931154053,0.6735919788100013,-0.846018450275103,1.3494370108802332,-0.06578950192093465,1.2928700021850879,0.14866376533212478,0.5467189228324366,-1.6080724684764782,-0.9685389286267407,0.0026837319390234176,0.054067103241188706,1.2380004646542744,-0.4721648510766097,0.15381778138340196,-0.535045823505596,0.6793692386641831,-0.7773643877914138,-0.18357614069670136,-0.4173772293401452,-0.7245167987760279,0.261693084775866,-1.6729505799210596,-0.39197004402623536,-0.5415455038671574,-0.19541414856439043,0.992725287769888,0.5532173354234886,-1.7695728633305297,-0.2793086043462402,-0.7945262177722059,0.8467594811065337,0.34198628180774404,-0.6408453760105658,0.5339809101588293,-0.5076186378698346,0.7307975256830608,0.2720080511876085,0.7952307513893498,-0.14263774024903295,-0.41471359104858874,0.22004290093720633,1.4176432473328828,0.9070655146662528,-0.661982274918846,-1.7402369714850183,-0.21006430950548405,0.4742140349553651,-1.0490452493003586,0.6343084390879374,-0.008063054951870477,0.5532392116582039,0.3867759903393202,-1.7630759586588964,1.4599975886500574,-1.2601180374954468,1.4639522248963783,-2.1087456135166702,0.7110181003699431,0.2535271334222613,-0.5450155547697394,0.04988720534494771,-1.0454085439341654,-0.72695009444975,2.0677171556385816,0.07685989513159926,0.20176755706323998,0.12813498590148864,-0.08638371232317055,-1.33556121057635,-0.07402533736061462,-0.5057554635676825,-0.23139639236529852,1.700769760321828,1.439210101716486,-0.2140343521600077,-0.40665921221977414,1.7386520379745356,0.4788710090846777,-0.09666785447091088,1.8056491988120624,0.7142420386167844,-1.7476730641317424,0.7122083563625704,0.1915136572167044,-0.7250003636594893,-0.9431326640184989,0.4795456572546837,0.33287570490906,1.1087066912853236,-0.5821745791677622,-0.18843633612073743,-0.7999564584056932,0.18354418642858586,-0.5172126085038693,0.9256407145867933,-0.2768417984536264,-0.9080937614272988,1.0515733455725713,0.35671838213567847,-1.3102129917921705,-0.357813280453851,-0.46246481674758616,-0.17876674360213868,-0.21556170095148536,0.9485678470989335,1.7544730900060428,0.41112869039664546,1.7703383872170737,-0.7263372812263836,-0.13682419448603164,0.02735922190333131,-0.6541425920170618,-0.343430140512558,0.3885339626709224,-0.8035519798395103,-0.7404597181524897,0.4954562220158817,-1.2187508548393062,0.6375740605225442,0.685484723810686,0.3841303801786709,0.5983962723370311,-0.5563102173008068,-0.37726867345864623,-0.2811658583878788],"yaxis":"y","type":"scatter","opacity":0.3}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"PC1"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"PC2"}},"legend":{"tracegroupgap":0},"annotations":[{"arrowhead":2,"arrowsize":2,"ax":0,"axref":"x","ay":0,"ayref":"y","showarrow":true,"x":0.5360133843511253,"xanchor":"right","y":-0.25447643272700127,"yanchor":"top"},{"ax":0,"ay":0,"text":"z_swing_percent","x":0.5360133843511253,"xanchor":"center","y":-0.25447643272700127,"yanchor":"bottom","yshift":5},{"arrowhead":2,"arrowsize":2,"ax":0,"axref":"x","ay":0,"ayref":"y","showarrow":true,"x":0.4538104357825944,"xanchor":"right","y":0.6727887022392969,"yanchor":"top"},{"ax":0,"ay":0,"text":"oz_swing_percent","x":0.4538104357825944,"xanchor":"center","y":0.6727887022392969,"yanchor":"bottom","yshift":5},{"arrowhead":2,"arrowsize":2,"ax":0,"axref":"x","ay":0,"ayref":"y","showarrow":true,"x":0.4540524787471109,"xanchor":"right","y":-0.654202987771073,"yanchor":"top"},{"ax":0,"ay":0,"text":"meatball_swing_percent","x":0.4540524787471109,"xanchor":"center","y":-0.654202987771073,"yanchor":"bottom","yshift":5},{"arrowhead":2,"arrowsize":2,"ax":0,"axref":"x","ay":0,"ayref":"y","showarrow":true,"x":0.5482536700423162,"xanchor":"right","y":0.23369971783702276,"yanchor":"top"},{"ax":0,"ay":0,"text":"swing_percent","x":0.5482536700423162,"xanchor":"center","y":0.23369971783702276,"yanchor":"bottom","yshift":5}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('25431cb4-85f8-4e65-b372-fa091cfb5351');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<hr>
<p>The biplot figure shows the PC1 and PC2 loading scores for each of the four features, superimposed on the data in feature space. This further supports the idea that PC1 captured all four features, whereas PC2 began to distinguish meatball and zone swing percentage from out of zone and overall swing percentage.</p>
<div id="4e38e493" class="cell" data-execution_count="14">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>PCA_results_24[<span class="st">'corr_plot'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="c6e6b1c1-f662-4602-8b6c-15243f57d6c8" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("c6e6b1c1-f662-4602-8b6c-15243f57d6c8")) {                    Plotly.newPlot(                        "c6e6b1c1-f662-4602-8b6c-15243f57d6c8",                        [{"dimensions":[{"axis":{"matches":true},"label":"PC1","values":[1.62375732545916,-2.170985206360124,-0.154300891575781,0.17498161841109763,0.8842741819225166,1.2887733004917568,-0.554749235575921,0.08577109995639332,0.2818684694266896,0.24890277807188682,2.9924796481226172,2.55263092468939,0.9853100434266071,-0.9768001496068494,1.2571501201113169,-0.9888673179009918,0.06243489239564494,-0.7151914269220159,0.795302607081053,-0.19617556371753594,-0.9062333647771861,1.309778163946909,1.2919701678069508,0.06684615061526625,-3.968700946450075,-0.06259852443763005,-1.2541957131479813,-1.4103231963395886,-0.2594475301148198,2.550539220450191,0.4700901563951067,-1.6786243630849131,-2.251796143236438,0.3748936552047501,5.147350669765058,-1.5648273941167798,3.609051280461244,0.37046334122964675,0.9711054437758037,0.40794495952912063,3.6458633505753775,2.1595476566070677,-1.6198355821919164,1.1982852309104353,-1.6310331482085858,-2.1060069192145585,1.5390462118967279,-0.8690978951056617,0.8052294133683331,-2.064334878800641,-1.7176201014641157,-0.6814464939280993,0.17459855757875936,-3.526237444143396,-2.16508697554029,-0.5156330477731385,-1.3159224550860777,1.0759858709386068,-0.13518202181308228,3.5300152578218444,1.7765439924835333,-0.46473418244925335,0.07068154834640894,-1.7771157840228742,-1.3609124269679198,-1.4492827238536208,-0.9942774814942128,-4.26820427635752,1.045104874104926,1.2747267817399905,-1.485809920261474,2.0305603789398257,1.2174082403503033,-1.849151414681441,1.3974958311079688,-1.624077516769659,-0.251751392600999,0.9295598324991329,2.1756123152524403,1.5191412965719753,-2.1353774077595813,1.0718968206424422,1.1482044746639704,-0.11926146879619784,2.414409299620293,0.9172499060580875,-2.5818040632622323,2.1245109461568354,-2.3063072654595578,-0.5145719824263206,1.527410574572287,-2.1604269987233424,1.4201436453761076,0.8209462526514238,-0.46324927118925563,0.2574770819500849,-2.395350538609337,0.7259402284586284,-0.7915395594419973,0.11234020965781015,0.5052263052795191,3.9440238183641796,-1.2487164019462655,-0.4707309262407759,-0.8154781355722107,2.5935870606611853,-1.1849716480706793,-2.9260552896827154,-0.676431615830891,4.620473478344517,2.1793753210086857,-3.3320805509548888,-3.376140120587032,0.4456512883746071,2.8240872212706933,0.018634044386154836,2.030699647469897,0.40342870258786345,0.8938088277318194,0.42427983453425544,-1.9535505114267346,-1.6361503800449033,-0.4419256615627957,-1.5144250446760088,-1.8813023240173268,0.2311206223471068,-2.545753895965193,-0.0710500068186938,-0.4947803528501769]},{"axis":{"matches":true},"label":"PC2","values":[-0.77492435793375,0.5005562125933802,0.2669835065779473,-0.7172091931154053,0.6735919788100013,-0.846018450275103,1.3494370108802332,-0.06578950192093465,1.2928700021850879,0.14866376533212478,0.5467189228324366,-1.6080724684764782,-0.9685389286267407,0.0026837319390234176,0.054067103241188706,1.2380004646542744,-0.4721648510766097,0.15381778138340196,-0.535045823505596,0.6793692386641831,-0.7773643877914138,-0.18357614069670136,-0.4173772293401452,-0.7245167987760279,0.261693084775866,-1.6729505799210596,-0.39197004402623536,-0.5415455038671574,-0.19541414856439043,0.992725287769888,0.5532173354234886,-1.7695728633305297,-0.2793086043462402,-0.7945262177722059,0.8467594811065337,0.34198628180774404,-0.6408453760105658,0.5339809101588293,-0.5076186378698346,0.7307975256830608,0.2720080511876085,0.7952307513893498,-0.14263774024903295,-0.41471359104858874,0.22004290093720633,1.4176432473328828,0.9070655146662528,-0.661982274918846,-1.7402369714850183,-0.21006430950548405,0.4742140349553651,-1.0490452493003586,0.6343084390879374,-0.008063054951870477,0.5532392116582039,0.3867759903393202,-1.7630759586588964,1.4599975886500574,-1.2601180374954468,1.4639522248963783,-2.1087456135166702,0.7110181003699431,0.2535271334222613,-0.5450155547697394,0.04988720534494771,-1.0454085439341654,-0.72695009444975,2.0677171556385816,0.07685989513159926,0.20176755706323998,0.12813498590148864,-0.08638371232317055,-1.33556121057635,-0.07402533736061462,-0.5057554635676825,-0.23139639236529852,1.700769760321828,1.439210101716486,-0.2140343521600077,-0.40665921221977414,1.7386520379745356,0.4788710090846777,-0.09666785447091088,1.8056491988120624,0.7142420386167844,-1.7476730641317424,0.7122083563625704,0.1915136572167044,-0.7250003636594893,-0.9431326640184989,0.4795456572546837,0.33287570490906,1.1087066912853236,-0.5821745791677622,-0.18843633612073743,-0.7999564584056932,0.18354418642858586,-0.5172126085038693,0.9256407145867933,-0.2768417984536264,-0.9080937614272988,1.0515733455725713,0.35671838213567847,-1.3102129917921705,-0.357813280453851,-0.46246481674758616,-0.17876674360213868,-0.21556170095148536,0.9485678470989335,1.7544730900060428,0.41112869039664546,1.7703383872170737,-0.7263372812263836,-0.13682419448603164,0.02735922190333131,-0.6541425920170618,-0.343430140512558,0.3885339626709224,-0.8035519798395103,-0.7404597181524897,0.4954562220158817,-1.2187508548393062,0.6375740605225442,0.685484723810686,0.3841303801786709,0.5983962723370311,-0.5563102173008068,-0.37726867345864623,-0.2811658583878788]},{"axis":{"matches":true},"label":"Pitches per PA","values":[3.7630057803468207,4.338491295938105,4.017713365539453,4.193840579710145,3.766726943942134,3.790654205607477,3.609984399375975,3.869387755102041,4.117293233082707,3.5653543307086615,3.749506903353057,3.5121951219512195,3.9529780564263324,4.113240418118467,3.608214849921011,4.015698587127159,3.8823529411764706,4.221705426356589,3.857142857142857,3.8501805054151625,4.195121951219512,3.951747088186356,4.0,3.8494271685761046,4.163265306122449,4.171075837742505,4.135273972602739,3.9613526570048307,3.971875,3.7914691943127963,4.010263929618769,4.2,3.8813838550247115,4.178779069767442,3.6374100719424463,4.119429590017825,3.7335581787521077,3.7322097378277155,4.302189781021898,3.6608084358523727,3.5569044006069803,3.4953846153846153,4.079124579124579,3.882239382239382,4.182380216383308,4.0402802101576185,3.755813953488372,4.143288084464555,3.9713322091062393,4.0776014109347445,3.7713365539452495,4.242105263157895,3.670157068062827,4.0092592592592595,3.7805825242718445,3.990306946688207,4.098011363636363,3.598240469208211,3.867601246105919,3.5291411042944785,3.6573816155988856,4.0595065312046446,3.87375415282392,3.769968051118211,3.9525862068965516,3.9200603318250375,4.027816411682893,4.156555772994129,3.8729641693811074,3.6671368124118477,3.774447949526814,3.978021978021978,3.5016501650165015,4.050269299820466,3.756855575868373,3.9393939393939394,3.775444264943457,3.566287878787879,3.8488745980707395,3.5787728026533996,4.064263322884012,3.9511811023622045,3.7122861586314153,3.5952380952380953,3.890701468189233,3.752442996742671,3.871345029239766,3.7903525046382187,3.9670542635658914,4.141552511415525,3.7988505747126435,4.169911504424779,3.5941278065630398,3.9723837209302326,3.9307432432432434,3.992202729044834,4.280864197530864,3.6366906474820144,3.8614173228346456,3.7331420373027258,3.680960548885077,3.4378029079159935,4.450858034321373,4.100299401197605,4.304267161410019,3.91283676703645,3.995426829268293,4.288888888888889,4.157492354740061,3.625218914185639,3.707635009310987,3.904580152671756,4.151472650771389,3.7958412098298675,3.5579831932773107,3.82183908045977,4.003184713375796,3.5419103313840155,3.711442786069652,3.9375907111756168,3.8144171779141103,4.061023622047244,3.974958263772955,3.7523992322456814,4.0,3.802325581395349,4.121387283236994,3.9425625920471283,4.174632352941177]},{"axis":{"matches":true},"label":"Strikeout %","values":[22.5,28.8,24.5,24.1,18.3,21.3,10.3,21.8,19.4,15.0,22.5,18.0,15.7,24.6,16.6,17.1,22.2,28.7,24.5,12.8,18.0,24.5,28.8,26.0,19.6,28.6,26.7,15.3,27.5,15.3,12.0,25.8,17.0,24.7,28.8,30.7,17.0,27.2,24.8,15.6,21.1,17.1,16.7,26.1,24.4,16.3,21.3,23.8,24.3,21.3,15.0,20.5,21.1,9.4,22.7,17.0,24.3,17.4,19.5,19.8,14.6,22.6,21.3,16.5,31.3,24.6,22.1,20.2,28.8,15.0,13.6,27.8,14.2,20.6,34.4,25.9,21.3,16.3,27.3,25.4,16.1,23.6,19.3,4.3,25.4,18.7,19.0,18.2,11.0,25.6,29.7,22.1,25.9,25.1,20.4,26.7,26.1,19.8,14.5,13.8,18.2,17.3,16.4,15.1,17.6,21.9,20.9,27.4,26.5,26.4,26.1,14.9,16.7,21.2,12.8,18.4,28.0,22.8,19.9,18.4,12.4,20.9,30.2,19.6,24.7,23.3,28.5,20.5,19.3]},{"axis":{"matches":true},"label":"Walk %","values":[8.2,10.3,8.5,10.0,5.2,7.1,6.9,7.3,8.7,10.9,5.3,9.9,12.2,11.8,9.2,6.4,11.1,10.7,5.8,7.2,9.3,11.1,8.1,10.0,12.6,11.1,11.0,8.1,7.7,4.1,7.9,11.3,11.2,10.8,3.3,9.3,4.9,7.7,10.4,7.9,6.2,3.8,10.9,7.1,9.9,9.3,6.6,11.6,9.1,7.2,7.9,9.8,6.8,9.8,9.3,8.1,18.9,6.9,10.4,6.7,8.9,6.1,6.8,6.7,9.9,9.5,10.8,11.0,9.6,8.0,6.9,7.1,6.6,9.2,6.9,8.3,6.1,5.1,4.7,7.6,9.1,8.0,7.0,3.6,6.2,9.8,10.7,5.0,11.8,12.2,6.3,12.6,5.4,10.8,7.8,9.4,11.3,6.5,6.9,10.3,11.1,3.9,11.9,11.4,10.9,12.0,11.0,10.8,7.2,2.6,7.6,7.4,18.1,7.9,5.9,7.9,11.1,6.8,8.5,8.1,7.2,12.4,8.5,5.8,10.1,6.5,15.3,11.5,9.4]}],"hovertemplate":"%{xaxis.title.text}=%{x}\u003cbr\u003e%{yaxis.title.text}=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"name":"","showlegend":false,"type":"splom","diagonal":{"visible":false},"showupperhalf":false}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"legend":{"tracegroupgap":0},"dragmode":"select"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('c6e6b1c1-f662-4602-8b6c-15243f57d6c8');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<hr>
<p>While none of this data is causal or experimentally controlled, it is still valuable to compare these PCs to the key metrics the constructs <em>should</em> be related to. A few potential associations jump out:</p>
<ul>
<li><p>PC1 is negatively associated with pitches per plate appearance</p></li>
<li><p>PC1 is negatively associated with walk percentage</p></li>
<li><p>PC2 is negatively associated with walk percentage</p></li>
</ul>
<p>Taken together, the PC1 plots suggest players who score higher on PC1 tend to see fewer pitches and walk less frequently than players who score lower on PC1. The negative association between PC2 and walk percentage suggests players who score higher on PC2 tend to walk less frequently than players who score lower on PC2. The rest of the metrics only appear to be minimally associated with either PC1 or PC2.</p>
<section id="outcomes-relation" class="level3">
<h3 class="anchored" data-anchor-id="outcomes-relation">4.1: Outcomes Relation</h3>
<p>As emphasized earlier, I knew the features I chose for the PCA model did not take into account how the hitter was pitched. Rather than including features that represented the percentage of time hitters saw pitches out of the zone (<code>out_zone_percent</code>) or on the edge of the zone (<code>edge_percent</code>), I decided to look at how the PCs related to these metrics. For the sake of interpretability, I excluded the percentage of pitches in the zone (<code>in_zone_percent</code>), as this metric is complementary to <code>out_zone_percent</code>. While I could not find Baseball Savant’s definition for how it defines an edge pitch, this term implies a pitch on the edge of the strike zone, which can be in or out of the zone (i.e., the same pitch can count towards <code>out_zone_percent</code> and <code>edge_percent</code>).</p>
<p>I also decided to investigate whether PC1 or PC2 might relate to common performance metrics that Baseball Savant provides. Definitions of each metric can be found in the Statcast Glossary section of <a href="https://baseballsavant.mlb.com/leaderboard/custom?year=2024&amp;type=batter&amp;filter=&amp;min=q&amp;selections=pa%2Ck_percent%2Cbb_percent%2Cwoba%2Cxwoba%2Csweet_spot_percent%2Cbarrel_batted_rate%2Chard_hit_percent%2Cavg_best_speed%2Cavg_hyper_speed%2Cz_swing_percent%2Coz_swing_percent%2Coz_contact_percent%2Cout_zone_percent%2Cmeatball_swing_percent%2Cmeatball_percent%2Cpitch_count%2Ciz_contact_percent%2Cin_zone_percent%2Cedge_percent%2Cwhiff_percent%2Cswing_percent&amp;chart=false&amp;x=pa&amp;y=pa&amp;r=no&amp;chartType=beeswarm&amp;sort=pa&amp;sortDir=desc">Baseball Savant’s Custom Leaderboard</a> page, which was used to acquire the data for this report (see section <a href="#data-preparation">2: Data Preparation</a>):</p>
<ul>
<li><p>Expected weighted on-base average (<code>xwoba</code>)</p></li>
<li><p>Percent of batted-ball events with a launch angle between eight and 32 degrees (<code>sweet_spot_percent</code>)</p></li>
<li><p>Percent of batted balls with perfect combination of exit velocity and launch angle (<code>barrel_batted_rate</code>)</p></li>
<li><p>Ball hit with an exit velocity of 95 mph or higher (<code>hard_hit_percent</code>)</p></li>
</ul>
<p>Since I lacked any notion of how the PCs might relate to these performance metrics, I decided to look at potential associations from a purely exploratory lens.</p>
<div id="38ad1294" class="cell" data-execution_count="15">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add out_of_zone and edge_percent to disc_metrics_df_24</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>disc_metrics_df_24[<span class="st">'out_zone_percent'</span>] <span class="op">=</span> disc_df_24[<span class="st">'out_zone_percent'</span>].copy()</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>disc_metrics_df_24[<span class="st">'edge_percent'</span>] <span class="op">=</span> disc_df_24[<span class="st">'edge_percent'</span>].copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="069744b6" class="cell" data-execution_count="16">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># add performance metrics to disc_metrics_df_24</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>disc_metrics_df_24[<span class="st">'xwoba'</span>] <span class="op">=</span> performance_df_24[<span class="st">'xwoba'</span>].copy()</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a>disc_metrics_df_24[<span class="st">'sweet_spot_percent'</span>] <span class="op">=</span> performance_df_24[<span class="st">'sweet_spot_percent'</span>].copy()</span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>disc_metrics_df_24[<span class="st">'barrel_batted_rate'</span>] <span class="op">=</span> performance_df_24[<span class="st">'barrel_batted_rate'</span>].copy()</span>
<span id="cb17-5"><a href="#cb17-5" aria-hidden="true" tabindex="-1"></a>disc_metrics_df_24[<span class="st">'hard_hit_percent'</span>] <span class="op">=</span> performance_df_24[<span class="st">'hard_hit_percent'</span>].copy()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="525acbd5" class="cell" data-execution_count="17">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="co"># show correlation plots between PCs and out of zone/edge pitches seen</span></span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>pitch_corr_plot <span class="op">=</span> px.scatter_matrix(</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>    disc_metrics_df_24, </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>    dimensions<span class="op">=</span>[</span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">'PC1'</span>, <span class="st">'PC2'</span>, <span class="st">'out_zone_percent'</span>, <span class="st">'edge_percent'</span></span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a>        ], </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a>    labels<span class="op">=</span>{</span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">'PC1'</span>: <span class="st">'PC1'</span>,</span>
<span id="cb18-9"><a href="#cb18-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">'PC2'</span>: <span class="st">'PC2'</span>, </span>
<span id="cb18-10"><a href="#cb18-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">'out_zone_percent'</span>: <span class="st">'Out of Zone %'</span>, </span>
<span id="cb18-11"><a href="#cb18-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">'edge_percent'</span>: <span class="st">'Edge %'</span></span>
<span id="cb18-12"><a href="#cb18-12" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb18-13"><a href="#cb18-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb18-14"><a href="#cb18-14" aria-hidden="true" tabindex="-1"></a>pitch_corr_plot.update_traces(</span>
<span id="cb18-15"><a href="#cb18-15" aria-hidden="true" tabindex="-1"></a>    showupperhalf<span class="op">=</span><span class="va">False</span>, diagonal_visible<span class="op">=</span><span class="va">False</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="5bd36278-d724-4249-b309-a4a07fb89f73" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("5bd36278-d724-4249-b309-a4a07fb89f73")) {                    Plotly.newPlot(                        "5bd36278-d724-4249-b309-a4a07fb89f73",                        [{"dimensions":[{"axis":{"matches":true},"label":"PC1","values":[1.62375732545916,-2.170985206360124,-0.154300891575781,0.17498161841109763,0.8842741819225166,1.2887733004917568,-0.554749235575921,0.08577109995639332,0.2818684694266896,0.24890277807188682,2.9924796481226172,2.55263092468939,0.9853100434266071,-0.9768001496068494,1.2571501201113169,-0.9888673179009918,0.06243489239564494,-0.7151914269220159,0.795302607081053,-0.19617556371753594,-0.9062333647771861,1.309778163946909,1.2919701678069508,0.06684615061526625,-3.968700946450075,-0.06259852443763005,-1.2541957131479813,-1.4103231963395886,-0.2594475301148198,2.550539220450191,0.4700901563951067,-1.6786243630849131,-2.251796143236438,0.3748936552047501,5.147350669765058,-1.5648273941167798,3.609051280461244,0.37046334122964675,0.9711054437758037,0.40794495952912063,3.6458633505753775,2.1595476566070677,-1.6198355821919164,1.1982852309104353,-1.6310331482085858,-2.1060069192145585,1.5390462118967279,-0.8690978951056617,0.8052294133683331,-2.064334878800641,-1.7176201014641157,-0.6814464939280993,0.17459855757875936,-3.526237444143396,-2.16508697554029,-0.5156330477731385,-1.3159224550860777,1.0759858709386068,-0.13518202181308228,3.5300152578218444,1.7765439924835333,-0.46473418244925335,0.07068154834640894,-1.7771157840228742,-1.3609124269679198,-1.4492827238536208,-0.9942774814942128,-4.26820427635752,1.045104874104926,1.2747267817399905,-1.485809920261474,2.0305603789398257,1.2174082403503033,-1.849151414681441,1.3974958311079688,-1.624077516769659,-0.251751392600999,0.9295598324991329,2.1756123152524403,1.5191412965719753,-2.1353774077595813,1.0718968206424422,1.1482044746639704,-0.11926146879619784,2.414409299620293,0.9172499060580875,-2.5818040632622323,2.1245109461568354,-2.3063072654595578,-0.5145719824263206,1.527410574572287,-2.1604269987233424,1.4201436453761076,0.8209462526514238,-0.46324927118925563,0.2574770819500849,-2.395350538609337,0.7259402284586284,-0.7915395594419973,0.11234020965781015,0.5052263052795191,3.9440238183641796,-1.2487164019462655,-0.4707309262407759,-0.8154781355722107,2.5935870606611853,-1.1849716480706793,-2.9260552896827154,-0.676431615830891,4.620473478344517,2.1793753210086857,-3.3320805509548888,-3.376140120587032,0.4456512883746071,2.8240872212706933,0.018634044386154836,2.030699647469897,0.40342870258786345,0.8938088277318194,0.42427983453425544,-1.9535505114267346,-1.6361503800449033,-0.4419256615627957,-1.5144250446760088,-1.8813023240173268,0.2311206223471068,-2.545753895965193,-0.0710500068186938,-0.4947803528501769]},{"axis":{"matches":true},"label":"PC2","values":[-0.77492435793375,0.5005562125933802,0.2669835065779473,-0.7172091931154053,0.6735919788100013,-0.846018450275103,1.3494370108802332,-0.06578950192093465,1.2928700021850879,0.14866376533212478,0.5467189228324366,-1.6080724684764782,-0.9685389286267407,0.0026837319390234176,0.054067103241188706,1.2380004646542744,-0.4721648510766097,0.15381778138340196,-0.535045823505596,0.6793692386641831,-0.7773643877914138,-0.18357614069670136,-0.4173772293401452,-0.7245167987760279,0.261693084775866,-1.6729505799210596,-0.39197004402623536,-0.5415455038671574,-0.19541414856439043,0.992725287769888,0.5532173354234886,-1.7695728633305297,-0.2793086043462402,-0.7945262177722059,0.8467594811065337,0.34198628180774404,-0.6408453760105658,0.5339809101588293,-0.5076186378698346,0.7307975256830608,0.2720080511876085,0.7952307513893498,-0.14263774024903295,-0.41471359104858874,0.22004290093720633,1.4176432473328828,0.9070655146662528,-0.661982274918846,-1.7402369714850183,-0.21006430950548405,0.4742140349553651,-1.0490452493003586,0.6343084390879374,-0.008063054951870477,0.5532392116582039,0.3867759903393202,-1.7630759586588964,1.4599975886500574,-1.2601180374954468,1.4639522248963783,-2.1087456135166702,0.7110181003699431,0.2535271334222613,-0.5450155547697394,0.04988720534494771,-1.0454085439341654,-0.72695009444975,2.0677171556385816,0.07685989513159926,0.20176755706323998,0.12813498590148864,-0.08638371232317055,-1.33556121057635,-0.07402533736061462,-0.5057554635676825,-0.23139639236529852,1.700769760321828,1.439210101716486,-0.2140343521600077,-0.40665921221977414,1.7386520379745356,0.4788710090846777,-0.09666785447091088,1.8056491988120624,0.7142420386167844,-1.7476730641317424,0.7122083563625704,0.1915136572167044,-0.7250003636594893,-0.9431326640184989,0.4795456572546837,0.33287570490906,1.1087066912853236,-0.5821745791677622,-0.18843633612073743,-0.7999564584056932,0.18354418642858586,-0.5172126085038693,0.9256407145867933,-0.2768417984536264,-0.9080937614272988,1.0515733455725713,0.35671838213567847,-1.3102129917921705,-0.357813280453851,-0.46246481674758616,-0.17876674360213868,-0.21556170095148536,0.9485678470989335,1.7544730900060428,0.41112869039664546,1.7703383872170737,-0.7263372812263836,-0.13682419448603164,0.02735922190333131,-0.6541425920170618,-0.343430140512558,0.3885339626709224,-0.8035519798395103,-0.7404597181524897,0.4954562220158817,-1.2187508548393062,0.6375740605225442,0.685484723810686,0.3841303801786709,0.5983962723370311,-0.5563102173008068,-0.37726867345864623,-0.2811658583878788]},{"axis":{"matches":true},"label":"Out of Zone %","values":[53.8,48.6,51.6,51.4,50.3,49.3,48.3,49.7,53.2,53.9,52.2,51.2,51.8,53.6,54.8,48.5,52.0,47.9,49.6,52.0,48.8,52.7,51.2,51.1,49.1,51.7,51.2,48.9,49.4,48.9,52.4,48.7,50.0,55.9,51.9,49.9,50.7,51.7,51.9,49.9,50.9,51.9,52.1,51.8,48.1,49.5,49.1,50.1,47.3,48.1,46.6,49.3,50.4,48.3,50.8,46.5,52.1,54.7,52.2,56.6,51.1,48.0,50.1,47.7,52.7,49.0,51.6,49.2,53.9,52.6,49.3,55.2,48.8,52.0,48.6,49.3,51.4,52.3,51.3,51.9,50.1,51.9,48.6,47.8,54.5,48.4,52.8,51.5,51.4,49.2,53.0,51.0,52.8,50.5,48.3,50.9,52.7,50.8,50.4,50.1,51.0,53.8,52.3,49.3,49.9,56.7,50.8,51.4,49.0,51.7,54.2,49.5,53.5,51.1,50.6,48.2,52.6,51.3,53.4,48.5,48.6,47.0,53.4,47.4,51.7,51.9,52.1,52.1,50.4]},{"axis":{"matches":true},"label":"Edge %","values":[43.6,43.4,42.3,41.6,41.7,42.5,43.6,42.7,42.5,43.5,42.6,43.6,42.9,40.5,42.1,42.3,42.4,42.6,43.4,42.7,43.4,42.7,41.5,44.1,42.8,45.2,41.6,44.1,42.3,44.5,44.3,44.0,42.5,40.5,40.9,42.9,41.9,43.0,43.1,43.2,42.7,41.5,42.8,40.1,43.2,43.3,43.8,42.9,43.9,42.1,44.7,42.3,41.2,43.4,42.3,42.7,41.1,41.1,44.5,40.6,43.1,43.5,41.6,41.1,41.2,42.2,43.4,44.8,41.1,41.3,42.2,40.9,43.5,42.1,43.7,44.0,43.2,42.6,40.7,43.0,43.4,42.7,44.2,44.2,40.8,43.4,41.2,41.3,43.3,45.0,41.4,44.6,43.0,42.6,43.7,45.8,43.0,41.8,42.2,41.2,42.4,40.1,42.4,42.2,43.3,39.6,43.2,42.3,43.8,40.8,42.8,42.2,43.0,43.6,41.7,43.0,43.9,43.3,43.8,45.1,42.8,43.7,42.9,43.8,43.2,41.5,41.6,41.6,43.9]}],"hovertemplate":"%{xaxis.title.text}=%{x}\u003cbr\u003e%{yaxis.title.text}=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"name":"","showlegend":false,"type":"splom","diagonal":{"visible":false},"showupperhalf":false}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"legend":{"tracegroupgap":0},"dragmode":"select"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('5bd36278-d724-4249-b309-a4a07fb89f73');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<hr>
<p>The associations between PC scores and pitches seen do not appear to be as strong as the associations between PC scores and discipline metrics, but a couple are still worth noting:</p>
<ul>
<li><p>PC1 is positively associated with percentage of pitches seen out of the zone</p></li>
<li><p>PC1 is negatively associated with percentage of pitches on the edge of the zone</p></li>
<li><p>PC2 does not appear to have an association with the percentage of pitches out of the zone or on the edge of the zone</p></li>
</ul>
<p>PC1 appears to be positively associated with the percentage of pitches a hitter sees out of the zone, which may suggest hitters who score high on PC1 see more pitches out of the zone at the expense of pitches in the zone or on the edge. The potential negative association between PC1 and percentage of edge pitches seen supports this possibility. It would be difficult to discern if hitters with high PC1 scores see more pitches out of the zone, and subsequently swing more at those pitches, or if pitchers throw more pitches out of the zone in response to the hitter swinging at those pitches. This report is not equipped to answer that question, but it would be interesting to see if this could be disentangled with additional data. Meanwhile, PC2 does not appear to exhibit any associations with how the hitter is pitched.</p>
<div id="a02975f3" class="cell" data-execution_count="18">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="co"># show correlation plots between PCs and performance metrics</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>perform_corr_plot <span class="op">=</span> px.scatter_matrix(</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a>    disc_metrics_df_24, </span>
<span id="cb19-4"><a href="#cb19-4" aria-hidden="true" tabindex="-1"></a>    dimensions<span class="op">=</span>[</span>
<span id="cb19-5"><a href="#cb19-5" aria-hidden="true" tabindex="-1"></a>        <span class="st">'PC1'</span>, <span class="st">'PC2'</span>, <span class="st">'xwoba'</span>, <span class="st">'sweet_spot_percent'</span>, <span class="st">'barrel_batted_rate'</span>, <span class="st">'hard_hit_percent'</span>,</span>
<span id="cb19-6"><a href="#cb19-6" aria-hidden="true" tabindex="-1"></a>    ], </span>
<span id="cb19-7"><a href="#cb19-7" aria-hidden="true" tabindex="-1"></a>    labels<span class="op">=</span>{</span>
<span id="cb19-8"><a href="#cb19-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">'PC1'</span>: <span class="st">'PC1'</span>, </span>
<span id="cb19-9"><a href="#cb19-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">'PC2'</span>: <span class="st">'PC2'</span>,</span>
<span id="cb19-10"><a href="#cb19-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">'xwoba'</span>: <span class="st">'xwOBA'</span>,</span>
<span id="cb19-11"><a href="#cb19-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">'sweet_spot_percent'</span>: <span class="st">'Sweet Spot %'</span>, </span>
<span id="cb19-12"><a href="#cb19-12" aria-hidden="true" tabindex="-1"></a>        <span class="st">'barrel_batted_rate'</span>: <span class="st">'Barrel %'</span>, </span>
<span id="cb19-13"><a href="#cb19-13" aria-hidden="true" tabindex="-1"></a>        <span class="st">'hard_hit_percent'</span>: <span class="st">'Hard Hit %'</span></span>
<span id="cb19-14"><a href="#cb19-14" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb19-15"><a href="#cb19-15" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb19-16"><a href="#cb19-16" aria-hidden="true" tabindex="-1"></a>perform_corr_plot.update_traces(</span>
<span id="cb19-17"><a href="#cb19-17" aria-hidden="true" tabindex="-1"></a>    showupperhalf<span class="op">=</span><span class="va">False</span>, diagonal_visible<span class="op">=</span><span class="va">False</span></span>
<span id="cb19-18"><a href="#cb19-18" aria-hidden="true" tabindex="-1"></a>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="accd2c6b-843c-4cad-9932-3d2e249a65fc" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("accd2c6b-843c-4cad-9932-3d2e249a65fc")) {                    Plotly.newPlot(                        "accd2c6b-843c-4cad-9932-3d2e249a65fc",                        [{"dimensions":[{"axis":{"matches":true},"label":"PC1","values":[1.62375732545916,-2.170985206360124,-0.154300891575781,0.17498161841109763,0.8842741819225166,1.2887733004917568,-0.554749235575921,0.08577109995639332,0.2818684694266896,0.24890277807188682,2.9924796481226172,2.55263092468939,0.9853100434266071,-0.9768001496068494,1.2571501201113169,-0.9888673179009918,0.06243489239564494,-0.7151914269220159,0.795302607081053,-0.19617556371753594,-0.9062333647771861,1.309778163946909,1.2919701678069508,0.06684615061526625,-3.968700946450075,-0.06259852443763005,-1.2541957131479813,-1.4103231963395886,-0.2594475301148198,2.550539220450191,0.4700901563951067,-1.6786243630849131,-2.251796143236438,0.3748936552047501,5.147350669765058,-1.5648273941167798,3.609051280461244,0.37046334122964675,0.9711054437758037,0.40794495952912063,3.6458633505753775,2.1595476566070677,-1.6198355821919164,1.1982852309104353,-1.6310331482085858,-2.1060069192145585,1.5390462118967279,-0.8690978951056617,0.8052294133683331,-2.064334878800641,-1.7176201014641157,-0.6814464939280993,0.17459855757875936,-3.526237444143396,-2.16508697554029,-0.5156330477731385,-1.3159224550860777,1.0759858709386068,-0.13518202181308228,3.5300152578218444,1.7765439924835333,-0.46473418244925335,0.07068154834640894,-1.7771157840228742,-1.3609124269679198,-1.4492827238536208,-0.9942774814942128,-4.26820427635752,1.045104874104926,1.2747267817399905,-1.485809920261474,2.0305603789398257,1.2174082403503033,-1.849151414681441,1.3974958311079688,-1.624077516769659,-0.251751392600999,0.9295598324991329,2.1756123152524403,1.5191412965719753,-2.1353774077595813,1.0718968206424422,1.1482044746639704,-0.11926146879619784,2.414409299620293,0.9172499060580875,-2.5818040632622323,2.1245109461568354,-2.3063072654595578,-0.5145719824263206,1.527410574572287,-2.1604269987233424,1.4201436453761076,0.8209462526514238,-0.46324927118925563,0.2574770819500849,-2.395350538609337,0.7259402284586284,-0.7915395594419973,0.11234020965781015,0.5052263052795191,3.9440238183641796,-1.2487164019462655,-0.4707309262407759,-0.8154781355722107,2.5935870606611853,-1.1849716480706793,-2.9260552896827154,-0.676431615830891,4.620473478344517,2.1793753210086857,-3.3320805509548888,-3.376140120587032,0.4456512883746071,2.8240872212706933,0.018634044386154836,2.030699647469897,0.40342870258786345,0.8938088277318194,0.42427983453425544,-1.9535505114267346,-1.6361503800449033,-0.4419256615627957,-1.5144250446760088,-1.8813023240173268,0.2311206223471068,-2.545753895965193,-0.0710500068186938,-0.4947803528501769]},{"axis":{"matches":true},"label":"PC2","values":[-0.77492435793375,0.5005562125933802,0.2669835065779473,-0.7172091931154053,0.6735919788100013,-0.846018450275103,1.3494370108802332,-0.06578950192093465,1.2928700021850879,0.14866376533212478,0.5467189228324366,-1.6080724684764782,-0.9685389286267407,0.0026837319390234176,0.054067103241188706,1.2380004646542744,-0.4721648510766097,0.15381778138340196,-0.535045823505596,0.6793692386641831,-0.7773643877914138,-0.18357614069670136,-0.4173772293401452,-0.7245167987760279,0.261693084775866,-1.6729505799210596,-0.39197004402623536,-0.5415455038671574,-0.19541414856439043,0.992725287769888,0.5532173354234886,-1.7695728633305297,-0.2793086043462402,-0.7945262177722059,0.8467594811065337,0.34198628180774404,-0.6408453760105658,0.5339809101588293,-0.5076186378698346,0.7307975256830608,0.2720080511876085,0.7952307513893498,-0.14263774024903295,-0.41471359104858874,0.22004290093720633,1.4176432473328828,0.9070655146662528,-0.661982274918846,-1.7402369714850183,-0.21006430950548405,0.4742140349553651,-1.0490452493003586,0.6343084390879374,-0.008063054951870477,0.5532392116582039,0.3867759903393202,-1.7630759586588964,1.4599975886500574,-1.2601180374954468,1.4639522248963783,-2.1087456135166702,0.7110181003699431,0.2535271334222613,-0.5450155547697394,0.04988720534494771,-1.0454085439341654,-0.72695009444975,2.0677171556385816,0.07685989513159926,0.20176755706323998,0.12813498590148864,-0.08638371232317055,-1.33556121057635,-0.07402533736061462,-0.5057554635676825,-0.23139639236529852,1.700769760321828,1.439210101716486,-0.2140343521600077,-0.40665921221977414,1.7386520379745356,0.4788710090846777,-0.09666785447091088,1.8056491988120624,0.7142420386167844,-1.7476730641317424,0.7122083563625704,0.1915136572167044,-0.7250003636594893,-0.9431326640184989,0.4795456572546837,0.33287570490906,1.1087066912853236,-0.5821745791677622,-0.18843633612073743,-0.7999564584056932,0.18354418642858586,-0.5172126085038693,0.9256407145867933,-0.2768417984536264,-0.9080937614272988,1.0515733455725713,0.35671838213567847,-1.3102129917921705,-0.357813280453851,-0.46246481674758616,-0.17876674360213868,-0.21556170095148536,0.9485678470989335,1.7544730900060428,0.41112869039664546,1.7703383872170737,-0.7263372812263836,-0.13682419448603164,0.02735922190333131,-0.6541425920170618,-0.343430140512558,0.3885339626709224,-0.8035519798395103,-0.7404597181524897,0.4954562220158817,-1.2187508548393062,0.6375740605225442,0.685484723810686,0.3841303801786709,0.5983962723370311,-0.5563102173008068,-0.37726867345864623,-0.2811658583878788]},{"axis":{"matches":true},"label":"xwOBA","values":[0.35,0.301,0.316,0.351,0.319,0.303,0.313,0.338,0.324,0.411,0.332,0.39,0.367,0.346,0.335,0.293,0.442,0.325,0.295,0.331,0.335,0.364,0.346,0.316,0.352,0.319,0.353,0.336,0.33,0.296,0.329,0.327,0.318,0.402,0.289,0.326,0.369,0.328,0.341,0.301,0.333,0.31,0.33,0.338,0.341,0.306,0.319,0.335,0.321,0.309,0.302,0.307,0.328,0.333,0.322,0.297,0.479,0.316,0.316,0.36,0.313,0.274,0.261,0.3,0.328,0.344,0.374,0.305,0.38,0.407,0.319,0.306,0.342,0.331,0.271,0.307,0.319,0.331,0.302,0.329,0.315,0.32,0.338,0.325,0.344,0.322,0.324,0.318,0.356,0.345,0.331,0.328,0.338,0.339,0.304,0.261,0.324,0.311,0.296,0.408,0.392,0.339,0.304,0.364,0.328,0.357,0.315,0.346,0.329,0.273,0.343,0.278,0.462,0.295,0.329,0.303,0.346,0.304,0.31,0.379,0.335,0.329,0.34,0.286,0.343,0.317,0.38,0.358,0.331]},{"axis":{"matches":true},"label":"Sweet Spot %","values":[37.5,29.7,29.6,35.0,33.8,30.5,36.0,33.8,35.0,35.4,36.2,38.6,43.1,33.4,30.1,33.5,37.8,36.5,33.1,31.9,35.4,35.2,33.8,27.6,39.3,36.4,39.1,28.4,40.4,32.7,34.0,31.9,36.4,40.5,38.5,32.1,39.6,35.3,35.4,32.9,39.0,29.2,30.9,34.3,31.3,35.3,33.0,33.7,32.6,34.1,31.6,38.2,33.2,38.5,33.0,32.0,40.8,35.4,37.1,39.4,33.0,33.3,29.9,34.1,35.7,41.9,34.5,26.6,38.3,35.7,34.9,33.7,35.2,31.3,34.4,31.5,33.6,32.8,35.6,37.4,35.4,39.0,33.8,40.9,33.2,29.2,27.8,30.9,39.3,37.0,42.9,32.6,32.4,38.2,33.7,30.2,28.4,34.6,35.9,35.1,33.7,35.0,37.0,31.3,40.1,36.1,34.2,38.8,34.3,34.9,31.8,30.0,35.4,31.5,34.3,36.5,35.6,34.8,31.4,35.4,36.6,30.1,32.1,28.1,30.5,29.0,31.8,29.0,38.3]},{"axis":{"matches":true},"label":"Barrel %","values":[9.6,12.7,9.7,13.3,6.7,7.3,1.2,9.3,11.7,14.5,8.8,15.2,9.1,12.6,8.4,3.7,21.5,10.9,5.6,7.1,7.8,13.0,14.9,10.2,7.7,11.2,13.4,7.6,11.3,2.8,8.6,12.0,3.5,15.5,9.0,13.6,11.3,12.8,12.4,6.3,8.1,5.4,7.3,14.5,12.6,3.6,6.9,9.1,9.2,7.5,5.6,6.3,7.8,2.6,9.1,2.4,26.9,6.5,8.3,12.2,6.6,3.9,5.3,3.7,12.7,13.0,11.2,4.6,16.6,14.3,6.4,12.5,6.8,9.3,8.8,7.4,9.3,8.0,9.3,10.5,6.1,7.0,11.0,1.6,10.2,9.3,7.2,6.9,6.0,11.7,12.0,5.8,12.3,12.0,3.7,6.2,8.3,5.6,3.2,13.7,12.3,7.6,4.5,7.2,4.6,10.6,6.4,11.5,10.7,7.5,12.2,0.8,19.7,5.9,6.5,6.3,15.4,6.8,7.6,13.6,5.5,7.6,15.7,1.6,13.2,8.4,15.6,10.0,10.8]},{"axis":{"matches":true},"label":"Hard Hit %","values":[45.4,42.2,41.1,48.0,40.0,40.0,27.6,43.9,41.6,49.7,45.2,50.7,41.8,44.1,40.9,32.7,60.1,49.7,44.1,46.5,36.7,52.6,46.8,40.4,36.5,39.9,47.1,48.7,42.4,28.5,39.7,36.9,25.4,53.4,39.8,46.1,43.9,44.0,47.4,32.9,38.2,38.8,39.9,47.5,48.3,30.8,40.7,47.4,42.7,40.9,34.9,35.4,44.9,23.7,43.9,29.7,61.0,31.2,36.2,44.8,35.2,35.4,37.8,42.8,45.7,42.4,53.9,38.4,49.6,48.3,40.5,48.2,45.6,43.4,37.2,40.6,43.3,41.7,41.3,41.4,36.6,36.8,48.8,23.7,48.4,37.4,40.8,40.7,39.5,45.2,46.3,40.0,46.8,40.7,37.1,34.0,43.5,35.3,31.6,54.9,53.8,47.5,27.1,44.4,32.5,48.2,39.9,49.2,49.6,36.9,51.3,19.5,57.0,35.5,41.7,34.4,48.1,37.0,40.1,47.4,37.6,37.4,54.9,28.9,46.4,38.8,55.5,49.5,42.0]}],"hovertemplate":"%{xaxis.title.text}=%{x}\u003cbr\u003e%{yaxis.title.text}=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"name":"","showlegend":false,"type":"splom","diagonal":{"visible":false},"showupperhalf":false}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"legend":{"tracegroupgap":0},"dragmode":"select"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('accd2c6b-843c-4cad-9932-3d2e249a65fc');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<hr>
<p>The potential associations between the PCs and performance metrics appear to be the weakest of all, which suggests that PC scores alone may have little to do with a hitter’s performance. The plots for PC1 appear to be mostly noise, whereas PC2 may have very weak negative associations with xwOBA, barrel percentage, and hard hit percentage. This suggest hitters with higher PC2 scores–who tend to swing at more pitches out of the zone or more pitches overall–may tend to have lower hard hit and barrel percentages, as well as xwOBA.</p>
</section>
<section id="pca-interpretation" class="level2">
<h2 class="anchored" data-anchor-id="pca-interpretation">4.2: PCA Interpretation</h2>
<p>To reiterate the PCA results, PC1 and PC2 combined to explain 97.2% of the variance in swing decisions. PC1 appeared captured a hitter’s tendency to swing at any type of pitch, while PC2 captured the hitter’s tendency to swing at any pitch or pitches out of the zone, at the expense of swinging at meatballs and pitches in the zone. As expected, PC1 was negatively associated with pitches per plate appearance and walk percentage, whereas PC2 was negatively associated with walk percentage. PC1 scores were positively associated with the percentage of pitches a hitter saw out of the zone, suggesting these hitters may see fewer good pitches to hit. Finally, neither PC1 nor PC2 exhibited strong associations with performance metrics, suggesting PC1 and PC2 scores alone are not related to the hitter’s performance.</p>
<p>Since I had data for each seasons and wanted to model the same data for each, I performed the same PCA analyses in the following sections. Since I already explained the results and interpretation for 2024, I provided an overall interpretation for all years combined after running all PCA models (see section <a href="#inter-year-interpretation">8: Inter-Year Interpretation</a>). I also forewent the exploratory analyses with the types of pitches a hitter saw and the hitter’s performance for subsequent seasons, as I did not have formal predictions and did not see a reason to re-run these.</p>
</section>
</section>
<section id="section-1" class="level1 page-columns page-full">
<h1>5: 2023</h1>
<div id="93b97eb7" class="cell" data-execution_count="19">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>PCA_results_23 <span class="op">=</span> run_PCA(df<span class="op">=</span>decisions_df_23, disc_dict<span class="op">=</span>disc_dict, disc_metrics_dict<span class="op">=</span>disc_metrics_dict, year<span class="op">=</span><span class="st">"2023"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>display(Markdown(PCA_results_23[<span class="st">'pc_values'</span>].<span class="bu">round</span>(<span class="dv">3</span>).to_markdown()))</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>display(Markdown(PCA_results_23[<span class="st">'loadings'</span>].<span class="bu">round</span>(<span class="dv">3</span>).to_markdown()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="d66a90d4" class="cell column-body quarto-layout-panel" data-layout="[[40,60]]" data-execution_count="20">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 40.0%;justify-content: center;">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Eigenvalue</th>
<th style="text-align: right;">Explained Variance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">PC1</td>
<td style="text-align: right;">3.019</td>
<td style="text-align: right;">0.755</td>
</tr>
<tr class="even">
<td style="text-align: left;">PC2</td>
<td style="text-align: right;">0.863</td>
<td style="text-align: right;">0.216</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PC3</td>
<td style="text-align: right;">0.103</td>
<td style="text-align: right;">0.026</td>
</tr>
<tr class="even">
<td style="text-align: left;">PC4</td>
<td style="text-align: right;">0.015</td>
<td style="text-align: right;">0.004</td>
</tr>
</tbody>
</table>
</div>
<div class="quarto-layout-cell" style="flex-basis: 60.0%;justify-content: center;">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">PC1</th>
<th style="text-align: right;">PC2</th>
<th style="text-align: right;">PC3</th>
<th style="text-align: right;">PC4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">z_swing_percent</td>
<td style="text-align: right;">0.546</td>
<td style="text-align: right;">0.247</td>
<td style="text-align: right;">0.665</td>
<td style="text-align: right;">-0.446</td>
</tr>
<tr class="even">
<td style="text-align: left;">oz_swing_percent</td>
<td style="text-align: right;">0.45</td>
<td style="text-align: right;">-0.651</td>
<td style="text-align: right;">-0.423</td>
<td style="text-align: right;">-0.441</td>
</tr>
<tr class="odd">
<td style="text-align: left;">meatball_swing_percent</td>
<td style="text-align: right;">0.434</td>
<td style="text-align: right;">0.676</td>
<td style="text-align: right;">-0.595</td>
<td style="text-align: right;">0.017</td>
</tr>
<tr class="even">
<td style="text-align: left;">swing_percent</td>
<td style="text-align: right;">0.557</td>
<td style="text-align: right;">-0.242</td>
<td style="text-align: right;">0.154</td>
<td style="text-align: right;">0.779</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>PCA_results_23[<span class="st">'eigenvalue_fig'</span>].show()</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>PCA_results_23[<span class="st">'variance_fig'</span>].show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="87dc1654" class="cell column-body quarto-layout-panel" data-execution_count="21" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div>                            <div id="4c56a933-c20c-43c1-add9-a0bf4f904500" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("4c56a933-c20c-43c1-add9-a0bf4f904500")) {                    Plotly.newPlot(                        "4c56a933-c20c-43c1-add9-a0bf4f904500",                        [{"hovertemplate":"Principal Component=%{x}\u003cbr\u003eEigenvalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":["PC1","PC2","PC3","PC4"],"xaxis":"x","y":[3.0187783989382337,0.8629700896007255,0.10320610803304532,0.015045403427995086],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Principal Component"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Eigenvalue"}},"legend":{"tracegroupgap":0},"shapes":[{"line":{"color":"red","dash":"dash"},"type":"line","x0":0,"x1":1,"xref":"x domain","y0":1,"y1":1,"yref":"y"}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('4c56a933-c20c-43c1-add9-a0bf4f904500');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div>                            <div id="f3691090-5339-45bb-a890-6272d245c6b6" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("f3691090-5339-45bb-a890-6272d245c6b6")) {                    Plotly.newPlot(                        "f3691090-5339-45bb-a890-6272d245c6b6",                        [{"hovertemplate":"Principal Component=%{x}\u003cbr\u003eVariance Explained (Proportion)=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":["PC1","PC2","PC3","PC4"],"xaxis":"x","y":[0.7546945997345584,0.21574252240018138,0.02580152700826133,0.0037613508569987715],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Principal Component"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Variance Explained (Proportion)"}},"legend":{"tracegroupgap":0}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('f3691090-5339-45bb-a890-6272d245c6b6');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</div>
<div id="dfefac3d" class="cell" data-execution_count="22">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>PCA_results_23[<span class="st">'biplot_fig'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="13ae50b2-84e6-4035-b840-3df2bfe4a94a" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("13ae50b2-84e6-4035-b840-3df2bfe4a94a")) {                    Plotly.newPlot(                        "13ae50b2-84e6-4035-b840-3df2bfe4a94a",                        [{"hovertemplate":"PC1=%{x}\u003cbr\u003ePC2=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"mode":"markers","name":"","orientation":"v","showlegend":false,"x":[0.1893676449454441,-0.7952356478368727,0.13679707464715932,0.8792008964518906,-0.13784908230788032,-3.1683293486098223,1.0788378041562765,-1.117849296521342,-1.6203025014147894,-1.4006151521100592,-1.6462593716937313,-0.045845530004787215,0.36802732707642377,-1.3221612021422378,0.3078787637225771,1.4463537950413214,-2.3880223779435967,0.02486024268189311,1.544113750019064,-1.4157291003622448,-2.3782236409019673,2.5120993997711456,0.7475794696006882,1.9007087705216714,0.6014281846101602,0.8193147283759451,-1.8823667198726224,-0.22776547324664045,-4.041550435474788,0.03757192369809916,3.548332988056959,-2.576526252157457,-3.342400772778633,-1.564589950268547,3.5566352002789117,1.3353904805929886,3.197469841804163,-2.72055268247823,3.949442811137787,0.991086426715314,3.114957338593396,-0.7095066049248855,2.9189055961817902,-3.4448391607275335,-0.8518530567911619,-0.30704123237818753,0.7137921014515187,4.2850898144076615,-0.13311576861382513,-1.235693363867963,0.2184711699604187,-0.44836200704059515,1.4289597282028383,-1.4236664798973175,0.3705753698797989,-0.6745317214705769,2.148473919748591,-1.6830618509345334,0.7116882186527519,-3.6005191445221043,3.0624338011569634,0.5269478111196984,0.26388439500240424,1.043172309177195,1.940645411033417,0.4492451918404154,-0.3308948199272132,0.9418414130693635,0.33073600993536845,-2.4975306201409198,0.4274021457968268,-2.2227618344449342,-0.48717777717850724,2.0451335107099853,-2.493375449526428,-0.5550441797629176,1.9706102326246664,2.171321502196359,-1.4942812355699457,1.2581286837740475,-0.07958439493415419,0.442926365337692,2.4270728683390215,-2.4463984094100315,0.9027171211968055,1.7620906954920503,-1.343647216672523,-0.8620401241778791,-0.4227757304433275,-1.5004132360506983,1.5112645332229984,-3.2307449365566043,-0.5386771165198442,-1.120104966780263,-0.5403017080681131,1.8734749870742056,0.18467299189686978,0.9720337815711552,0.5346382513547135,-2.239960159156542,0.10057744841833098,-0.038382188569618045,0.919396510232925,1.0703451668269894,-0.676716420117016,-0.7651232461594121,-0.3766450605664115,2.1306251805765575,1.3019308511521006,2.9792105778212594,0.23751033204315322,2.7047511057841,0.9421967273905183,-2.692610067888994,0.7781078481233328,-2.158755805278585,-0.5914811631210701,-0.9899673327408519,0.2718267678078418,-2.7266260908617586,-0.5922907399013807,2.0402069852711393,0.2375427639782601,0.4413104832604201,0.7531156365665118,0.04775856114611353,-1.79495626781738,-1.897322686797162,-1.572109685387754,-2.921838107435483,-0.4582705817726475,1.2725284485626163,0.7407549768317199,1.86767312333055],"xaxis":"x","y":[1.4793927332920762,0.6083577056881819,-1.108587149225688,-0.15238602170026527,0.29547202333284717,-0.014589237825266619,0.17778627517667936,1.3117994628334806,-0.9486562017464675,-0.38333784080149774,0.9087450497677322,0.31460108794435054,0.3987528159585489,-0.3435711368481963,0.19793765132703228,-0.3049922506098693,-1.134844331860705,1.2683284382835245,-0.8925209024018574,-0.721702895314495,1.0095450726000796,-0.37577553026139676,-0.815705315246636,-0.4892682362226545,0.6382300973480161,0.4013429689128104,-0.9130440149673517,0.6969577134335552,0.2134032860359785,-0.009939746121074762,-2.426821010092546,-0.23294629493655372,-0.9334878192639252,0.5907663303734875,2.243440105028611,-0.43625908445675604,-0.48006451211049495,1.1075286745684743,-0.017637901795972268,-0.2118306398182166,1.3503299895436092,1.1889009042778724,-1.6260843038623098,-0.5736769072035159,-0.806012653659143,0.15578294249219737,-0.07226614173859061,-0.30536744617918316,0.009851844474809893,-0.20359715519141622,0.15824013349383131,0.5907832884376395,0.010537550250537793,-0.010601526967748362,-0.34465123795999203,-0.5082098955545017,-0.6941014149219034,-1.5116355565791322,0.21123054927881815,-0.7471100297262797,-0.0216857351460306,1.8469887488125516,-1.2284252823954747,1.7507610856432954,-0.8852160180669859,-0.3533759783020292,-0.9862651291619837,-1.600310992313842,-0.30762986057353137,0.6884560069414517,0.8905590392212551,0.5411856301218017,-0.5368216704611701,0.7380141541688899,0.8089264026179845,-0.8916107574282924,-1.4526173557389157,-0.1008251600179967,0.24654544564817593,-3.2001948599904093,0.4765020216716979,1.8054937559556055,1.7330772588003271,-0.6387600859474583,-0.5868272252615941,-0.5498906661766391,0.10637250547281073,1.1219548417008427,-1.1610828383894325,0.13112452496042257,-1.5888650264785198,1.0742162119913983,1.0620615493124625,1.3984480699093422,0.045417978903113984,-0.6170085540256477,0.9491423489807391,1.48773215591598,-0.01704461341610312,-0.3781941767895798,1.0050511193764262,-0.2355005059369862,-0.10878652558168296,0.8943285270079675,-0.18577193723625024,-0.7852081167836885,0.7428087768020009,0.267925840663294,-1.4179744815627857,0.505249821908603,0.9766596595301892,1.148082754766483,0.6978360453309567,0.7935219371710011,-0.4714605055922694,-0.5480714480518213,-0.2801868860490644,-0.04374117122637258,-0.3715536821104854,-0.48667888617999244,0.3543545714116801,1.810152018183665,0.16215230009213374,-1.440675656245505,1.2007759330047554,0.6925474809468894,-1.0649041287944725,0.512513334411535,-1.8322307974459993,-0.6715898264869141,0.6813091779899157,0.42926492720739984,-1.3808955765025162,-0.13639419566978273],"yaxis":"y","type":"scatter","opacity":0.3}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"PC1"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"PC2"}},"legend":{"tracegroupgap":0},"annotations":[{"arrowhead":2,"arrowsize":2,"ax":0,"axref":"x","ay":0,"ayref":"y","showarrow":true,"x":0.5456310471344207,"xanchor":"right","y":0.24682827199128193,"yanchor":"top"},{"ax":0,"ay":0,"text":"z_swing_percent","x":0.5456310471344207,"xanchor":"center","y":0.24682827199128193,"yanchor":"bottom","yshift":5},{"arrowhead":2,"arrowsize":2,"ax":0,"axref":"x","ay":0,"ayref":"y","showarrow":true,"x":0.45049911544784693,"xanchor":"right","y":-0.6512130362617128,"yanchor":"top"},{"ax":0,"ay":0,"text":"oz_swing_percent","x":0.45049911544784693,"xanchor":"center","y":-0.6512130362617128,"yanchor":"bottom","yshift":5},{"arrowhead":2,"arrowsize":2,"ax":0,"axref":"x","ay":0,"ayref":"y","showarrow":true,"x":0.4343098429235833,"xanchor":"right","y":0.6756835241369947,"yanchor":"top"},{"ax":0,"ay":0,"text":"meatball_swing_percent","x":0.4343098429235833,"xanchor":"center","y":0.6756835241369947,"yanchor":"bottom","yshift":5},{"arrowhead":2,"arrowsize":2,"ax":0,"axref":"x","ay":0,"ayref":"y","showarrow":true,"x":0.5574157045898469,"xanchor":"right","y":-0.24176261240814093,"yanchor":"top"},{"ax":0,"ay":0,"text":"swing_percent","x":0.5574157045898469,"xanchor":"center","y":-0.24176261240814093,"yanchor":"bottom","yshift":5}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('13ae50b2-84e6-4035-b840-3df2bfe4a94a');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div id="fc1b18ba" class="cell" data-execution_count="23">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>PCA_results_23[<span class="st">'corr_plot'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="018da024-ea56-48e4-a050-bffeba898424" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("018da024-ea56-48e4-a050-bffeba898424")) {                    Plotly.newPlot(                        "018da024-ea56-48e4-a050-bffeba898424",                        [{"dimensions":[{"axis":{"matches":true},"label":"PC1","values":[0.1893676449454441,-0.7952356478368727,0.13679707464715932,0.8792008964518906,-0.13784908230788032,-3.1683293486098223,1.0788378041562765,-1.117849296521342,-1.6203025014147894,-1.4006151521100592,-1.6462593716937313,-0.045845530004787215,0.36802732707642377,-1.3221612021422378,0.3078787637225771,1.4463537950413214,-2.3880223779435967,0.02486024268189311,1.544113750019064,-1.4157291003622448,-2.3782236409019673,2.5120993997711456,0.7475794696006882,1.9007087705216714,0.6014281846101602,0.8193147283759451,-1.8823667198726224,-0.22776547324664045,-4.041550435474788,0.03757192369809916,3.548332988056959,-2.576526252157457,-3.342400772778633,-1.564589950268547,3.5566352002789117,1.3353904805929886,3.197469841804163,-2.72055268247823,3.949442811137787,0.991086426715314,3.114957338593396,-0.7095066049248855,2.9189055961817902,-3.4448391607275335,-0.8518530567911619,-0.30704123237818753,0.7137921014515187,4.2850898144076615,-0.13311576861382513,-1.235693363867963,0.2184711699604187,-0.44836200704059515,1.4289597282028383,-1.4236664798973175,0.3705753698797989,-0.6745317214705769,2.148473919748591,-1.6830618509345334,0.7116882186527519,-3.6005191445221043,3.0624338011569634,0.5269478111196984,0.26388439500240424,1.043172309177195,1.940645411033417,0.4492451918404154,-0.3308948199272132,0.9418414130693635,0.33073600993536845,-2.4975306201409198,0.4274021457968268,-2.2227618344449342,-0.48717777717850724,2.0451335107099853,-2.493375449526428,-0.5550441797629176,1.9706102326246664,2.171321502196359,-1.4942812355699457,1.2581286837740475,-0.07958439493415419,0.442926365337692,2.4270728683390215,-2.4463984094100315,0.9027171211968055,1.7620906954920503,-1.343647216672523,-0.8620401241778791,-0.4227757304433275,-1.5004132360506983,1.5112645332229984,-3.2307449365566043,-0.5386771165198442,-1.120104966780263,-0.5403017080681131,1.8734749870742056,0.18467299189686978,0.9720337815711552,0.5346382513547135,-2.239960159156542,0.10057744841833098,-0.038382188569618045,0.919396510232925,1.0703451668269894,-0.676716420117016,-0.7651232461594121,-0.3766450605664115,2.1306251805765575,1.3019308511521006,2.9792105778212594,0.23751033204315322,2.7047511057841,0.9421967273905183,-2.692610067888994,0.7781078481233328,-2.158755805278585,-0.5914811631210701,-0.9899673327408519,0.2718267678078418,-2.7266260908617586,-0.5922907399013807,2.0402069852711393,0.2375427639782601,0.4413104832604201,0.7531156365665118,0.04775856114611353,-1.79495626781738,-1.897322686797162,-1.572109685387754,-2.921838107435483,-0.4582705817726475,1.2725284485626163,0.7407549768317199,1.86767312333055]},{"axis":{"matches":true},"label":"PC2","values":[1.4793927332920762,0.6083577056881819,-1.108587149225688,-0.15238602170026527,0.29547202333284717,-0.014589237825266619,0.17778627517667936,1.3117994628334806,-0.9486562017464675,-0.38333784080149774,0.9087450497677322,0.31460108794435054,0.3987528159585489,-0.3435711368481963,0.19793765132703228,-0.3049922506098693,-1.134844331860705,1.2683284382835245,-0.8925209024018574,-0.721702895314495,1.0095450726000796,-0.37577553026139676,-0.815705315246636,-0.4892682362226545,0.6382300973480161,0.4013429689128104,-0.9130440149673517,0.6969577134335552,0.2134032860359785,-0.009939746121074762,-2.426821010092546,-0.23294629493655372,-0.9334878192639252,0.5907663303734875,2.243440105028611,-0.43625908445675604,-0.48006451211049495,1.1075286745684743,-0.017637901795972268,-0.2118306398182166,1.3503299895436092,1.1889009042778724,-1.6260843038623098,-0.5736769072035159,-0.806012653659143,0.15578294249219737,-0.07226614173859061,-0.30536744617918316,0.009851844474809893,-0.20359715519141622,0.15824013349383131,0.5907832884376395,0.010537550250537793,-0.010601526967748362,-0.34465123795999203,-0.5082098955545017,-0.6941014149219034,-1.5116355565791322,0.21123054927881815,-0.7471100297262797,-0.0216857351460306,1.8469887488125516,-1.2284252823954747,1.7507610856432954,-0.8852160180669859,-0.3533759783020292,-0.9862651291619837,-1.600310992313842,-0.30762986057353137,0.6884560069414517,0.8905590392212551,0.5411856301218017,-0.5368216704611701,0.7380141541688899,0.8089264026179845,-0.8916107574282924,-1.4526173557389157,-0.1008251600179967,0.24654544564817593,-3.2001948599904093,0.4765020216716979,1.8054937559556055,1.7330772588003271,-0.6387600859474583,-0.5868272252615941,-0.5498906661766391,0.10637250547281073,1.1219548417008427,-1.1610828383894325,0.13112452496042257,-1.5888650264785198,1.0742162119913983,1.0620615493124625,1.3984480699093422,0.045417978903113984,-0.6170085540256477,0.9491423489807391,1.48773215591598,-0.01704461341610312,-0.3781941767895798,1.0050511193764262,-0.2355005059369862,-0.10878652558168296,0.8943285270079675,-0.18577193723625024,-0.7852081167836885,0.7428087768020009,0.267925840663294,-1.4179744815627857,0.505249821908603,0.9766596595301892,1.148082754766483,0.6978360453309567,0.7935219371710011,-0.4714605055922694,-0.5480714480518213,-0.2801868860490644,-0.04374117122637258,-0.3715536821104854,-0.48667888617999244,0.3543545714116801,1.810152018183665,0.16215230009213374,-1.440675656245505,1.2007759330047554,0.6925474809468894,-1.0649041287944725,0.512513334411535,-1.8322307974459993,-0.6715898264869141,0.6813091779899157,0.42926492720739984,-1.3808955765025162,-0.13639419566978273]},{"axis":{"matches":true},"label":"Pitches per PA","values":[3.785034013605442,4.18299711815562,3.7336601307189543,3.8814814814814813,3.9389880952380953,4.168241965973535,3.5791788856304985,4.218588640275387,3.9012158054711246,4.0963302752293576,4.218018018018018,3.8661417322834644,4.040847201210288,4.14410480349345,3.785829307568438,3.7533460803059273,3.9759398496240603,4.049050632911392,3.7061068702290076,4.024528301886792,4.271535580524344,3.7718631178707223,3.7162162162162162,3.9424778761061945,3.93517017828201,3.981067125645439,3.787931034482759,4.137184115523466,4.1232604373757455,4.050347222222222,3.553448275862069,3.9269102990033224,4.01067615658363,3.862135922330097,3.4440298507462686,3.8368932038834953,3.61698956780924,3.9134199134199132,3.697478991596639,4.068965517241379,3.677165354330709,4.107569721115538,3.697674418604651,4.261111111111111,3.6742857142857144,3.7689922480620157,3.881294964028777,3.7235772357723578,4.081081081081081,3.8519061583577714,3.98981077147016,4.114035087719298,3.8448905109489053,3.9590834697217674,3.7713310580204777,4.143607705779335,3.7925925925925927,4.1640625,4.05379746835443,4.356230031948882,3.7021630615640597,3.7171314741035855,4.213414634146342,3.7013177159590045,3.5168067226890756,3.685761047463175,3.8706240487062407,3.628301886792453,3.7432432432432434,4.05009633911368,4.294444444444444,4.193825042881647,3.777134587554269,3.384259259259259,3.8522099447513813,3.7491166077738516,3.8084415584415585,3.8712011577424024,3.967117988394584,3.6014625228519197,3.8665594855305465,3.8130563798219583,3.8315018315018317,4.22707423580786,3.940894568690096,3.6026058631921822,4.0360902255639095,4.204419889502763,3.767479674796748,3.8436293436293436,3.6311926605504588,4.09180790960452,4.141823444283647,3.9283333333333332,4.0,3.6261829652996846,4.009404388714733,3.94375,3.8003327787021632,4.112426035502959,4.148148148148148,3.885191347753744,4.10896309314587,3.8014440433212995,3.4261363636363638,3.946360153256705,3.9789983844911148,3.9314024390243905,3.6252319109461966,3.8833333333333333,4.038387715930902,3.7014652014652016,3.9966216216216215,4.120689655172414,3.5024311183144246,3.946043165467626,4.091254752851711,4.26517571884984,3.8747913188647747,3.9596100278551534,3.82,3.771232876712329,4.001398601398601,4.040404040404041,4.053156146179402,4.373205741626794,3.8913793103448278,4.174486803519062,3.690406976744186,4.29188255613126,3.9913793103448274,3.8919308357348705,3.3576512455516014,3.6466165413533833]},{"axis":{"matches":true},"label":"Strikeout %","values":[11.4,30.8,16.5,25.6,14.6,20.6,14.7,28.4,22.9,23.9,27.7,19.1,19.2,23.4,14.3,26.0,16.5,22.2,23.3,21.1,32.2,22.4,17.1,31.1,21.7,23.2,14.0,16.1,19.7,22.0,23.3,15.4,22.2,22.3,16.4,29.3,27.6,15.4,28.9,25.9,22.2,25.1,23.6,29.9,19.8,19.4,15.6,27.0,21.8,25.8,19.9,25.0,22.8,20.6,15.5,18.2,27.6,15.6,27.7,19.8,19.1,14.6,23.2,18.3,24.5,15.4,19.8,22.6,17.4,18.3,23.2,22.3,10.6,10.0,12.0,24.9,18.2,21.7,26.1,22.9,25.6,13.6,27.8,14.7,22.7,19.2,20.9,22.8,21.0,18.7,18.2,18.2,22.1,15.7,19.1,20.3,24.1,21.6,18.1,15.6,31.9,27.8,27.8,21.1,15.9,18.6,16.8,19.2,18.7,16.2,17.3,21.8,22.6,19.6,5.5,16.2,32.7,17.6,23.9,10.4,16.8,16.6,24.1,21.9,28.2,31.6,22.6,21.4,12.1,26.4,24.3,17.4,10.3,17.6]},{"axis":{"matches":true},"label":"Walk %","values":[10.9,10.1,6.7,6.5,10.0,9.8,9.8,10.7,9.9,12.2,13.5,6.7,9.4,12.7,8.4,4.8,8.4,12.3,5.0,8.3,14.0,6.5,6.1,5.6,10.2,7.7,5.9,11.4,14.3,9.2,3.3,7.5,10.7,7.4,9.1,5.8,5.4,13.9,5.0,11.1,8.3,13.9,6.6,17.5,5.3,8.8,7.2,4.1,8.5,5.3,9.6,9.8,8.0,10.3,8.0,10.2,5.9,6.1,10.3,12.0,4.5,9.6,8.4,8.8,6.6,6.9,5.8,4.2,5.6,14.6,14.4,10.1,10.6,6.0,12.7,6.7,5.2,6.5,9.1,4.4,9.0,11.9,9.5,13.4,6.4,5.2,10.2,12.8,5.9,8.1,5.3,18.6,14.3,10.8,7.3,6.8,10.3,8.3,8.3,9.7,12.0,8.7,9.5,6.3,6.6,8.8,10.5,9.5,4.6,7.0,9.6,14.7,9.6,14.7,5.7,8.5,9.3,8.1,15.2,9.7,10.9,9.9,8.3,7.1,10.3,10.8,10.2,10.9,7.1,14.7,11.4,5.8,5.5,6.5]}],"hovertemplate":"%{xaxis.title.text}=%{x}\u003cbr\u003e%{yaxis.title.text}=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"name":"","showlegend":false,"type":"splom","diagonal":{"visible":false},"showupperhalf":false}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"legend":{"tracegroupgap":0},"dragmode":"select"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('018da024-ea56-48e4-a050-bffeba898424');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="section-2" class="level1 page-columns page-full">
<h1>6: 2022</h1>
<div id="270f7648" class="cell" data-execution_count="24">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>PCA_results_22 <span class="op">=</span> run_PCA(df<span class="op">=</span>decisions_df_22, disc_dict<span class="op">=</span>disc_dict, disc_metrics_dict<span class="op">=</span>disc_metrics_dict, year<span class="op">=</span><span class="st">"2022"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>display(Markdown(PCA_results_22[<span class="st">'pc_values'</span>].<span class="bu">round</span>(<span class="dv">3</span>).to_markdown()))</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a>display(Markdown(PCA_results_22[<span class="st">'loadings'</span>].<span class="bu">round</span>(<span class="dv">3</span>).to_markdown()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="242a8d66" class="cell column-body quarto-layout-panel" data-layout="[[40,60]]" data-execution_count="25">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 40.0%;justify-content: center;">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Eigenvalue</th>
<th style="text-align: right;">Explained Variance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">PC1</td>
<td style="text-align: right;">2.957</td>
<td style="text-align: right;">0.739</td>
</tr>
<tr class="even">
<td style="text-align: left;">PC2</td>
<td style="text-align: right;">0.913</td>
<td style="text-align: right;">0.228</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PC3</td>
<td style="text-align: right;">0.118</td>
<td style="text-align: right;">0.029</td>
</tr>
<tr class="even">
<td style="text-align: left;">PC4</td>
<td style="text-align: right;">0.013</td>
<td style="text-align: right;">0.003</td>
</tr>
</tbody>
</table>
</div>
<div class="quarto-layout-cell" style="flex-basis: 60.0%;justify-content: center;">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">PC1</th>
<th style="text-align: right;">PC2</th>
<th style="text-align: right;">PC3</th>
<th style="text-align: right;">PC4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">z_swing_percent</td>
<td style="text-align: right;">0.546</td>
<td style="text-align: right;">-0.273</td>
<td style="text-align: right;">0.644</td>
<td style="text-align: right;">-0.461</td>
</tr>
<tr class="even">
<td style="text-align: left;">oz_swing_percent</td>
<td style="text-align: right;">0.43</td>
<td style="text-align: right;">0.688</td>
<td style="text-align: right;">-0.386</td>
<td style="text-align: right;">-0.438</td>
</tr>
<tr class="odd">
<td style="text-align: left;">meatball_swing_percent</td>
<td style="text-align: right;">0.447</td>
<td style="text-align: right;">-0.629</td>
<td style="text-align: right;">-0.636</td>
<td style="text-align: right;">0.013</td>
</tr>
<tr class="even">
<td style="text-align: left;">swing_percent</td>
<td style="text-align: right;">0.563</td>
<td style="text-align: right;">0.238</td>
<td style="text-align: right;">0.176</td>
<td style="text-align: right;">0.772</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>PCA_results_22[<span class="st">'eigenvalue_fig'</span>].show()</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>PCA_results_22[<span class="st">'variance_fig'</span>].show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="7dbd0788" class="cell column-body quarto-layout-panel" data-execution_count="26" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div>                            <div id="b7140fd7-a0aa-4b95-81de-8ec7e732580b" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("b7140fd7-a0aa-4b95-81de-8ec7e732580b")) {                    Plotly.newPlot(                        "b7140fd7-a0aa-4b95-81de-8ec7e732580b",                        [{"hovertemplate":"Principal Component=%{x}\u003cbr\u003eEigenvalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":["PC1","PC2","PC3","PC4"],"xaxis":"x","y":[2.9565604276577586,0.912542391073194,0.11756272369437851,0.013334457574670224],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Principal Component"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Eigenvalue"}},"legend":{"tracegroupgap":0},"shapes":[{"line":{"color":"red","dash":"dash"},"type":"line","x0":0,"x1":1,"xref":"x domain","y0":1,"y1":1,"yref":"y"}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('b7140fd7-a0aa-4b95-81de-8ec7e732580b');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div>                            <div id="d133eda6-16fc-45bc-b68b-398d52eddcbb" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("d133eda6-16fc-45bc-b68b-398d52eddcbb")) {                    Plotly.newPlot(                        "d133eda6-16fc-45bc-b68b-398d52eddcbb",                        [{"hovertemplate":"Principal Component=%{x}\u003cbr\u003eVariance Explained (Proportion)=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":["PC1","PC2","PC3","PC4"],"xaxis":"x","y":[0.7391401069144393,0.2281355977682984,0.029390680923594613,0.0033336143936675547],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Principal Component"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Variance Explained (Proportion)"}},"legend":{"tracegroupgap":0}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('d133eda6-16fc-45bc-b68b-398d52eddcbb');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</div>
<div id="68d64d8e" class="cell" data-execution_count="27">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>PCA_results_22[<span class="st">'biplot_fig'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="2b78fab1-948f-44b5-a2dc-c8d6046df775" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("2b78fab1-948f-44b5-a2dc-c8d6046df775")) {                    Plotly.newPlot(                        "2b78fab1-948f-44b5-a2dc-c8d6046df775",                        [{"hovertemplate":"PC1=%{x}\u003cbr\u003ePC2=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"mode":"markers","name":"","orientation":"v","showlegend":false,"x":[0.9716175666409615,3.336801159424279,1.0734354336161305,1.488585099691822,-0.3666732460359569,-1.249499228011585,0.023672223084834833,-0.8628331936734013,-0.5913657265458536,2.8289578649309584,2.5984154941660575,1.700645068256297,-3.288282250367246,1.8588547513418467,0.5144157778310223,2.0529163529979235,3.0622187787835586,1.1566754113264224,-0.9390453813680238,-0.5714805087242971,0.6814151400005622,-0.732442399290115,-2.4082595738193247,1.513279595597317,-1.2827646803735264,0.9213519735772768,0.863911543469113,1.108720295690116,1.0298625854966268,1.0673729569235875,2.4087039424458148,-1.3067907047869702,-1.1951051047062538,-0.008064003160456554,-2.1138579317518054,-0.6982502126198651,-0.9740492187473622,1.29857451784184,-2.0118844683073793,-3.956046519810753,-1.7657176786236326,0.8585579925089615,1.3028583429472613,-0.13207204978382447,-1.3175602142740466,0.9963423056049479,-0.13915878507286567,1.3371096275525902,-1.8274178977117916,0.4856609432472705,0.16755509419453837,2.334649142991767,2.064050915388922,-0.19641489659403646,-1.6221368754536138,-1.8777275093830241,-1.9154855095477183,1.5709605492898175,1.6319802709075648,1.9864180750913094,1.1508494594866727,0.7412005691896825,-1.976802946088843,-1.773895568375653,-0.547020513462531,0.30131160546909247,-1.1078757400599815,-0.08585276879199043,-3.73508706009597,2.8676004910706134,2.0128804786420997,-1.441844842221909,2.452753603484325,0.6276835419003756,-3.0537354424768655,-3.788484349094484,-1.4086765756549147,-3.676411370434868,-1.785292136031926,-2.469951954016752,-1.3912508549729425,0.6350460561646664,0.39240069338290823,-1.9905505785650877,0.38910964894099526,3.8575621009915926,1.7745873872646687,1.850347400730979,1.9167931533880018,-2.560395950673694,-2.124800585197878,-1.176498378235163,0.6228826118861246,0.9263657149808465,1.3909402727208013,1.0078691279874958,0.7595753258805168,3.421912347154026,-0.32278433499317444,0.3351151237741821,1.8643998178419143,-1.4386180551521914,-1.0307851152596872,-0.4551583401543025,-0.29004835976139337,-2.538036747089231,1.6336303919190074,-1.9749127811803573,-2.1522138963048887,-0.42629516321138583,-1.9248449124287335,0.8121981298350531,-0.02187775428197218,1.318962794748431,-0.6928995840891132,3.034450647696412,0.6177900562685298,-1.873770379440322,-0.8133567438838617,-0.09793611498088992,3.175721456804507,0.20416274017943684,1.382114398774172,-1.1838918221332397,1.0115490992082423,-0.8555884015026224,-2.4898769587207394,0.08308912680235088,-1.4187410659482125,0.5770477460844623],"xaxis":"x","y":[-0.2825843061403883,-1.485102138462138,-0.5136265760485266,-1.422455477763343,0.6224580269710528,1.128018425764749,1.2732507022457786,-1.090829419284298,-1.4977716076715974,0.6148575633362237,-1.9293374371936909,-0.6058947963372655,-0.865283423531892,-0.762840464393855,-0.06836829908885797,0.347441629278018,-0.13494116799459835,-0.4035201032222611,0.9294468100988789,-1.0878269516877095,0.8712744823773491,0.6777565726620037,-0.21629186298460515,-0.1384549686533817,-0.5261334579932605,-0.7847484648388768,-0.9618309342498276,-0.26262714797916725,2.4351441888138172,0.5212591722341396,-0.9177022273684111,-0.06524495556693934,-1.1338168241689852,0.046113151771235386,-0.51366594506175,0.5210132103180597,-0.2683480578471255,0.06732733551365067,-0.3153897184519517,0.35433215190939,0.6123567671295405,0.4057403152918915,-1.0636681070910785,0.895139130552357,-0.4703620140834226,-0.0027068810468139997,0.8923644041992093,0.7789024762737571,-0.5932863065583834,-1.323202085216394,0.23046494424540231,1.1357737567866528,0.8745206564569538,1.6621338519900197,1.3113313312317576,0.1860294918030188,0.8363108453185675,0.697498981993904,-0.47232823405023905,-0.15035346318306156,-0.12270456645238201,0.24768058638775325,0.29412937404334805,-1.3198172543371218,0.6731018715456769,1.7620264168165098,1.8805648386917864,2.123194468432814,1.260896187234793,-1.6029657275124898,3.508459619300046,-1.0240397785527502,-1.0219277085264928,-0.059508262399726314,-0.25811187348695885,-1.0689714489158988,0.9359597795796973,0.30334102333274027,-1.2133207293086856,0.048878511968609074,0.4760764290220719,0.02448573266097113,-0.15458512204334732,-1.5207344108012197,-0.5776604288195275,-0.26671328647859244,-1.5466614223326036,0.7519264220188783,1.2326554634387246,-0.20046106243418235,-0.8778162723824398,-0.9000954464930708,-0.9900880442817811,1.2850019442510228,2.0444327431299603,-0.08632794452935999,0.4345063401422142,0.7451323699332943,1.2290468902156673,0.019118235041410962,-0.6713125797368936,1.3117064081432521,-0.22951628440771177,0.04084190356389796,0.8006425548452987,0.9352688296798838,0.028404616838189206,-0.1340659765358595,-0.7792746402231986,-0.655523342767607,-1.2542822209429416,-0.20594311481692779,-0.49667494960707836,-0.08739919552213485,-0.018715360796776253,0.08242468780665568,-1.2539249136027686,-0.6730893521647286,1.1829006456091475,1.2198396150095923,-0.2581615672455929,0.2955075901959495,-0.009084546748258954,-1.5326177751369672,-1.0716132649126813,-0.6458116482292183,0.6742668285546248,0.3044863195455159,-0.4372953380904207,-1.5278049367568887],"yaxis":"y","type":"scatter","opacity":0.3}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"PC1"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"PC2"}},"legend":{"tracegroupgap":0},"annotations":[{"arrowhead":2,"arrowsize":2,"ax":0,"axref":"x","ay":0,"ayref":"y","showarrow":true,"x":0.5456959675665752,"xanchor":"right","y":-0.27287273413140856,"yanchor":"top"},{"ax":0,"ay":0,"text":"z_swing_percent","x":0.5456959675665752,"xanchor":"center","y":-0.27287273413140856,"yanchor":"bottom","yshift":5},{"arrowhead":2,"arrowsize":2,"ax":0,"axref":"x","ay":0,"ayref":"y","showarrow":true,"x":0.4303390858823438,"xanchor":"right","y":0.6883318038284796,"yanchor":"top"},{"ax":0,"ay":0,"text":"oz_swing_percent","x":0.4303390858823438,"xanchor":"center","y":0.6883318038284796,"yanchor":"bottom","yshift":5},{"arrowhead":2,"arrowsize":2,"ax":0,"axref":"x","ay":0,"ayref":"y","showarrow":true,"x":0.4474269651490185,"xanchor":"right","y":-0.6285862422349818,"yanchor":"top"},{"ax":0,"ay":0,"text":"meatball_swing_percent","x":0.4474269651490185,"xanchor":"center","y":-0.6285862422349818,"yanchor":"bottom","yshift":5},{"arrowhead":2,"arrowsize":2,"ax":0,"axref":"x","ay":0,"ayref":"y","showarrow":true,"x":0.5628794657838099,"xanchor":"right","y":0.23794775661642042,"yanchor":"top"},{"ax":0,"ay":0,"text":"swing_percent","x":0.5628794657838099,"xanchor":"center","y":0.23794775661642042,"yanchor":"bottom","yshift":5}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('2b78fab1-948f-44b5-a2dc-c8d6046df775');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div id="1b273fce" class="cell" data-execution_count="28">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>PCA_results_22[<span class="st">'corr_plot'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="3ea9e723-9553-4320-80d6-d1ebe1dd7b23" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("3ea9e723-9553-4320-80d6-d1ebe1dd7b23")) {                    Plotly.newPlot(                        "3ea9e723-9553-4320-80d6-d1ebe1dd7b23",                        [{"dimensions":[{"axis":{"matches":true},"label":"PC1","values":[0.9716175666409615,3.336801159424279,1.0734354336161305,1.488585099691822,-0.3666732460359569,-1.249499228011585,0.023672223084834833,-0.8628331936734013,-0.5913657265458536,2.8289578649309584,2.5984154941660575,1.700645068256297,-3.288282250367246,1.8588547513418467,0.5144157778310223,2.0529163529979235,3.0622187787835586,1.1566754113264224,-0.9390453813680238,-0.5714805087242971,0.6814151400005622,-0.732442399290115,-2.4082595738193247,1.513279595597317,-1.2827646803735264,0.9213519735772768,0.863911543469113,1.108720295690116,1.0298625854966268,1.0673729569235875,2.4087039424458148,-1.3067907047869702,-1.1951051047062538,-0.008064003160456554,-2.1138579317518054,-0.6982502126198651,-0.9740492187473622,1.29857451784184,-2.0118844683073793,-3.956046519810753,-1.7657176786236326,0.8585579925089615,1.3028583429472613,-0.13207204978382447,-1.3175602142740466,0.9963423056049479,-0.13915878507286567,1.3371096275525902,-1.8274178977117916,0.4856609432472705,0.16755509419453837,2.334649142991767,2.064050915388922,-0.19641489659403646,-1.6221368754536138,-1.8777275093830241,-1.9154855095477183,1.5709605492898175,1.6319802709075648,1.9864180750913094,1.1508494594866727,0.7412005691896825,-1.976802946088843,-1.773895568375653,-0.547020513462531,0.30131160546909247,-1.1078757400599815,-0.08585276879199043,-3.73508706009597,2.8676004910706134,2.0128804786420997,-1.441844842221909,2.452753603484325,0.6276835419003756,-3.0537354424768655,-3.788484349094484,-1.4086765756549147,-3.676411370434868,-1.785292136031926,-2.469951954016752,-1.3912508549729425,0.6350460561646664,0.39240069338290823,-1.9905505785650877,0.38910964894099526,3.8575621009915926,1.7745873872646687,1.850347400730979,1.9167931533880018,-2.560395950673694,-2.124800585197878,-1.176498378235163,0.6228826118861246,0.9263657149808465,1.3909402727208013,1.0078691279874958,0.7595753258805168,3.421912347154026,-0.32278433499317444,0.3351151237741821,1.8643998178419143,-1.4386180551521914,-1.0307851152596872,-0.4551583401543025,-0.29004835976139337,-2.538036747089231,1.6336303919190074,-1.9749127811803573,-2.1522138963048887,-0.42629516321138583,-1.9248449124287335,0.8121981298350531,-0.02187775428197218,1.318962794748431,-0.6928995840891132,3.034450647696412,0.6177900562685298,-1.873770379440322,-0.8133567438838617,-0.09793611498088992,3.175721456804507,0.20416274017943684,1.382114398774172,-1.1838918221332397,1.0115490992082423,-0.8555884015026224,-2.4898769587207394,0.08308912680235088,-1.4187410659482125,0.5770477460844623]},{"axis":{"matches":true},"label":"PC2","values":[-0.2825843061403883,-1.485102138462138,-0.5136265760485266,-1.422455477763343,0.6224580269710528,1.128018425764749,1.2732507022457786,-1.090829419284298,-1.4977716076715974,0.6148575633362237,-1.9293374371936909,-0.6058947963372655,-0.865283423531892,-0.762840464393855,-0.06836829908885797,0.347441629278018,-0.13494116799459835,-0.4035201032222611,0.9294468100988789,-1.0878269516877095,0.8712744823773491,0.6777565726620037,-0.21629186298460515,-0.1384549686533817,-0.5261334579932605,-0.7847484648388768,-0.9618309342498276,-0.26262714797916725,2.4351441888138172,0.5212591722341396,-0.9177022273684111,-0.06524495556693934,-1.1338168241689852,0.046113151771235386,-0.51366594506175,0.5210132103180597,-0.2683480578471255,0.06732733551365067,-0.3153897184519517,0.35433215190939,0.6123567671295405,0.4057403152918915,-1.0636681070910785,0.895139130552357,-0.4703620140834226,-0.0027068810468139997,0.8923644041992093,0.7789024762737571,-0.5932863065583834,-1.323202085216394,0.23046494424540231,1.1357737567866528,0.8745206564569538,1.6621338519900197,1.3113313312317576,0.1860294918030188,0.8363108453185675,0.697498981993904,-0.47232823405023905,-0.15035346318306156,-0.12270456645238201,0.24768058638775325,0.29412937404334805,-1.3198172543371218,0.6731018715456769,1.7620264168165098,1.8805648386917864,2.123194468432814,1.260896187234793,-1.6029657275124898,3.508459619300046,-1.0240397785527502,-1.0219277085264928,-0.059508262399726314,-0.25811187348695885,-1.0689714489158988,0.9359597795796973,0.30334102333274027,-1.2133207293086856,0.048878511968609074,0.4760764290220719,0.02448573266097113,-0.15458512204334732,-1.5207344108012197,-0.5776604288195275,-0.26671328647859244,-1.5466614223326036,0.7519264220188783,1.2326554634387246,-0.20046106243418235,-0.8778162723824398,-0.9000954464930708,-0.9900880442817811,1.2850019442510228,2.0444327431299603,-0.08632794452935999,0.4345063401422142,0.7451323699332943,1.2290468902156673,0.019118235041410962,-0.6713125797368936,1.3117064081432521,-0.22951628440771177,0.04084190356389796,0.8006425548452987,0.9352688296798838,0.028404616838189206,-0.1340659765358595,-0.7792746402231986,-0.655523342767607,-1.2542822209429416,-0.20594311481692779,-0.49667494960707836,-0.08739919552213485,-0.018715360796776253,0.08242468780665568,-1.2539249136027686,-0.6730893521647286,1.1829006456091475,1.2198396150095923,-0.2581615672455929,0.2955075901959495,-0.009084546748258954,-1.5326177751369672,-1.0716132649126813,-0.6458116482292183,0.6742668285546248,0.3044863195455159,-0.4372953380904207,-1.5278049367568887]},{"axis":{"matches":true},"label":"Pitches per PA","values":[3.9967585089141004,3.420814479638009,4.138769670958512,3.8912429378531073,4.020618556701031,3.9619651347068148,3.6232876712328768,3.799687010954617,4.075862068965518,3.5913978494623655,3.7142857142857144,3.9147286821705425,4.311504424778761,3.6816770186335406,3.8916083916083917,3.4857685009487667,3.6351791530944624,3.5951940850277264,3.854014598540146,3.812593703148426,3.674721189591078,4.002919708029197,3.896198830409357,3.6598540145985403,4.240121580547113,3.6351118760757317,4.0124804992199685,3.677053824362606,3.574626865671642,3.7214285714285715,3.505942275042445,4.021897810218978,4.132243684992571,3.9853479853479854,4.027331189710611,3.9471830985915495,4.28643216080402,3.646592709984152,4.311011904761905,4.1426332288401255,3.976785714285714,3.990138067061144,3.8228228228228227,3.9556962025316458,3.912655971479501,3.6672727272727275,3.8831417624521074,3.689873417721519,4.1055363321799305,3.834254143646409,4.034071550255536,3.507843137254902,3.7185741088180113,3.541586073500967,3.6534839924670433,4.053264604810996,3.993322203672788,3.8542435424354244,3.750814332247557,3.606851549755302,3.6607142857142856,3.920608108108108,4.0016583747927035,4.246376811594203,3.9178294573643413,3.6792452830188678,3.76036036036036,4.09861932938856,3.977818853974122,3.9577464788732395,3.545762711864407,4.08300395256917,4.008389261744966,3.891588785046729,3.959731543624161,4.164156626506024,3.8211920529801326,4.234732824427481,4.072695035460993,4.066543438077634,4.1,3.902135231316726,3.63953488372093,3.8429878048780486,4.030075187969925,3.8423645320197046,3.730703259005146,3.660617059891107,3.861491628614916,4.301943198804185,3.8655913978494625,4.175287356321839,4.181647940074907,3.5240549828178693,3.6696588868940756,4.183636363636364,3.801980198019802,3.7025089605734767,4.0463678516228745,3.9603603603603603,3.810966810966811,3.902946273830156,3.8664596273291925,3.869175627240143,3.581854043392505,4.092250922509225,3.84180790960452,4.209677419354839,4.107794361525705,3.8717156105100465,3.9862745098039216,3.8758169934640523,3.8379254457050243,3.9289940828402368,4.029900332225914,3.618364418938307,4.056285178236398,4.160572337042925,3.6952380952380954,3.7580645161290325,3.5577299412915853,3.6684587813620073,3.613518197573657,4.074954296160877,3.9525862068965516,4.112359550561798,4.14900153609831,4.007082152974505,4.093889716840536,3.6967370441458733]},{"axis":{"matches":true},"label":"Strikeout %","values":[26.9,15.5,24.3,14.4,16.2,18.7,12.5,16.3,21.4,24.2,15.6,22.8,25.0,20.7,22.6,18.6,18.6,16.5,18.4,19.6,23.6,12.0,19.2,18.7,15.7,17.4,23.2,16.4,16.6,25.9,10.4,24.1,17.2,27.1,26.8,22.2,26.5,17.4,25.1,9.4,21.8,24.1,24.2,25.9,18.9,15.5,23.2,21.4,16.6,16.6,23.0,21.0,27.6,11.0,13.6,17.2,20.2,23.8,23.0,15.3,18.8,24.5,7.1,27.4,24.2,17.0,17.3,23.5,13.1,31.5,24.9,17.4,24.3,28.4,14.6,14.5,14.4,28.6,21.3,10.7,20.5,21.2,12.1,11.7,16.7,25.3,17.2,17.4,27.9,29.9,10.8,25.1,34.3,19.6,20.1,27.3,19.2,23.3,18.9,26.3,24.2,15.9,13.4,18.1,12.0,17.9,18.5,25.3,13.3,15.8,19.2,20.3,18.5,23.5,17.1,22.2,23.6,31.2,17.6,11.6,15.5,12.4,18.9,18.8,26.1,24.5,21.7,18.8,24.1,14.8]},{"axis":{"matches":true},"label":"Walk %","values":[7.9,8.7,10.7,11.9,9.1,9.0,5.1,8.6,9.8,3.9,9.7,7.4,15.9,9.8,6.8,6.1,8.1,6.1,10.6,10.3,4.5,10.1,10.2,9.8,11.1,7.9,9.0,8.2,3.7,7.1,6.8,7.5,10.5,9.9,9.0,6.7,10.1,4.9,10.7,9.7,8.6,6.1,10.8,6.8,13.9,6.9,7.5,4.7,9.7,7.3,9.0,3.7,5.1,5.4,6.6,8.8,10.4,7.4,9.1,5.7,7.0,7.8,8.3,11.0,7.1,5.7,5.6,5.5,12.4,9.7,4.4,14.0,8.7,6.4,9.1,20.3,10.9,10.9,10.6,11.6,10.3,7.3,7.6,13.3,9.4,7.1,9.3,7.4,6.1,12.9,14.0,15.9,9.9,5.8,6.1,6.9,5.1,5.2,8.5,9.2,8.2,6.8,6.5,9.9,5.1,8.9,6.4,10.9,11.3,12.5,10.8,9.2,7.3,9.7,9.8,5.9,9.9,11.6,7.3,8.4,3.3,8.1,5.5,15.4,7.0,12.4,12.1,8.4,13.1,10.0]}],"hovertemplate":"%{xaxis.title.text}=%{x}\u003cbr\u003e%{yaxis.title.text}=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"name":"","showlegend":false,"type":"splom","diagonal":{"visible":false},"showupperhalf":false}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"legend":{"tracegroupgap":0},"dragmode":"select"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('3ea9e723-9553-4320-80d6-d1ebe1dd7b23');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="section-3" class="level1 page-columns page-full">
<h1>7: 2021</h1>
<div id="d09725a7" class="cell" data-execution_count="29">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>PCA_results_21 <span class="op">=</span> run_PCA(df<span class="op">=</span>decisions_df_21, disc_dict<span class="op">=</span>disc_dict, disc_metrics_dict<span class="op">=</span>disc_metrics_dict, year<span class="op">=</span><span class="st">"2021"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>display(Markdown(PCA_results_21[<span class="st">'pc_values'</span>].<span class="bu">round</span>(<span class="dv">3</span>).to_markdown()))</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>display(Markdown(PCA_results_21[<span class="st">'loadings'</span>].<span class="bu">round</span>(<span class="dv">3</span>).to_markdown()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="60bd8b7e" class="cell column-body quarto-layout-panel" data-layout="[[40,60]]" data-execution_count="30">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 40.0%;justify-content: center;">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Eigenvalue</th>
<th style="text-align: right;">Explained Variance</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">PC1</td>
<td style="text-align: right;">2.892</td>
<td style="text-align: right;">0.723</td>
</tr>
<tr class="even">
<td style="text-align: left;">PC2</td>
<td style="text-align: right;">0.958</td>
<td style="text-align: right;">0.239</td>
</tr>
<tr class="odd">
<td style="text-align: left;">PC3</td>
<td style="text-align: right;">0.133</td>
<td style="text-align: right;">0.033</td>
</tr>
<tr class="even">
<td style="text-align: left;">PC4</td>
<td style="text-align: right;">0.017</td>
<td style="text-align: right;">0.004</td>
</tr>
</tbody>
</table>
</div>
<div class="quarto-layout-cell" style="flex-basis: 60.0%;justify-content: center;">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">PC1</th>
<th style="text-align: right;">PC2</th>
<th style="text-align: right;">PC3</th>
<th style="text-align: right;">PC4</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">z_swing_percent</td>
<td style="text-align: right;">0.549</td>
<td style="text-align: right;">0.267</td>
<td style="text-align: right;">0.65</td>
<td style="text-align: right;">-0.453</td>
</tr>
<tr class="even">
<td style="text-align: left;">oz_swing_percent</td>
<td style="text-align: right;">0.448</td>
<td style="text-align: right;">-0.639</td>
<td style="text-align: right;">-0.432</td>
<td style="text-align: right;">-0.452</td>
</tr>
<tr class="odd">
<td style="text-align: left;">meatball_swing_percent</td>
<td style="text-align: right;">0.422</td>
<td style="text-align: right;">0.674</td>
<td style="text-align: right;">-0.604</td>
<td style="text-align: right;">0.042</td>
</tr>
<tr class="even">
<td style="text-align: left;">swing_percent</td>
<td style="text-align: right;">0.565</td>
<td style="text-align: right;">-0.256</td>
<td style="text-align: right;">0.163</td>
<td style="text-align: right;">0.767</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>PCA_results_21[<span class="st">'eigenvalue_fig'</span>].show()</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>PCA_results_21[<span class="st">'variance_fig'</span>].show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div id="e359ea4f" class="cell column-body quarto-layout-panel" data-execution_count="31" data-layout-ncol="2">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div>                            <div id="77c763b6-e1ff-4dec-b907-29bcc4c79697" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("77c763b6-e1ff-4dec-b907-29bcc4c79697")) {                    Plotly.newPlot(                        "77c763b6-e1ff-4dec-b907-29bcc4c79697",                        [{"hovertemplate":"Principal Component=%{x}\u003cbr\u003eEigenvalue=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":["PC1","PC2","PC3","PC4"],"xaxis":"x","y":[2.892407404283074,0.9575429924164869,0.13342618878070164,0.016623414519739744],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Principal Component"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Eigenvalue"}},"legend":{"tracegroupgap":0},"shapes":[{"line":{"color":"red","dash":"dash"},"type":"line","x0":0,"x1":1,"xref":"x domain","y0":1,"y1":1,"yref":"y"}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('77c763b6-e1ff-4dec-b907-29bcc4c79697');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: flex-start;">
<div>                            <div id="d665a1df-2636-41ea-904f-a701002df0e1" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("d665a1df-2636-41ea-904f-a701002df0e1")) {                    Plotly.newPlot(                        "d665a1df-2636-41ea-904f-a701002df0e1",                        [{"hovertemplate":"Principal Component=%{x}\u003cbr\u003eVariance Explained (Proportion)=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","line":{"color":"#636efa","dash":"solid"},"marker":{"symbol":"circle"},"mode":"lines","name":"","orientation":"v","showlegend":false,"x":["PC1","PC2","PC3","PC4"],"xaxis":"x","y":[0.7231018510707681,0.23938574810412155,0.03335654719517539,0.004155853629934933],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Principal Component"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Variance Explained (Proportion)"}},"legend":{"tracegroupgap":0}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('d665a1df-2636-41ea-904f-a701002df0e1');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</div>
<div id="4fb973c2" class="cell" data-execution_count="32">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>PCA_results_21[<span class="st">'biplot_fig'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="90c8b9a6-8de2-4a43-a684-b46e6cdcfbba" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("90c8b9a6-8de2-4a43-a684-b46e6cdcfbba")) {                    Plotly.newPlot(                        "90c8b9a6-8de2-4a43-a684-b46e6cdcfbba",                        [{"hovertemplate":"PC1=%{x}\u003cbr\u003ePC2=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"mode":"markers","name":"","orientation":"v","showlegend":false,"x":[-1.393304674970168,-1.3038303170710295,-0.8557488857938498,1.0581457994177732,3.308504550630825,0.48602143577615536,0.940696240619783,2.544331182658528,-2.3065331746361424,1.9431920709376433,0.030895923667328375,-2.4804842231109006,-2.8701714093189863,-0.7882269561553907,-1.8437133449867382,-3.363476622470161,-1.6899147341514082,-0.4487434033806517,-1.650281817240792,1.3458232403127937,-2.3311796148188293,-0.11537398796935915,3.4744963960780213,-0.2793776887645351,-1.0983422154944682,0.6463947947843283,0.9674025941663393,-0.3422192706880259,-1.0419537340381566,-0.005687829912421299,2.3798051570764964,4.223266623142639,-0.332324385277754,-3.2549611274173977,1.3121393282661726,-0.995695979551058,-0.2420798408490796,-1.4854038913679082,0.5491618444982564,-0.4362024205928497,1.9064733974128154,-1.4279656139934522,-0.5546909247515923,0.8114970024651547,-1.022143345964895,3.728334211128696,-0.8929198820396076,0.42753337288683474,-0.4072575971533578,0.714454652101583,-1.0665356301450324,1.2130312717583667,-2.5792686158265083,0.6096929850103662,0.5039458742735131,-2.1822643912243374,-0.5774229726499763,2.6735919533906016,-0.19627423088294854,3.2234548148352293,0.5700019296272636,0.45542802500481383,-2.6094874857822403,-1.9314128184876678,4.148708224715243,-1.3847081112631605,-2.1179373185930768,1.9374889463604967,0.4592369535307179,-0.233943058515481,0.9583803447877991,-0.1757644349625562,2.473412343113297,0.11823980933328329,0.26471395493191274,-3.1288190538461413,-0.5873996132805076,2.063417386474619,-1.2398995117799072,2.840929216052839,0.9686728381612921,-1.5083235490970073,0.9951122313324073,-0.3639912983475651,-0.01704637393204122,-1.2028798486006191,-0.8424405289683594,-1.2336506292681952,0.44561852473932145,-0.5487078153824685,-1.527205952151288,1.809648733050588,-0.18096406795622677,-3.8315195110577225,2.2223168523390715,0.1261339048784395,-0.4332013498033336,0.85028134692121,-1.399603818482272,-1.5815008959778942,1.6810467290735518,1.9233853071857103,-2.090306842368478,-0.7399806574031917,-1.7990162686308537,0.07537714929068853,-0.4705501259616855,-0.4128951662186697,-0.012664000573084637,-0.4254115022161577,-1.7833467905739777,-0.724823620395526,0.7193414350474114,1.1507442542482273,-1.720104561179112,4.2694935154393665,1.5941120489348672,-2.0042772951141616,3.8421142866640965,-0.4979589092570235,0.6485691114112767,-0.10584187821705433,0.7658665413197898,-1.4889244392394254,0.3685404491811551,-0.9474873608089643,2.1149389090148563,0.9355168638819064,1.4869990955335586,2.4916095187599874,-1.9487618603059593,0.3170495810215141],"xaxis":"x","y":[1.2868493749236607,-0.01451906045556035,0.3714477692032005,0.45912045923618544,0.0461231669757451,-0.3105397155773963,0.16425358882020485,1.3392304513101396,0.5726087767242267,0.8763878320935213,-0.4081724912233674,0.6663080639603655,0.2891487285209777,1.0642347789936424,-0.5103009699151269,-0.5063681779207957,-1.4058553986099582,0.8453912198289555,-1.3872354734645225,-0.019553817079321828,1.227017856184459,0.2714745139309524,-0.6075492310515499,-1.1916361053196358,-1.4912519223866945,-0.4320448422237385,0.2589689993196527,-0.3706249287228214,0.44731282889560475,-2.0688951649639065,-0.6068015831565468,1.1509898175570843,1.0677503569043942,1.1442835737457273,1.5941049030422068,-1.3460508286048944,-1.5285822569324836,-0.7715936077356351,-0.40981813944810075,-0.17291785819322594,0.49714218928179366,-0.5562018118285964,0.3713284449596315,0.5797195676202267,-1.6978086531640884,-1.4564809619310983,-1.123302893973782,-0.5404445551329968,-2.2541421081014663,1.30873496484929,-0.04581461154396138,-0.06238632541297488,1.6645835968716576,-0.14429873427555595,0.17853447740333214,0.03902251749997625,0.06386209287653295,0.45025420871549987,1.2665444123859508,-0.2708127417885904,0.9807923551090884,1.186130967958201,-0.1401997390313826,-0.3307563550159181,-1.6456018394755303,0.20971746262687352,0.9710407434074633,0.06518682013345696,-1.6226874760865169,-0.7451067910611887,-0.9827888507846563,1.2529622998574859,0.9654673870602001,-0.2789105174844812,-0.24727208415350493,1.1513962592431854,1.1441402204305593,1.7300336540615113,-0.2943669471552684,2.09125020546396,0.7552151351462085,-0.14592095808256034,-0.15906929817505136,-0.21003282099424253,-0.38580380963793126,-1.254896254902539,0.9608241179650823,0.5092094236656398,0.926992108159418,-1.3303061376220864,-0.9424673138274167,0.24306619957960648,-1.4643017314338733,1.7786774182472715,-1.1926925144081375,0.7083346284231514,1.2850687423578848,-0.03786381476579209,-0.36725367967506145,0.2337325334215844,-0.041295062146463515,0.7072754169537522,-1.1675150089809392,-0.97193510925597,-0.11230851210952848,1.21882825371927,-0.0785377132914622,-0.23442253702966093,-2.211378706532628,1.3338811132168356,1.2229386388862526,0.40721135114097506,-0.311893286169916,0.2915042236726182,-0.01898826709491625,0.1944965296180325,-0.9191199749007102,-0.2500006250017154,-0.3672466900800184,0.10691976180686258,-0.4320551089233581,-1.1957218998034223,1.0935538197114263,-2.232815577862574,0.9330511647762045,-1.2559637634368335,-2.374581237049557,1.3674519707685342,0.9306864199882753,-0.174514177599115,0.19423785749986458,1.126588424468784],"yaxis":"y","type":"scatter","opacity":0.3}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"PC1"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"PC2"}},"legend":{"tracegroupgap":0},"annotations":[{"arrowhead":2,"arrowsize":2,"ax":0,"axref":"x","ay":0,"ayref":"y","showarrow":true,"x":0.5491347562838018,"xanchor":"right","y":0.26664737014833834,"yanchor":"top"},{"ax":0,"ay":0,"text":"z_swing_percent","x":0.5491347562838018,"xanchor":"center","y":0.26664737014833834,"yanchor":"bottom","yshift":5},{"arrowhead":2,"arrowsize":2,"ax":0,"axref":"x","ay":0,"ayref":"y","showarrow":true,"x":0.44803427248644234,"xanchor":"right","y":-0.6391102895957448,"yanchor":"top"},{"ax":0,"ay":0,"text":"oz_swing_percent","x":0.44803427248644234,"xanchor":"center","y":-0.6391102895957448,"yanchor":"bottom","yshift":5},{"arrowhead":2,"arrowsize":2,"ax":0,"axref":"x","ay":0,"ayref":"y","showarrow":true,"x":0.422298850039246,"xanchor":"right","y":0.6743421223301119,"yanchor":"top"},{"ax":0,"ay":0,"text":"meatball_swing_percent","x":0.422298850039246,"xanchor":"center","y":0.6743421223301119,"yanchor":"bottom","yshift":5},{"arrowhead":2,"arrowsize":2,"ax":0,"axref":"x","ay":0,"ayref":"y","showarrow":true,"x":0.5651371438635097,"xanchor":"right","y":-0.2563199558698827,"yanchor":"top"},{"ax":0,"ay":0,"text":"swing_percent","x":0.5651371438635097,"xanchor":"center","y":-0.2563199558698827,"yanchor":"bottom","yshift":5}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('90c8b9a6-8de2-4a43-a684-b46e6cdcfbba');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div id="51351b52" class="cell" data-execution_count="33">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>PCA_results_21[<span class="st">'corr_plot'</span>]</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="0be455d1-bf4e-4ed7-8286-32afcbb9e8d9" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("0be455d1-bf4e-4ed7-8286-32afcbb9e8d9")) {                    Plotly.newPlot(                        "0be455d1-bf4e-4ed7-8286-32afcbb9e8d9",                        [{"dimensions":[{"axis":{"matches":true},"label":"PC1","values":[-1.393304674970168,-1.3038303170710295,-0.8557488857938498,1.0581457994177732,3.308504550630825,0.48602143577615536,0.940696240619783,2.544331182658528,-2.3065331746361424,1.9431920709376433,0.030895923667328375,-2.4804842231109006,-2.8701714093189863,-0.7882269561553907,-1.8437133449867382,-3.363476622470161,-1.6899147341514082,-0.4487434033806517,-1.650281817240792,1.3458232403127937,-2.3311796148188293,-0.11537398796935915,3.4744963960780213,-0.2793776887645351,-1.0983422154944682,0.6463947947843283,0.9674025941663393,-0.3422192706880259,-1.0419537340381566,-0.005687829912421299,2.3798051570764964,4.223266623142639,-0.332324385277754,-3.2549611274173977,1.3121393282661726,-0.995695979551058,-0.2420798408490796,-1.4854038913679082,0.5491618444982564,-0.4362024205928497,1.9064733974128154,-1.4279656139934522,-0.5546909247515923,0.8114970024651547,-1.022143345964895,3.728334211128696,-0.8929198820396076,0.42753337288683474,-0.4072575971533578,0.714454652101583,-1.0665356301450324,1.2130312717583667,-2.5792686158265083,0.6096929850103662,0.5039458742735131,-2.1822643912243374,-0.5774229726499763,2.6735919533906016,-0.19627423088294854,3.2234548148352293,0.5700019296272636,0.45542802500481383,-2.6094874857822403,-1.9314128184876678,4.148708224715243,-1.3847081112631605,-2.1179373185930768,1.9374889463604967,0.4592369535307179,-0.233943058515481,0.9583803447877991,-0.1757644349625562,2.473412343113297,0.11823980933328329,0.26471395493191274,-3.1288190538461413,-0.5873996132805076,2.063417386474619,-1.2398995117799072,2.840929216052839,0.9686728381612921,-1.5083235490970073,0.9951122313324073,-0.3639912983475651,-0.01704637393204122,-1.2028798486006191,-0.8424405289683594,-1.2336506292681952,0.44561852473932145,-0.5487078153824685,-1.527205952151288,1.809648733050588,-0.18096406795622677,-3.8315195110577225,2.2223168523390715,0.1261339048784395,-0.4332013498033336,0.85028134692121,-1.399603818482272,-1.5815008959778942,1.6810467290735518,1.9233853071857103,-2.090306842368478,-0.7399806574031917,-1.7990162686308537,0.07537714929068853,-0.4705501259616855,-0.4128951662186697,-0.012664000573084637,-0.4254115022161577,-1.7833467905739777,-0.724823620395526,0.7193414350474114,1.1507442542482273,-1.720104561179112,4.2694935154393665,1.5941120489348672,-2.0042772951141616,3.8421142866640965,-0.4979589092570235,0.6485691114112767,-0.10584187821705433,0.7658665413197898,-1.4889244392394254,0.3685404491811551,-0.9474873608089643,2.1149389090148563,0.9355168638819064,1.4869990955335586,2.4916095187599874,-1.9487618603059593,0.3170495810215141]},{"axis":{"matches":true},"label":"PC2","values":[1.2868493749236607,-0.01451906045556035,0.3714477692032005,0.45912045923618544,0.0461231669757451,-0.3105397155773963,0.16425358882020485,1.3392304513101396,0.5726087767242267,0.8763878320935213,-0.4081724912233674,0.6663080639603655,0.2891487285209777,1.0642347789936424,-0.5103009699151269,-0.5063681779207957,-1.4058553986099582,0.8453912198289555,-1.3872354734645225,-0.019553817079321828,1.227017856184459,0.2714745139309524,-0.6075492310515499,-1.1916361053196358,-1.4912519223866945,-0.4320448422237385,0.2589689993196527,-0.3706249287228214,0.44731282889560475,-2.0688951649639065,-0.6068015831565468,1.1509898175570843,1.0677503569043942,1.1442835737457273,1.5941049030422068,-1.3460508286048944,-1.5285822569324836,-0.7715936077356351,-0.40981813944810075,-0.17291785819322594,0.49714218928179366,-0.5562018118285964,0.3713284449596315,0.5797195676202267,-1.6978086531640884,-1.4564809619310983,-1.123302893973782,-0.5404445551329968,-2.2541421081014663,1.30873496484929,-0.04581461154396138,-0.06238632541297488,1.6645835968716576,-0.14429873427555595,0.17853447740333214,0.03902251749997625,0.06386209287653295,0.45025420871549987,1.2665444123859508,-0.2708127417885904,0.9807923551090884,1.186130967958201,-0.1401997390313826,-0.3307563550159181,-1.6456018394755303,0.20971746262687352,0.9710407434074633,0.06518682013345696,-1.6226874760865169,-0.7451067910611887,-0.9827888507846563,1.2529622998574859,0.9654673870602001,-0.2789105174844812,-0.24727208415350493,1.1513962592431854,1.1441402204305593,1.7300336540615113,-0.2943669471552684,2.09125020546396,0.7552151351462085,-0.14592095808256034,-0.15906929817505136,-0.21003282099424253,-0.38580380963793126,-1.254896254902539,0.9608241179650823,0.5092094236656398,0.926992108159418,-1.3303061376220864,-0.9424673138274167,0.24306619957960648,-1.4643017314338733,1.7786774182472715,-1.1926925144081375,0.7083346284231514,1.2850687423578848,-0.03786381476579209,-0.36725367967506145,0.2337325334215844,-0.041295062146463515,0.7072754169537522,-1.1675150089809392,-0.97193510925597,-0.11230851210952848,1.21882825371927,-0.0785377132914622,-0.23442253702966093,-2.211378706532628,1.3338811132168356,1.2229386388862526,0.40721135114097506,-0.311893286169916,0.2915042236726182,-0.01898826709491625,0.1944965296180325,-0.9191199749007102,-0.2500006250017154,-0.3672466900800184,0.10691976180686258,-0.4320551089233581,-1.1957218998034223,1.0935538197114263,-2.232815577862574,0.9330511647762045,-1.2559637634368335,-2.374581237049557,1.3674519707685342,0.9306864199882753,-0.174514177599115,0.19423785749986458,1.126588424468784]},{"axis":{"matches":true},"label":"Pitches per PA","values":[3.7541589648798523,4.191588785046729,4.104304635761589,3.8547486033519553,3.663247863247863,3.893805309734513,3.6222222222222222,3.921245421245421,4.2272,3.890710382513661,4.068690095846645,4.058181818181819,4.158307210031348,4.1876172607879925,4.205974842767295,4.188589540412044,4.189982728842833,3.9530075187969924,4.050980392156863,4.036974789915966,4.1138519924098675,3.857142857142857,3.647912885662432,3.8483245149911816,4.0195694716242665,3.7452471482889735,4.013355592654424,3.780028943560058,4.027777777777778,3.888288288288288,4.032154340836013,3.801749271137026,4.0083056478405314,4.111486486486487,3.8591331269349847,3.8715277777777777,3.7948243992606283,3.677165354330709,3.8649068322981366,3.83271375464684,3.8011152416356877,3.7628318584070795,4.12593984962406,3.8088737201365186,3.741194486983155,3.7751371115173673,4.154228855721393,3.8688212927756656,3.6666666666666665,3.5945558739255015,4.087237479806139,3.919939577039275,4.198211624441132,3.8232044198895028,3.84984520123839,4.210909090909091,3.712430426716141,3.7680722891566263,3.9134438305709023,3.916382252559727,4.0,3.841549295774648,3.917525773195876,3.786936236391913,3.5969924812030074,4.106221547799697,4.240259740259741,3.677064220183486,3.7016885553470917,4.0064935064935066,3.8299445471349354,3.970703125,3.803252032520325,3.6710914454277286,3.496875,4.231729055258467,4.30064308681672,3.8676258992805757,3.884105960264901,3.8447971781305115,4.001801801801802,3.788429752066116,3.683076923076923,3.68075117370892,4.023668639053255,3.3353383458646615,4.205607476635514,4.192733017377567,3.9479326186830015,4.005484460694698,3.476534296028881,4.0018939393939394,3.954476479514416,3.977064220183486,3.3637992831541217,4.0033840947546535,4.037292817679558,3.8119402985074626,4.051546391752577,4.0625909752547305,3.8487394957983194,3.7636986301369864,4.008361204013378,4.015918958031838,4.214285714285714,4.0271317829457365,3.834074074074074,3.683848797250859,3.6956521739130435,4.096219931271477,4.020905923344948,3.871794871794872,3.90316573556797,3.607535321821036,4.165505226480836,3.4097087378640776,3.8397626112759644,4.078125,3.781159420289855,3.9964912280701754,3.8564102564102565,3.8304195804195804,4.006711409395973,3.5391432791728215,4.059467918622849,3.6994328922495274,3.63600782778865,4.008347245409015,3.895049504950495,3.8012618296529967,3.8091743119266055,4.121842496285289]},{"axis":{"matches":true},"label":"Strikeout %","values":[15.7,25.2,28.1,31.3,20.7,17.5,14.3,28.0,20.5,19.1,21.6,15.6,19.0,23.8,13.7,22.3,27.1,24.6,18.2,23.4,22.6,21.2,21.6,13.8,20.9,18.8,20.7,13.7,16.0,31.4,31.2,18.7,23.6,20.3,18.4,15.1,15.0,10.4,18.3,17.1,18.0,13.1,34.4,23.0,14.7,33.6,18.7,22.4,20.4,15.8,24.6,25.4,23.1,28.4,17.0,24.9,13.7,21.5,21.0,27.5,18.3,17.8,13.8,14.0,25.6,15.5,34.6,20.9,13.1,23.2,18.9,21.1,27.2,13.4,15.9,22.8,32.5,15.4,15.9,15.9,28.1,11.2,16.3,10.8,28.6,9.0,29.2,25.0,25.6,21.4,7.4,27.3,21.7,14.2,13.4,20.6,20.2,24.0,20.0,16.6,24.9,21.6,24.2,24.5,25.5,20.2,18.5,15.6,18.3,28.7,23.0,18.8,24.0,19.9,29.8,23.5,19.7,18.1,19.9,20.4,26.0,22.7,24.7,13.3,29.6,20.2,14.7,22.4,26.1,23.7,19.4,16.8]},{"axis":{"matches":true},"label":"Walk %","values":[12.8,12.5,9.3,7.1,7.0,8.5,5.6,11.4,12.3,10.2,10.4,12.4,10.5,14.4,11.3,11.3,10.9,9.6,9.0,8.9,10.2,9.3,4.0,6.9,6.7,8.2,8.0,5.5,10.0,6.3,5.1,6.9,11.1,14.0,11.6,9.0,5.7,6.5,7.0,8.6,6.7,8.7,11.1,10.6,7.7,5.1,10.3,7.6,5.3,12.3,9.2,7.9,14.6,7.9,6.3,10.5,6.9,9.3,13.6,7.0,11.1,11.4,10.8,8.6,4.2,13.1,18.0,5.0,7.5,8.3,5.9,9.6,11.1,9.7,9.8,13.9,12.9,12.2,8.4,9.3,10.3,9.8,7.1,7.5,6.7,4.7,11.6,11.8,8.0,11.0,4.9,6.3,9.3,22.2,5.6,10.0,9.1,8.8,9.9,8.4,6.1,8.7,8.4,7.8,13.6,9.7,8.7,9.3,4.2,10.8,14.1,10.4,8.9,9.4,9.8,7.4,5.5,11.7,5.8,11.1,8.2,7.7,9.9,4.1,15.0,5.3,4.1,16.7,9.1,8.7,7.7,13.1]}],"hovertemplate":"%{xaxis.title.text}=%{x}\u003cbr\u003e%{yaxis.title.text}=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"name":"","showlegend":false,"type":"splom","diagonal":{"visible":false},"showupperhalf":false}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"legend":{"tracegroupgap":0},"dragmode":"select"},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('0be455d1-bf4e-4ed7-8286-32afcbb9e8d9');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
</section>
<section id="inter-year-interpretation" class="level1">
<h1>8: Inter-Year Interpretation</h1>
<p>Despite some minute differences, the same general pattern emerged for the PCA results within each year. PC1 accounts for the vast majority of the variance in each year (72.3% - 78.9%), with positive loading scores from zone swing percentage (.536 - .549), out of zone swing percentage (.430 - .454), meatball swing percentage (.422 - .454), and overall swing percentage (.548 - .565). PC2 accounts for the majority of the variance not explained by PC1 in each year (18.4% - 23.9%). Combined, these two account for between 96.2% and 97.2% of the overall variance in swing decision features. While the loading score signs on PC2 vary between years, the pattern is consistent: meatball swing and zone swing percentage load in the opposite direction of out of zone swing and overall swing percentage. This pattern is far more important for interpretablity, as it shows PC2 begins to distinguish a player’s tendency to swing at good pitches (meatball swing and zone swing percentage) as opposed to bad ones (out of zone swing percentage) or just any pitch (swing percentage).</p>
</section>
<section id="run-intraclass-correlations-between-years" class="level1 page-columns page-full">
<h1>9: Run Intraclass Correlations Between Years</h1>
<p>Even though the PCs looked comparable between seasons, I tested the consistency of PC1 and PC2 loading scores using intraclass correlation (ICC). While this kind of test is better known for assessing subjective measurements from human raters, I used year as the rater and player as the subject being rated. For a primer on the subject, check out the Medium blog post from <span class="citation" data-cites="assana2024">Assana (<a href="#ref-assana2024" role="doc-biblioref">2024</a>)</span> on the topic. Using the flow chart they provided, I decided to use the ICC3k test, based on the following criteria:</p>
<ul>
<li><p>The ICCs compared hitters’ scores between each year (Inter-rater Reliability)</p></li>
<li><p>The same years were used to rate each hitter, which were not randomized (Two-way Mixed Effects)</p></li>
<li><p>Consistency between years was the primary metric of interest, rather than trying to compare a single year to all others (Mean of <em>k</em> raters)</p></li>
<li><p>Consistency is more informative than absolute agreement, since some drift between seasons is expected (e.g., yearly changes in league-wide offensive production) and relative stability is the real metric of interest</p></li>
</ul>
<p>To perform ICC, I performed the following data preparation steps:</p>
<ol type="1">
<li>Invert PC2 scores for 2022 and 2024 to align all seasons, since the features loaded in the opposite direction of 2021 and 2023</li>
<li>Merge the seasons into one dataframe and select only relevant columns</li>
<li>Filter out players with fewer than four years of data</li>
<li>Run ICC on PC1 and PC2 using <code>year</code> as the rater, PC score as the ratings, and the hitter as the target</li>
<li>Interpret ICC3k test results</li>
</ol>
<div id="16107135" class="cell" data-execution_count="34">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># invert PC2 loading scores from 22 and 24 so all seasons match</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>disc_df_24[[<span class="st">'PC2'</span>]] <span class="op">=</span> disc_df_24[[<span class="st">'PC2'</span>]] <span class="op">*</span> <span class="op">-</span><span class="dv">1</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>disc_df_22[[<span class="st">'PC2'</span>]] <span class="op">=</span> disc_df_22[[<span class="st">'PC2'</span>]] <span class="op">*</span> <span class="op">-</span><span class="dv">1</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="f56502ba" class="cell" data-execution_count="35">
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create one df for all seasons</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>merged_dfs <span class="op">=</span> pd.concat([</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>    disc_df_24, </span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>    disc_df_23, </span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    disc_df_22,</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>    disc_df_21</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>])</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="7b81ecbd" class="cell" data-execution_count="36">
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select columns of interest for ICC</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>icc_PCs <span class="op">=</span> merged_dfs[[</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    <span class="st">'last_name, first_name'</span>, <span class="st">'player_id'</span>, <span class="st">'year'</span>, <span class="st">'PC1'</span>, <span class="st">'PC2'</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>    ]].copy()</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>icc_PCs.reset_index(drop<span class="op">=</span><span class="va">True</span>, inplace<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>icc_PCs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="36">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">last_name, first_name</th>
<th data-quarto-table-cell-role="th">player_id</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">PC1</th>
<th data-quarto-table-cell-role="th">PC2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Reynolds, Bryan</td>
<td>668804</td>
<td>2024</td>
<td>1.623757</td>
<td>0.774924</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>Hoskins, Rhys</td>
<td>656555</td>
<td>2024</td>
<td>-2.170985</td>
<td>-0.500556</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Chisholm Jr., Jazz</td>
<td>665862</td>
<td>2024</td>
<td>-0.154301</td>
<td>-0.266984</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Walker, Christian</td>
<td>572233</td>
<td>2024</td>
<td>0.174982</td>
<td>0.717209</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>Gurriel Jr., Lourdes</td>
<td>666971</td>
<td>2024</td>
<td>0.884274</td>
<td>-0.673592</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">520</td>
<td>Harper, Bryce</td>
<td>547180</td>
<td>2021</td>
<td>0.935517</td>
<td>1.367452</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">521</td>
<td>Villar, Jonathan</td>
<td>542340</td>
<td>2021</td>
<td>1.486999</td>
<td>0.930686</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">522</td>
<td>Martinez, J.D.</td>
<td>502110</td>
<td>2021</td>
<td>2.491610</td>
<td>-0.174514</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">523</td>
<td>Smith, Pavin</td>
<td>656976</td>
<td>2021</td>
<td>-1.948762</td>
<td>0.194238</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">524</td>
<td>Olson, Matt</td>
<td>621566</td>
<td>2021</td>
<td>0.317050</td>
<td>1.126588</td>
</tr>
</tbody>
</table>

<p>525 rows × 5 columns</p>
</div>
</div>
</div>
</div>
<div id="9a23f14a" class="cell" data-execution_count="37">
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create logic to only include players with four seasons of data</span></span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="co"># count number of seasons for each player</span></span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>player_year_counts <span class="op">=</span> icc_PCs.groupby(<span class="st">'player_id'</span>)[<span class="st">'year'</span>].nunique()</span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a><span class="co"># create a list of players with four seasons</span></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>four_year_players <span class="op">=</span> player_year_counts[player_year_counts <span class="op">==</span> <span class="dv">4</span>].index </span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a><span class="co"># separate out the players with four seasons</span></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a>full_icc_PCs <span class="op">=</span> icc_PCs[icc_PCs[<span class="st">'player_id'</span>].isin(four_year_players)].copy()</span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>full_icc_PCs.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="37">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">last_name, first_name</th>
<th data-quarto-table-cell-role="th">player_id</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">PC1</th>
<th data-quarto-table-cell-role="th">PC2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Reynolds, Bryan</td>
<td>668804</td>
<td>2024</td>
<td>1.623757</td>
<td>0.774924</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>France, Ty</td>
<td>664034</td>
<td>2024</td>
<td>1.288773</td>
<td>0.846018</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>Freeman, Freddie</td>
<td>518692</td>
<td>2024</td>
<td>0.985310</td>
<td>0.968539</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16</td>
<td>Ohtani, Shohei</td>
<td>660271</td>
<td>2024</td>
<td>0.062435</td>
<td>0.472165</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17</td>
<td>McMahon, Ryan</td>
<td>641857</td>
<td>2024</td>
<td>-0.715191</td>
<td>-0.153818</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="10e236ea" class="cell" data-execution_count="38">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># run ICC on PC1, with player as target, year as rater, and PC1 scores as ratings</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>PC1_ICC <span class="op">=</span> pingouin.intraclass_corr(</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>    full_icc_PCs, </span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>    targets<span class="op">=</span><span class="st">'player_id'</span>, </span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>    raters<span class="op">=</span><span class="st">'year'</span>, </span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a>    ratings<span class="op">=</span><span class="st">'PC1'</span>, </span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>    nan_policy<span class="op">=</span><span class="st">'omit'</span></span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a>PC1_ICC.set_index(<span class="st">'Type'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="38">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Description</th>
<th data-quarto-table-cell-role="th">ICC</th>
<th data-quarto-table-cell-role="th">F</th>
<th data-quarto-table-cell-role="th">df1</th>
<th data-quarto-table-cell-role="th">df2</th>
<th data-quarto-table-cell-role="th">pval</th>
<th data-quarto-table-cell-role="th">CI95%</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">ICC1</td>
<td>Single raters absolute</td>
<td>0.775691</td>
<td>14.832568</td>
<td>35</td>
<td>108</td>
<td>1.342843e-27</td>
<td>[0.66, 0.86]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ICC2</td>
<td>Single random raters</td>
<td>0.775757</td>
<td>14.910286</td>
<td>35</td>
<td>105</td>
<td>3.220184e-27</td>
<td>[0.66, 0.86]</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ICC3</td>
<td>Single fixed raters</td>
<td>0.776665</td>
<td>14.910286</td>
<td>35</td>
<td>105</td>
<td>3.220184e-27</td>
<td>[0.67, 0.87]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ICC1k</td>
<td>Average raters absolute</td>
<td>0.932581</td>
<td>14.832568</td>
<td>35</td>
<td>108</td>
<td>1.342843e-27</td>
<td>[0.89, 0.96]</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ICC2k</td>
<td>Average random raters</td>
<td>0.932604</td>
<td>14.910286</td>
<td>35</td>
<td>105</td>
<td>3.220184e-27</td>
<td>[0.89, 0.96]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ICC3k</td>
<td>Average fixed raters</td>
<td>0.932932</td>
<td>14.910286</td>
<td>35</td>
<td>105</td>
<td>3.220184e-27</td>
<td>[0.89, 0.96]</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<hr>
<p>PC1 exhibited an ICC of .933 (<em>F</em> = 14.91, <em>p</em> &lt; .001), indicative of highly correlated observations. Even though this application deviates from a typical ICC test, this result indicates excellent reliability of PC1 scores between seasons <span class="citation" data-cites="assana2024">(<a href="#ref-assana2024" role="doc-biblioref">Assana, 2024</a>)</span>. The plot below depicts a hitter’s PC1 score for each year. The lines are a bit small and dense, but the legend on the right allows for toggling each hitter by clicking their name.</p>
<div id="b79685fc" class="cell" data-execution_count="39">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create line graph for year and PC</span></span>
<span id="cb40-2"><a href="#cb40-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.line(</span>
<span id="cb40-3"><a href="#cb40-3" aria-hidden="true" tabindex="-1"></a>    full_icc_PCs, </span>
<span id="cb40-4"><a href="#cb40-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'year'</span>, </span>
<span id="cb40-5"><a href="#cb40-5" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'PC1'</span>, </span>
<span id="cb40-6"><a href="#cb40-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># use color for hitter</span></span>
<span id="cb40-7"><a href="#cb40-7" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">'last_name, first_name'</span>,</span>
<span id="cb40-8"><a href="#cb40-8" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">1000</span>,</span>
<span id="cb40-9"><a href="#cb40-9" aria-hidden="true" tabindex="-1"></a>    <span class="co"># label each point with hitter's name</span></span>
<span id="cb40-10"><a href="#cb40-10" aria-hidden="true" tabindex="-1"></a>    hover_data<span class="op">=</span>[<span class="st">'last_name, first_name'</span>, <span class="st">'player_id'</span>],</span>
<span id="cb40-11"><a href="#cb40-11" aria-hidden="true" tabindex="-1"></a>    labels<span class="op">=</span>{<span class="st">'last_name, first_name'</span>: <span class="st">'Player'</span>},</span>
<span id="cb40-12"><a href="#cb40-12" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'PC1 Scores Between Years'</span></span>
<span id="cb40-13"><a href="#cb40-13" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb40-14"><a href="#cb40-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-15"><a href="#cb40-15" aria-hidden="true" tabindex="-1"></a><span class="co"># update lines to make them more visible</span></span>
<span id="cb40-16"><a href="#cb40-16" aria-hidden="true" tabindex="-1"></a>fig.update_traces(</span>
<span id="cb40-17"><a href="#cb40-17" aria-hidden="true" tabindex="-1"></a>    marker<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">5</span>, opacity<span class="op">=</span><span class="fl">0.1</span>), </span>
<span id="cb40-18"><a href="#cb40-18" aria-hidden="true" tabindex="-1"></a>    line<span class="op">=</span><span class="bu">dict</span>(width<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb40-19"><a href="#cb40-19" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb40-20"><a href="#cb40-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-21"><a href="#cb40-21" aria-hidden="true" tabindex="-1"></a><span class="co"># fix x-axis for discrete years only</span></span>
<span id="cb40-22"><a href="#cb40-22" aria-hidden="true" tabindex="-1"></a>fig.update_xaxes(</span>
<span id="cb40-23"><a href="#cb40-23" aria-hidden="true" tabindex="-1"></a>    tickmode<span class="op">=</span><span class="st">'array'</span>,</span>
<span id="cb40-24"><a href="#cb40-24" aria-hidden="true" tabindex="-1"></a>    tickvals<span class="op">=</span>[<span class="dv">2021</span>, <span class="dv">2022</span>, <span class="dv">2023</span>, <span class="dv">2024</span>],</span>
<span id="cb40-25"><a href="#cb40-25" aria-hidden="true" tabindex="-1"></a>    ticktext<span class="op">=</span>[<span class="st">'2021'</span>, <span class="st">'2022'</span>, <span class="st">'2023'</span>, <span class="st">'2024'</span>]</span>
<span id="cb40-26"><a href="#cb40-26" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb40-27"><a href="#cb40-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb40-28"><a href="#cb40-28" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="a95baa3f-f53b-4f21-9dcd-248bc352eefe" class="plotly-graph-div" style="height:1000px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("a95baa3f-f53b-4f21-9dcd-248bc352eefe")) {                    Plotly.newPlot(                        "a95baa3f-f53b-4f21-9dcd-248bc352eefe",                        [{"customdata":[["Reynolds, Bryan",668804],["Reynolds, Bryan",668804],["Reynolds, Bryan",668804],["Reynolds, Bryan",668804]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Reynolds, Bryan","line":{"color":"#636efa","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Reynolds, Bryan","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[1.62375732545916,0.9720337815711552,1.6319802709075648,1.3121393282661726],"yaxis":"y","type":"scatter"},{"customdata":[["France, Ty",664034],["France, Ty",664034],["France, Ty",664034],["France, Ty",664034]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"France, Ty","line":{"color":"#EF553B","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"France, Ty","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[1.2887733004917568,1.86767312333055,1.9864180750913094,0.9951122313324073],"yaxis":"y","type":"scatter"},{"customdata":[["Freeman, Freddie",518692],["Freeman, Freddie",518692],["Freeman, Freddie",518692],["Freeman, Freddie",518692]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Freeman, Freddie","line":{"color":"#00cc96","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Freeman, Freddie","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.9853100434266071,2.0402069852711393,1.488585099691822,2.063417386474619],"yaxis":"y","type":"scatter"},{"customdata":[["Ohtani, Shohei",660271],["Ohtani, Shohei",660271],["Ohtani, Shohei",660271],["Ohtani, Shohei",660271]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Ohtani, Shohei","line":{"color":"#ab63fa","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Ohtani, Shohei","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.06243489239564494,0.2718267678078418,1.3028583429472613,0.3685404491811551],"yaxis":"y","type":"scatter"},{"customdata":[["McMahon, Ryan",641857],["McMahon, Ryan",641857],["McMahon, Ryan",641857],["McMahon, Ryan",641857]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"McMahon, Ryan","line":{"color":"#FFA15A","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"McMahon, Ryan","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.7151914269220159,0.04775856114611353,-0.9740492187473622,0.7658665413197898],"yaxis":"y","type":"scatter"},{"customdata":[["Cronenworth, Jake",630105],["Cronenworth, Jake",630105],["Cronenworth, Jake",630105],["Cronenworth, Jake",630105]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Cronenworth, Jake","line":{"color":"#19d3f3","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Cronenworth, Jake","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.9062333647771861,-0.7651232461594121,-2.4082595738193247,-1.9314128184876678],"yaxis":"y","type":"scatter"},{"customdata":[["Devers, Rafael",646240],["Devers, Rafael",646240],["Devers, Rafael",646240],["Devers, Rafael",646240]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Devers, Rafael","line":{"color":"#FF6692","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Devers, Rafael","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[1.309778163946909,2.1306251805765575,3.0622187787835586,2.6735919533906016],"yaxis":"y","type":"scatter"},{"customdata":[["Hern\u00e1ndez, Teoscar",606192],["Hern\u00e1ndez, Teoscar",606192],["Hern\u00e1ndez, Teoscar",606192],["Hern\u00e1ndez, Teoscar",606192]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Hern\u00e1ndez, Teoscar","line":{"color":"#B6E880","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Hern\u00e1ndez, Teoscar","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[1.2919701678069508,1.9007087705216714,0.6276835419003756,1.6810467290735518],"yaxis":"y","type":"scatter"},{"customdata":[["D\u00edaz, Yandy",650490],["D\u00edaz, Yandy",650490],["D\u00edaz, Yandy",650490],["D\u00edaz, Yandy",650490]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"D\u00edaz, Yandy","line":{"color":"#FF97FF","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"D\u00edaz, Yandy","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-1.4103231963395886,-1.120104966780263,-2.124800585197878,-1.393304674970168],"yaxis":"y","type":"scatter"},{"customdata":[["Su\u00e1rez, Eugenio",553993],["Su\u00e1rez, Eugenio",553993],["Su\u00e1rez, Eugenio",553993],["Su\u00e1rez, Eugenio",553993]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Su\u00e1rez, Eugenio","line":{"color":"#FECB52","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Su\u00e1rez, Eugenio","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.2594475301148198,-0.7952356478368727,-1.873770379440322,-1.720104561179112],"yaxis":"y","type":"scatter"},{"customdata":[["Ram\u00edrez, Jos\u00e9",608070],["Ram\u00edrez, Jos\u00e9",608070],["Ram\u00edrez, Jos\u00e9",608070],["Ram\u00edrez, Jos\u00e9",608070]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Ram\u00edrez, Jos\u00e9","line":{"color":"#636efa","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Ram\u00edrez, Jos\u00e9","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.4700901563951067,-0.48717777717850724,-0.732442399290115,-1.8437133449867382],"yaxis":"y","type":"scatter"},{"customdata":[["Olson, Matt",621566],["Olson, Matt",621566],["Olson, Matt",621566],["Olson, Matt",621566]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Olson, Matt","line":{"color":"#EF553B","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Olson, Matt","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.9711054437758037,0.4274021457968268,1.0734354336161305,0.3170495810215141],"yaxis":"y","type":"scatter"},{"customdata":[["Castellanos, Nick",592206],["Castellanos, Nick",592206],["Castellanos, Nick",592206],["Castellanos, Nick",592206]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Castellanos, Nick","line":{"color":"#00cc96","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Castellanos, Nick","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[3.6458633505753775,3.197469841804163,3.421912347154026,3.308504550630825],"yaxis":"y","type":"scatter"},{"customdata":[["Santana, Carlos",467793],["Santana, Carlos",467793],["Santana, Carlos",467793],["Santana, Carlos",467793]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Santana, Carlos","line":{"color":"#ab63fa","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Santana, Carlos","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-1.6198355821919164,-0.3766450605664115,-1.441844842221909,-1.3847081112631605],"yaxis":"y","type":"scatter"},{"customdata":[["Chapman, Matt",656305],["Chapman, Matt",656305],["Chapman, Matt",656305],["Chapman, Matt",656305]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Chapman, Matt","line":{"color":"#FFA15A","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Chapman, Matt","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-1.6310331482085858,-1.117849296521342,-1.773895568375653,-0.5873996132805076],"yaxis":"y","type":"scatter"},{"customdata":[["Swanson, Dansby",621020],["Swanson, Dansby",621020],["Swanson, Dansby",621020],["Swanson, Dansby",621020]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Swanson, Dansby","line":{"color":"#19d3f3","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Swanson, Dansby","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.8052294133683331,0.18467299189686978,1.0115490992082423,0.44561852473932145],"yaxis":"y","type":"scatter"},{"customdata":[["Verdugo, Alex",657077],["Verdugo, Alex",657077],["Verdugo, Alex",657077],["Verdugo, Alex",657077]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Verdugo, Alex","line":{"color":"#FF6692","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Verdugo, Alex","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-1.7176201014641157,-2.576526252157457,-1.0307851152596872,-1.2398995117799072],"yaxis":"y","type":"scatter"},{"customdata":[["Torres, Gleyber",650402],["Torres, Gleyber",650402],["Torres, Gleyber",650402],["Torres, Gleyber",650402]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Torres, Gleyber","line":{"color":"#B6E880","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Torres, Gleyber","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.6814464939280993,-0.13784908230788032,0.5144157778310223,0.07537714929068853],"yaxis":"y","type":"scatter"},{"customdata":[["Semien, Marcus",543760],["Semien, Marcus",543760],["Semien, Marcus",543760],["Semien, Marcus",543760]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Semien, Marcus","line":{"color":"#FF97FF","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Semien, Marcus","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[1.7765439924835333,0.5269478111196984,0.4856609432472705,-0.4332013498033336],"yaxis":"y","type":"scatter"},{"customdata":[["Garc\u00eda, Adolis",666969],["Garc\u00eda, Adolis",666969],["Garc\u00eda, Adolis",666969],["Garc\u00eda, Adolis",666969]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Garc\u00eda, Adolis","line":{"color":"#FECB52","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Garc\u00eda, Adolis","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[2.0305603789398257,0.7116882186527519,1.9167931533880018,2.3798051570764964],"yaxis":"y","type":"scatter"},{"customdata":[["Machado, Manny",592518],["Machado, Manny",592518],["Machado, Manny",592518],["Machado, Manny",592518]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Machado, Manny","line":{"color":"#636efa","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Machado, Manny","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[1.1482044746639704,0.5346382513547135,1.8588547513418467,0.26471395493191274],"yaxis":"y","type":"scatter"},{"customdata":[["Turner, Trea",607208],["Turner, Trea",607208],["Turner, Trea",607208],["Turner, Trea",607208]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Turner, Trea","line":{"color":"#EF553B","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Turner, Trea","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[2.1245109461568354,2.171321502196359,1.6336303919190074,0.5039458742735131],"yaxis":"y","type":"scatter"},{"customdata":[["Betts, Mookie",605141],["Betts, Mookie",605141],["Betts, Mookie",605141],["Betts, Mookie",605141]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Betts, Mookie","line":{"color":"#00cc96","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Betts, Mookie","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-2.3063072654595578,-2.72055268247823,-0.8628331936734013,-2.4804842231109006],"yaxis":"y","type":"scatter"},{"customdata":[["Happ, Ian",664023],["Happ, Ian",664023],["Happ, Ian",664023],["Happ, Ian",664023]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Happ, Ian","line":{"color":"#ab63fa","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Happ, Ian","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.5145719824263206,-0.5386771165198442,0.863911543469113,-0.8424405289683594],"yaxis":"y","type":"scatter"},{"customdata":[["Lowe, Nathaniel",663993],["Lowe, Nathaniel",663993],["Lowe, Nathaniel",663993],["Lowe, Nathaniel",663993]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Lowe, Nathaniel","line":{"color":"#FFA15A","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Lowe, Nathaniel","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-2.1604269987233424,-0.8620401241778791,1.700645068256297,-1.3038303170710295],"yaxis":"y","type":"scatter"},{"customdata":[["Adames, Willy",642715],["Adames, Willy",642715],["Adames, Willy",642715],["Adames, Willy",642715]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Adames, Willy","line":{"color":"#19d3f3","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Adames, Willy","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.8209462526514238,0.991086426715314,0.9716175666409615,0.9686728381612921],"yaxis":"y","type":"scatter"},{"customdata":[["Arozarena, Randy",668227],["Arozarena, Randy",668227],["Arozarena, Randy",668227],["Arozarena, Randy",668227]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Arozarena, Randy","line":{"color":"#FF6692","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Arozarena, Randy","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-2.395350538609337,-1.4006151521100592,-0.547020513462531,-0.8557488857938498],"yaxis":"y","type":"scatter"},{"customdata":[["Arenado, Nolan",571448],["Arenado, Nolan",571448],["Arenado, Nolan",571448],["Arenado, Nolan",571448]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Arenado, Nolan","line":{"color":"#B6E880","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Arenado, Nolan","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.7915395594419973,0.13679707464715932,-0.09793611498088992,-1.022143345964895],"yaxis":"y","type":"scatter"},{"customdata":[["Guerrero Jr., Vladimir",665489],["Guerrero Jr., Vladimir",665489],["Guerrero Jr., Vladimir",665489],["Guerrero Jr., Vladimir",665489]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Guerrero Jr., Vladimir","line":{"color":"#FF97FF","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Guerrero Jr., Vladimir","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.11234020965781015,1.0788378041562765,1.108720295690116,0.714454652101583],"yaxis":"y","type":"scatter"},{"customdata":[["Turner, Justin",457759],["Turner, Justin",457759],["Turner, Justin",457759],["Turner, Justin",457759]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Turner, Justin","line":{"color":"#FECB52","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Turner, Justin","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.8154781355722107,-0.9899673327408519,0.38910964894099526,-1.0419537340381566],"yaxis":"y","type":"scatter"},{"customdata":[["Goldschmidt, Paul",502671],["Goldschmidt, Paul",502671],["Goldschmidt, Paul",502671],["Goldschmidt, Paul",502671]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Goldschmidt, Paul","line":{"color":"#636efa","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Goldschmidt, Paul","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.676431615830891,-1.3221612021422378,-2.4898769587207394,-1.399603818482272],"yaxis":"y","type":"scatter"},{"customdata":[["Soto, Juan",665742],["Soto, Juan",665742],["Soto, Juan",665742],["Soto, Juan",665742]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Soto, Juan","line":{"color":"#EF553B","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Soto, Juan","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-3.376140120587032,-3.2307449365566043,-3.788484349094484,-3.8315195110577225],"yaxis":"y","type":"scatter"},{"customdata":[["Benintendi, Andrew",643217],["Benintendi, Andrew",643217],["Benintendi, Andrew",643217],["Benintendi, Andrew",643217]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Benintendi, Andrew","line":{"color":"#00cc96","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Benintendi, Andrew","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.018634044386154836,0.3078787637225771,0.5770477460844623,1.9064733974128154],"yaxis":"y","type":"scatter"},{"customdata":[["Bell, Josh",605137],["Bell, Josh",605137],["Bell, Josh",605137],["Bell, Josh",605137]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Bell, Josh","line":{"color":"#ab63fa","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Bell, Josh","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.8938088277318194,0.6014281846101602,-0.42629516321138583,0.45542802500481383],"yaxis":"y","type":"scatter"},{"customdata":[["Lindor, Francisco",596019],["Lindor, Francisco",596019],["Lindor, Francisco",596019],["Lindor, Francisco",596019]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Lindor, Francisco","line":{"color":"#FFA15A","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Lindor, Francisco","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.42427983453425544,0.2184711699604187,0.08308912680235088,0.5700019296272636],"yaxis":"y","type":"scatter"},{"customdata":[["Alonso, Pete",624413],["Alonso, Pete",624413],["Alonso, Pete",624413],["Alonso, Pete",624413]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC1=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Alonso, Pete","line":{"color":"#19d3f3","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Alonso, Pete","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-1.8813023240173268,-1.6203025014147894,1.513279595597317,1.1507442542482273],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"year"},"tickmode":"array","tickvals":[2021,2022,2023,2024],"ticktext":["2021","2022","2023","2024"]},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"PC1"}},"legend":{"title":{"text":"Player"},"tracegroupgap":0},"title":{"text":"PC1 Scores Between Years"},"height":1000},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('a95baa3f-f53b-4f21-9dcd-248bc352eefe');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<div id="69d6da40" class="cell" data-execution_count="40">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="co"># run ICC on PC2, with player as target, year as rater, and PC2 scores as ratings</span></span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>PC2_ICC <span class="op">=</span> pingouin.intraclass_corr(</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>    full_icc_PCs, </span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>    targets<span class="op">=</span><span class="st">'player_id'</span>, </span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a>    raters<span class="op">=</span><span class="st">'year'</span>, </span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>    ratings<span class="op">=</span><span class="st">'PC2'</span>, </span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>    nan_policy<span class="op">=</span><span class="st">'omit'</span></span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>PC2_ICC.set_index(<span class="st">'Type'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="40">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">Description</th>
<th data-quarto-table-cell-role="th">ICC</th>
<th data-quarto-table-cell-role="th">F</th>
<th data-quarto-table-cell-role="th">df1</th>
<th data-quarto-table-cell-role="th">df2</th>
<th data-quarto-table-cell-role="th">pval</th>
<th data-quarto-table-cell-role="th">CI95%</th>
</tr>
<tr class="odd">
<th data-quarto-table-cell-role="th">Type</th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th"></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">ICC1</td>
<td>Single raters absolute</td>
<td>0.629860</td>
<td>7.806708</td>
<td>35</td>
<td>108</td>
<td>6.239924e-17</td>
<td>[0.48, 0.76]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ICC2</td>
<td>Single random raters</td>
<td>0.630064</td>
<td>7.853683</td>
<td>35</td>
<td>105</td>
<td>8.902243e-17</td>
<td>[0.48, 0.76]</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ICC3</td>
<td>Single fixed raters</td>
<td>0.631461</td>
<td>7.853683</td>
<td>35</td>
<td>105</td>
<td>8.902243e-17</td>
<td>[0.48, 0.77]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ICC1k</td>
<td>Average raters absolute</td>
<td>0.871905</td>
<td>7.806708</td>
<td>35</td>
<td>108</td>
<td>6.239924e-17</td>
<td>[0.79, 0.93]</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">ICC2k</td>
<td>Average random raters</td>
<td>0.872003</td>
<td>7.853683</td>
<td>35</td>
<td>105</td>
<td>8.902243e-17</td>
<td>[0.79, 0.93]</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">ICC3k</td>
<td>Average fixed raters</td>
<td>0.872671</td>
<td>7.853683</td>
<td>35</td>
<td>105</td>
<td>8.902243e-17</td>
<td>[0.79, 0.93]</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<hr>
<p>PC2 yielded an ICC of .873 (<em>F</em> = 7.854, <em>p</em> &lt; .001), also indicating a highly significant correlation between seasons. This ICC would fall into the good reliability category, nearly attaining excellent reliability <span class="citation" data-cites="assana2024">(<a href="#ref-assana2024" role="doc-biblioref">Assana, 2024</a>)</span>. I adapted the code from the PC1 figure to plot PC2 scores across seasons below.</p>
<div id="917494a2" class="cell" data-execution_count="41">
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.line(</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>    full_icc_PCs, </span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'year'</span>, </span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'PC2'</span>, </span>
<span id="cb42-5"><a href="#cb42-5" aria-hidden="true" tabindex="-1"></a>    color<span class="op">=</span><span class="st">'last_name, first_name'</span>,</span>
<span id="cb42-6"><a href="#cb42-6" aria-hidden="true" tabindex="-1"></a>    height<span class="op">=</span><span class="dv">1000</span>,</span>
<span id="cb42-7"><a href="#cb42-7" aria-hidden="true" tabindex="-1"></a>    hover_data<span class="op">=</span>[<span class="st">'last_name, first_name'</span>, <span class="st">'player_id'</span>],</span>
<span id="cb42-8"><a href="#cb42-8" aria-hidden="true" tabindex="-1"></a>    labels<span class="op">=</span>{<span class="st">'last_name, first_name'</span>: <span class="st">'Player'</span>},</span>
<span id="cb42-9"><a href="#cb42-9" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'PC2 Scores Between Years'</span></span>
<span id="cb42-10"><a href="#cb42-10" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-11"><a href="#cb42-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-12"><a href="#cb42-12" aria-hidden="true" tabindex="-1"></a>fig.update_traces(</span>
<span id="cb42-13"><a href="#cb42-13" aria-hidden="true" tabindex="-1"></a>    marker<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">5</span>, opacity<span class="op">=</span><span class="fl">0.1</span>), </span>
<span id="cb42-14"><a href="#cb42-14" aria-hidden="true" tabindex="-1"></a>    line<span class="op">=</span><span class="bu">dict</span>(width<span class="op">=</span><span class="fl">0.5</span>)</span>
<span id="cb42-15"><a href="#cb42-15" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb42-16"><a href="#cb42-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-17"><a href="#cb42-17" aria-hidden="true" tabindex="-1"></a>fig.update_xaxes(</span>
<span id="cb42-18"><a href="#cb42-18" aria-hidden="true" tabindex="-1"></a>    tickmode<span class="op">=</span><span class="st">'array'</span>,</span>
<span id="cb42-19"><a href="#cb42-19" aria-hidden="true" tabindex="-1"></a>    tickvals<span class="op">=</span>[<span class="dv">2021</span>, <span class="dv">2022</span>, <span class="dv">2023</span>, <span class="dv">2024</span>],</span>
<span id="cb42-20"><a href="#cb42-20" aria-hidden="true" tabindex="-1"></a>    ticktext<span class="op">=</span>[<span class="st">'2021'</span>, <span class="st">'2022'</span>, <span class="st">'2023'</span>, <span class="st">'2024'</span>]</span>
<span id="cb42-21"><a href="#cb42-21" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb42-22"><a href="#cb42-22" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb42-23"><a href="#cb42-23" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="d383cedc-a2b8-459f-9c64-880a87a39c2d" class="plotly-graph-div" style="height:1000px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("d383cedc-a2b8-459f-9c64-880a87a39c2d")) {                    Plotly.newPlot(                        "d383cedc-a2b8-459f-9c64-880a87a39c2d",                        [{"customdata":[["Reynolds, Bryan",668804],["Reynolds, Bryan",668804],["Reynolds, Bryan",668804],["Reynolds, Bryan",668804]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Reynolds, Bryan","line":{"color":"#636efa","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Reynolds, Bryan","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.77492435793375,1.48773215591598,0.47232823405023905,1.5941049030422068],"yaxis":"y","type":"scatter"},{"customdata":[["France, Ty",664034],["France, Ty",664034],["France, Ty",664034],["France, Ty",664034]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"France, Ty","line":{"color":"#EF553B","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"France, Ty","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.846018450275103,-0.13639419566978273,0.15035346318306156,-0.15906929817505136],"yaxis":"y","type":"scatter"},{"customdata":[["Freeman, Freddie",518692],["Freeman, Freddie",518692],["Freeman, Freddie",518692],["Freeman, Freddie",518692]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Freeman, Freddie","line":{"color":"#00cc96","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Freeman, Freddie","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.9685389286267407,1.810152018183665,1.422455477763343,1.7300336540615113],"yaxis":"y","type":"scatter"},{"customdata":[["Ohtani, Shohei",660271],["Ohtani, Shohei",660271],["Ohtani, Shohei",660271],["Ohtani, Shohei",660271]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Ohtani, Shohei","line":{"color":"#ab63fa","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Ohtani, Shohei","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.4721648510766097,-0.3715536821104854,1.0636681070910785,0.9330511647762045],"yaxis":"y","type":"scatter"},{"customdata":[["McMahon, Ryan",641857],["McMahon, Ryan",641857],["McMahon, Ryan",641857],["McMahon, Ryan",641857]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"McMahon, Ryan","line":{"color":"#FFA15A","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"McMahon, Ryan","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.15381778138340196,0.6925474809468894,0.2683480578471255,1.0935538197114263],"yaxis":"y","type":"scatter"},{"customdata":[["Cronenworth, Jake",630105],["Cronenworth, Jake",630105],["Cronenworth, Jake",630105],["Cronenworth, Jake",630105]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Cronenworth, Jake","line":{"color":"#19d3f3","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Cronenworth, Jake","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.7773643877914138,-0.7852081167836885,0.21629186298460515,-0.3307563550159181],"yaxis":"y","type":"scatter"},{"customdata":[["Devers, Rafael",646240],["Devers, Rafael",646240],["Devers, Rafael",646240],["Devers, Rafael",646240]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Devers, Rafael","line":{"color":"#FF6692","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Devers, Rafael","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.18357614069670136,0.267925840663294,0.13494116799459835,0.45025420871549987],"yaxis":"y","type":"scatter"},{"customdata":[["Hern\u00e1ndez, Teoscar",606192],["Hern\u00e1ndez, Teoscar",606192],["Hern\u00e1ndez, Teoscar",606192],["Hern\u00e1ndez, Teoscar",606192]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Hern\u00e1ndez, Teoscar","line":{"color":"#B6E880","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Hern\u00e1ndez, Teoscar","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.4173772293401452,-0.4892682362226545,0.059508262399726314,-0.041295062146463515],"yaxis":"y","type":"scatter"},{"customdata":[["D\u00edaz, Yandy",650490],["D\u00edaz, Yandy",650490],["D\u00edaz, Yandy",650490],["D\u00edaz, Yandy",650490]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"D\u00edaz, Yandy","line":{"color":"#FF97FF","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"D\u00edaz, Yandy","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.5415455038671574,1.3984480699093422,0.8778162723824398,1.2868493749236607],"yaxis":"y","type":"scatter"},{"customdata":[["Su\u00e1rez, Eugenio",553993],["Su\u00e1rez, Eugenio",553993],["Su\u00e1rez, Eugenio",553993],["Su\u00e1rez, Eugenio",553993]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Su\u00e1rez, Eugenio","line":{"color":"#FECB52","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Su\u00e1rez, Eugenio","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.19541414856439043,0.6083577056881819,0.6730893521647286,-0.01898826709491625],"yaxis":"y","type":"scatter"},{"customdata":[["Ram\u00edrez, Jos\u00e9",608070],["Ram\u00edrez, Jos\u00e9",608070],["Ram\u00edrez, Jos\u00e9",608070],["Ram\u00edrez, Jos\u00e9",608070]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Ram\u00edrez, Jos\u00e9","line":{"color":"#636efa","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Ram\u00edrez, Jos\u00e9","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.5532173354234886,-0.5368216704611701,-0.6777565726620037,-0.5103009699151269],"yaxis":"y","type":"scatter"},{"customdata":[["Olson, Matt",621566],["Olson, Matt",621566],["Olson, Matt",621566],["Olson, Matt",621566]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Olson, Matt","line":{"color":"#EF553B","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Olson, Matt","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.5076186378698346,0.8905590392212551,0.5136265760485266,1.126588424468784],"yaxis":"y","type":"scatter"},{"customdata":[["Castellanos, Nick",592206],["Castellanos, Nick",592206],["Castellanos, Nick",592206],["Castellanos, Nick",592206]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Castellanos, Nick","line":{"color":"#00cc96","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Castellanos, Nick","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.2720080511876085,-0.48006451211049495,-0.7451323699332943,0.0461231669757451],"yaxis":"y","type":"scatter"},{"customdata":[["Santana, Carlos",467793],["Santana, Carlos",467793],["Santana, Carlos",467793],["Santana, Carlos",467793]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Santana, Carlos","line":{"color":"#ab63fa","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Santana, Carlos","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.14263774024903295,0.7428087768020009,1.0240397785527502,0.20971746262687352],"yaxis":"y","type":"scatter"},{"customdata":[["Chapman, Matt",656305],["Chapman, Matt",656305],["Chapman, Matt",656305],["Chapman, Matt",656305]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Chapman, Matt","line":{"color":"#FFA15A","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Chapman, Matt","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.22004290093720633,1.3117994628334806,1.3198172543371218,1.1441402204305593],"yaxis":"y","type":"scatter"},{"customdata":[["Swanson, Dansby",621020],["Swanson, Dansby",621020],["Swanson, Dansby",621020],["Swanson, Dansby",621020]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Swanson, Dansby","line":{"color":"#19d3f3","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Swanson, Dansby","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[1.7402369714850183,0.9491423489807391,1.0716132649126813,0.926992108159418],"yaxis":"y","type":"scatter"},{"customdata":[["Verdugo, Alex",657077],["Verdugo, Alex",657077],["Verdugo, Alex",657077],["Verdugo, Alex",657077]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Verdugo, Alex","line":{"color":"#FF6692","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Verdugo, Alex","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.4742140349553651,-0.23294629493655372,0.22951628440771177,-0.2943669471552684],"yaxis":"y","type":"scatter"},{"customdata":[["Torres, Gleyber",650402],["Torres, Gleyber",650402],["Torres, Gleyber",650402],["Torres, Gleyber",650402]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Torres, Gleyber","line":{"color":"#B6E880","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Torres, Gleyber","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[1.0490452493003586,0.29547202333284717,0.06836829908885797,1.21882825371927],"yaxis":"y","type":"scatter"},{"customdata":[["Semien, Marcus",543760],["Semien, Marcus",543760],["Semien, Marcus",543760],["Semien, Marcus",543760]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Semien, Marcus","line":{"color":"#FF97FF","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Semien, Marcus","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[2.1087456135166702,1.8469887488125516,1.323202085216394,1.2850687423578848],"yaxis":"y","type":"scatter"},{"customdata":[["Garc\u00eda, Adolis",666969],["Garc\u00eda, Adolis",666969],["Garc\u00eda, Adolis",666969],["Garc\u00eda, Adolis",666969]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Garc\u00eda, Adolis","line":{"color":"#FECB52","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Garc\u00eda, Adolis","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.08638371232317055,0.21123054927881815,-1.2326554634387246,-0.6068015831565468],"yaxis":"y","type":"scatter"},{"customdata":[["Machado, Manny",592518],["Machado, Manny",592518],["Machado, Manny",592518],["Machado, Manny",592518]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Machado, Manny","line":{"color":"#636efa","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Machado, Manny","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.09666785447091088,-0.01704461341610312,0.762840464393855,-0.24727208415350493],"yaxis":"y","type":"scatter"},{"customdata":[["Turner, Trea",607208],["Turner, Trea",607208],["Turner, Trea",607208],["Turner, Trea",607208]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Turner, Trea","line":{"color":"#EF553B","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Turner, Trea","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.1915136572167044,-0.1008251600179967,-0.028404616838189206,0.17853447740333214],"yaxis":"y","type":"scatter"},{"customdata":[["Betts, Mookie",605141],["Betts, Mookie",605141],["Betts, Mookie",605141],["Betts, Mookie",605141]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Betts, Mookie","line":{"color":"#00cc96","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Betts, Mookie","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.7250003636594893,1.1075286745684743,1.090829419284298,0.6663080639603655],"yaxis":"y","type":"scatter"},{"customdata":[["Happ, Ian",664023],["Happ, Ian",664023],["Happ, Ian",664023],["Happ, Ian",664023]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Happ, Ian","line":{"color":"#ab63fa","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Happ, Ian","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.9431326640184989,1.0620615493124625,0.9618309342498276,0.9608241179650823],"yaxis":"y","type":"scatter"},{"customdata":[["Lowe, Nathaniel",663993],["Lowe, Nathaniel",663993],["Lowe, Nathaniel",663993],["Lowe, Nathaniel",663993]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Lowe, Nathaniel","line":{"color":"#FFA15A","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Lowe, Nathaniel","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.33287570490906,1.1219548417008427,0.6058947963372655,-0.01451906045556035],"yaxis":"y","type":"scatter"},{"customdata":[["Adames, Willy",642715],["Adames, Willy",642715],["Adames, Willy",642715],["Adames, Willy",642715]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Adames, Willy","line":{"color":"#19d3f3","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Adames, Willy","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.5821745791677622,-0.2118306398182166,0.2825843061403883,0.7552151351462085],"yaxis":"y","type":"scatter"},{"customdata":[["Arozarena, Randy",668227],["Arozarena, Randy",668227],["Arozarena, Randy",668227],["Arozarena, Randy",668227]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Arozarena, Randy","line":{"color":"#FF6692","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Arozarena, Randy","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.18354418642858586,-0.38333784080149774,-0.6731018715456769,0.3714477692032005],"yaxis":"y","type":"scatter"},{"customdata":[["Arenado, Nolan",571448],["Arenado, Nolan",571448],["Arenado, Nolan",571448],["Arenado, Nolan",571448]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Arenado, Nolan","line":{"color":"#B6E880","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Arenado, Nolan","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.9256407145867933,-1.108587149225688,-1.2198396150095923,-1.6978086531640884],"yaxis":"y","type":"scatter"},{"customdata":[["Guerrero Jr., Vladimir",665489],["Guerrero Jr., Vladimir",665489],["Guerrero Jr., Vladimir",665489],["Guerrero Jr., Vladimir",665489]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Guerrero Jr., Vladimir","line":{"color":"#FF97FF","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Guerrero Jr., Vladimir","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.2768417984536264,0.17778627517667936,0.26262714797916725,1.30873496484929],"yaxis":"y","type":"scatter"},{"customdata":[["Turner, Justin",457759],["Turner, Justin",457759],["Turner, Justin",457759],["Turner, Justin",457759]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Turner, Justin","line":{"color":"#FECB52","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Turner, Justin","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.357813280453851,-0.04374117122637258,0.5776604288195275,0.44731282889560475],"yaxis":"y","type":"scatter"},{"customdata":[["Goldschmidt, Paul",502671],["Goldschmidt, Paul",502671],["Goldschmidt, Paul",502671],["Goldschmidt, Paul",502671]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Goldschmidt, Paul","line":{"color":"#636efa","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Goldschmidt, Paul","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.9485678470989335,-0.3435711368481963,-0.6742668285546248,-0.36725367967506145],"yaxis":"y","type":"scatter"},{"customdata":[["Soto, Juan",665742],["Soto, Juan",665742],["Soto, Juan",665742],["Soto, Juan",665742]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Soto, Juan","line":{"color":"#EF553B","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Soto, Juan","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.7263372812263836,1.0742162119913983,1.0689714489158988,1.7786774182472715],"yaxis":"y","type":"scatter"},{"customdata":[["Benintendi, Andrew",643217],["Benintendi, Andrew",643217],["Benintendi, Andrew",643217],["Benintendi, Andrew",643217]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Benintendi, Andrew","line":{"color":"#00cc96","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Benintendi, Andrew","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.6541425920170618,0.19793765132703228,1.5278049367568887,0.49714218928179366],"yaxis":"y","type":"scatter"},{"customdata":[["Bell, Josh",605137],["Bell, Josh",605137],["Bell, Josh",605137],["Bell, Josh",605137]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Bell, Josh","line":{"color":"#ab63fa","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Bell, Josh","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.8035519798395103,0.6382300973480161,0.655523342767607,1.186130967958201],"yaxis":"y","type":"scatter"},{"customdata":[["Lindor, Francisco",596019],["Lindor, Francisco",596019],["Lindor, Francisco",596019],["Lindor, Francisco",596019]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Lindor, Francisco","line":{"color":"#FFA15A","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Lindor, Francisco","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[0.7404597181524897,0.15824013349383131,-0.3044863195455159,0.9807923551090884],"yaxis":"y","type":"scatter"},{"customdata":[["Alonso, Pete",624413],["Alonso, Pete",624413],["Alonso, Pete",624413],["Alonso, Pete",624413]],"hovertemplate":"Player=%{customdata[0]}\u003cbr\u003eyear=%{x}\u003cbr\u003ePC2=%{y}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"Alonso, Pete","line":{"color":"#19d3f3","dash":"solid","width":0.5},"marker":{"symbol":"circle","opacity":0.1,"size":5},"mode":"lines","name":"Alonso, Pete","orientation":"v","showlegend":true,"x":[2024,2023,2022,2021],"xaxis":"x","y":[-0.3841303801786709,-0.9486562017464675,0.1384549686533817,0.2915042236726182],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"year"},"tickmode":"array","tickvals":[2021,2022,2023,2024],"ticktext":["2021","2022","2023","2024"]},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"PC2"}},"legend":{"title":{"text":"Player"},"tracegroupgap":0},"title":{"text":"PC2 Scores Between Years"},"height":1000},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('d383cedc-a2b8-459f-9c64-880a87a39c2d');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<section id="yearly-deviations" class="level2 page-columns page-full">
<h2 class="anchored" data-anchor-id="yearly-deviations">9.1: Yearly Deviations</h2>
<p>To add additional context to the ICC analyses, I calculated the root-mean squared deviation (RMSD) for PC1 and PC2, between seasons for each hitter. This created a mean score for each hitter to show how much their PC1 and PC2 scores varied between seasons, on average. When aggregated across players, this yields a picture of how much a typical hitters’ PC scores varied between seasons. This required the following data preparation steps:</p>
<ol type="1">
<li>Find the mean PC1 and PC2 score for each hitter</li>
<li>Subtract each individual season score from the hitter’s average score and square it (squared deviation)</li>
<li>Create a separate dataframe for RMSD calculations</li>
<li>Group by each hitter and calculate the average deviation between their actual and average score for each season, then square root that average (root mean)</li>
<li>Merge the RMSD scores back onto original dataframe and drop duplicates for each hitter</li>
<li>Calculate the mean, standard deviation, minimum, and maximum RMSD scores for PC1 and PC2 across all hitters</li>
</ol>
<div id="4dc2b407" class="cell" data-execution_count="42">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate the mean of PC1 for each player (across multiple seasons)</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>full_icc_PCs[<span class="st">'PC1_mean'</span>] <span class="op">=</span> full_icc_PCs.groupby(</span>
<span id="cb43-3"><a href="#cb43-3" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'player_id'</span>, <span class="st">'last_name, first_name'</span>]</span>
<span id="cb43-4"><a href="#cb43-4" aria-hidden="true" tabindex="-1"></a>    )[<span class="st">'PC1'</span>].transform(<span class="st">'mean'</span>)</span>
<span id="cb43-5"><a href="#cb43-5" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate the mean of PC2 for each player (across multiple seasons)</span></span>
<span id="cb43-6"><a href="#cb43-6" aria-hidden="true" tabindex="-1"></a>full_icc_PCs[<span class="st">'PC2_mean'</span>] <span class="op">=</span> full_icc_PCs.groupby(</span>
<span id="cb43-7"><a href="#cb43-7" aria-hidden="true" tabindex="-1"></a>    [<span class="st">'player_id'</span>, <span class="st">'last_name, first_name'</span>]</span>
<span id="cb43-8"><a href="#cb43-8" aria-hidden="true" tabindex="-1"></a>    )[<span class="st">'PC2'</span>].transform(<span class="st">'mean'</span>)</span>
<span id="cb43-9"><a href="#cb43-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb43-10"><a href="#cb43-10" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate the squared difference of PC1 and PC2 for each player across multiple seasons</span></span>
<span id="cb43-11"><a href="#cb43-11" aria-hidden="true" tabindex="-1"></a>full_icc_PCs[<span class="st">'PC1_sq_dev'</span>] <span class="op">=</span> (full_icc_PCs[<span class="st">'PC1'</span>] <span class="op">-</span> full_icc_PCs[<span class="st">'PC1_mean'</span>]) <span class="op">**</span> <span class="dv">2</span></span>
<span id="cb43-12"><a href="#cb43-12" aria-hidden="true" tabindex="-1"></a>full_icc_PCs[<span class="st">'PC2_sq_dev'</span>] <span class="op">=</span> (full_icc_PCs[<span class="st">'PC2'</span>] <span class="op">-</span> full_icc_PCs[<span class="st">'PC2_mean'</span>]) <span class="op">**</span> <span class="dv">2</span></span>
<span id="cb43-13"><a href="#cb43-13" aria-hidden="true" tabindex="-1"></a>full_icc_PCs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="42">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">last_name, first_name</th>
<th data-quarto-table-cell-role="th">player_id</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">PC1</th>
<th data-quarto-table-cell-role="th">PC2</th>
<th data-quarto-table-cell-role="th">PC1_mean</th>
<th data-quarto-table-cell-role="th">PC2_mean</th>
<th data-quarto-table-cell-role="th">PC1_sq_dev</th>
<th data-quarto-table-cell-role="th">PC2_sq_dev</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Reynolds, Bryan</td>
<td>668804</td>
<td>2024</td>
<td>1.623757</td>
<td>0.774924</td>
<td>1.384978</td>
<td>1.082272</td>
<td>0.057016</td>
<td>0.094463</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">5</td>
<td>France, Ty</td>
<td>664034</td>
<td>2024</td>
<td>1.288773</td>
<td>0.846018</td>
<td>1.534494</td>
<td>0.175227</td>
<td>0.060379</td>
<td>0.449961</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">12</td>
<td>Freeman, Freddie</td>
<td>518692</td>
<td>2024</td>
<td>0.985310</td>
<td>0.968539</td>
<td>1.644380</td>
<td>1.482795</td>
<td>0.434373</td>
<td>0.264459</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">16</td>
<td>Ohtani, Shohei</td>
<td>660271</td>
<td>2024</td>
<td>0.062435</td>
<td>0.472165</td>
<td>0.501415</td>
<td>0.524333</td>
<td>0.192704</td>
<td>0.002721</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">17</td>
<td>McMahon, Ryan</td>
<td>641857</td>
<td>2024</td>
<td>-0.715191</td>
<td>-0.153818</td>
<td>-0.218904</td>
<td>0.475158</td>
<td>0.246301</td>
<td>0.395610</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">506</td>
<td>Alonso, Pete</td>
<td>624413</td>
<td>2021</td>
<td>1.150744</td>
<td>0.291504</td>
<td>-0.209395</td>
<td>-0.225707</td>
<td>1.849979</td>
<td>0.267507</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">507</td>
<td>Suárez, Eugenio</td>
<td>553993</td>
<td>2021</td>
<td>-1.720105</td>
<td>-0.018988</td>
<td>-1.162140</td>
<td>0.364468</td>
<td>0.311325</td>
<td>0.147039</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">515</td>
<td>McMahon, Ryan</td>
<td>641857</td>
<td>2021</td>
<td>0.765867</td>
<td>1.093554</td>
<td>-0.218904</td>
<td>0.475158</td>
<td>0.969773</td>
<td>0.382414</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">517</td>
<td>Ohtani, Shohei</td>
<td>660271</td>
<td>2021</td>
<td>0.368540</td>
<td>0.933051</td>
<td>0.501415</td>
<td>0.524333</td>
<td>0.017656</td>
<td>0.167051</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">524</td>
<td>Olson, Matt</td>
<td>621566</td>
<td>2021</td>
<td>0.317050</td>
<td>1.126588</td>
<td>0.697248</td>
<td>0.759598</td>
<td>0.144551</td>
<td>0.134682</td>
</tr>
</tbody>
</table>

<p>144 rows × 9 columns</p>
</div>
</div>
</div>
</div>
<div id="3bfdcd8a" class="cell" data-execution_count="43">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create a separate df for calculating rmsd</span></span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>rmsd_df <span class="op">=</span> (</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># take full_icc_PCs and group by each hitter</span></span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>    full_icc_PCs.groupby([<span class="st">'player_id'</span>, <span class="st">'last_name, first_name'</span>]).agg(</span>
<span id="cb44-5"><a href="#cb44-5" aria-hidden="true" tabindex="-1"></a>        <span class="co"># aggregate to calculate mean, then square root it to get back on unit variance</span></span>
<span id="cb44-6"><a href="#cb44-6" aria-hidden="true" tabindex="-1"></a>        RMSD_PC1<span class="op">=</span>(</span>
<span id="cb44-7"><a href="#cb44-7" aria-hidden="true" tabindex="-1"></a>            <span class="st">'PC1_sq_dev'</span>, <span class="kw">lambda</span> x: np.sqrt(x.mean())</span>
<span id="cb44-8"><a href="#cb44-8" aria-hidden="true" tabindex="-1"></a>        ), </span>
<span id="cb44-9"><a href="#cb44-9" aria-hidden="true" tabindex="-1"></a>        RMSD_PC2<span class="op">=</span>(</span>
<span id="cb44-10"><a href="#cb44-10" aria-hidden="true" tabindex="-1"></a>            <span class="st">'PC2_sq_dev'</span>, <span class="kw">lambda</span> x: np.sqrt(x.mean())</span>
<span id="cb44-11"><a href="#cb44-11" aria-hidden="true" tabindex="-1"></a>        )</span>
<span id="cb44-12"><a href="#cb44-12" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb44-13"><a href="#cb44-13" aria-hidden="true" tabindex="-1"></a>    .reset_index()</span>
<span id="cb44-14"><a href="#cb44-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb44-15"><a href="#cb44-15" aria-hidden="true" tabindex="-1"></a>rmsd_df.head()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="43">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">player_id</th>
<th data-quarto-table-cell-role="th">last_name, first_name</th>
<th data-quarto-table-cell-role="th">RMSD_PC1</th>
<th data-quarto-table-cell-role="th">RMSD_PC2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>457759</td>
<td>Turner, Justin</td>
<td>0.585516</td>
<td>0.232090</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>467793</td>
<td>Santana, Carlos</td>
<td>0.486479</td>
<td>0.368101</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>502671</td>
<td>Goldschmidt, Paul</td>
<td>0.651286</td>
<td>0.247912</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>518692</td>
<td>Freeman, Freddie</td>
<td>0.444667</td>
<td>0.330299</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>543760</td>
<td>Semien, Marcus</td>
<td>0.785762</td>
<td>0.349607</td>
</tr>
</tbody>
</table>

</div>
</div>
</div>
</div>
<div id="f124018f" class="cell" data-execution_count="44">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a><span class="co"># merge rmsd_df onto full_icc_PCs to get RMSD stats</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>full_icc_PCs <span class="op">=</span> full_icc_PCs.merge(</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>    rmsd_df[[<span class="st">'player_id'</span>, <span class="st">'RMSD_PC1'</span>, <span class="st">'RMSD_PC2'</span>]], </span>
<span id="cb45-4"><a href="#cb45-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># merge on player_id, only including where rmsd player_id matches</span></span>
<span id="cb45-5"><a href="#cb45-5" aria-hidden="true" tabindex="-1"></a>    on<span class="op">=</span><span class="st">'player_id'</span>, how<span class="op">=</span><span class="st">'inner'</span>)</span>
<span id="cb45-6"><a href="#cb45-6" aria-hidden="true" tabindex="-1"></a>full_icc_PCs</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display" data-execution_count="44">
<div>
<div>


<table class="dataframe table table-sm table-striped small" data-quarto-postprocess="true" data-border="1">
<thead>
<tr class="header">
<th data-quarto-table-cell-role="th"></th>
<th data-quarto-table-cell-role="th">last_name, first_name</th>
<th data-quarto-table-cell-role="th">player_id</th>
<th data-quarto-table-cell-role="th">year</th>
<th data-quarto-table-cell-role="th">PC1</th>
<th data-quarto-table-cell-role="th">PC2</th>
<th data-quarto-table-cell-role="th">PC1_mean</th>
<th data-quarto-table-cell-role="th">PC2_mean</th>
<th data-quarto-table-cell-role="th">PC1_sq_dev</th>
<th data-quarto-table-cell-role="th">PC2_sq_dev</th>
<th data-quarto-table-cell-role="th">RMSD_PC1</th>
<th data-quarto-table-cell-role="th">RMSD_PC2</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td data-quarto-table-cell-role="th">0</td>
<td>Reynolds, Bryan</td>
<td>668804</td>
<td>2024</td>
<td>1.623757</td>
<td>0.774924</td>
<td>1.384978</td>
<td>1.082272</td>
<td>0.057016</td>
<td>0.094463</td>
<td>0.271042</td>
<td>0.472458</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">1</td>
<td>France, Ty</td>
<td>664034</td>
<td>2024</td>
<td>1.288773</td>
<td>0.846018</td>
<td>1.534494</td>
<td>0.175227</td>
<td>0.060379</td>
<td>0.449961</td>
<td>0.408214</td>
<td>0.406030</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">2</td>
<td>Freeman, Freddie</td>
<td>518692</td>
<td>2024</td>
<td>0.985310</td>
<td>0.968539</td>
<td>1.644380</td>
<td>1.482795</td>
<td>0.434373</td>
<td>0.264459</td>
<td>0.444667</td>
<td>0.330299</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">3</td>
<td>Ohtani, Shohei</td>
<td>660271</td>
<td>2024</td>
<td>0.062435</td>
<td>0.472165</td>
<td>0.501415</td>
<td>0.524333</td>
<td>0.192704</td>
<td>0.002721</td>
<td>0.475758</td>
<td>0.561976</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">4</td>
<td>McMahon, Ryan</td>
<td>641857</td>
<td>2024</td>
<td>-0.715191</td>
<td>-0.153818</td>
<td>-0.218904</td>
<td>0.475158</td>
<td>0.246301</td>
<td>0.395610</td>
<td>0.681437</td>
<td>0.465847</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">139</td>
<td>Alonso, Pete</td>
<td>624413</td>
<td>2021</td>
<td>1.150744</td>
<td>0.291504</td>
<td>-0.209395</td>
<td>-0.225707</td>
<td>1.849979</td>
<td>0.267507</td>
<td>1.549477</td>
<td>0.486794</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">140</td>
<td>Suárez, Eugenio</td>
<td>553993</td>
<td>2021</td>
<td>-1.720105</td>
<td>-0.018988</td>
<td>-1.162140</td>
<td>0.364468</td>
<td>0.311325</td>
<td>0.147039</td>
<td>0.664683</td>
<td>0.287379</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">141</td>
<td>McMahon, Ryan</td>
<td>641857</td>
<td>2021</td>
<td>0.765867</td>
<td>1.093554</td>
<td>-0.218904</td>
<td>0.475158</td>
<td>0.969773</td>
<td>0.382414</td>
<td>0.681437</td>
<td>0.465847</td>
</tr>
<tr class="even">
<td data-quarto-table-cell-role="th">142</td>
<td>Ohtani, Shohei</td>
<td>660271</td>
<td>2021</td>
<td>0.368540</td>
<td>0.933051</td>
<td>0.501415</td>
<td>0.524333</td>
<td>0.017656</td>
<td>0.167051</td>
<td>0.475758</td>
<td>0.561976</td>
</tr>
<tr class="odd">
<td data-quarto-table-cell-role="th">143</td>
<td>Olson, Matt</td>
<td>621566</td>
<td>2021</td>
<td>0.317050</td>
<td>1.126588</td>
<td>0.697248</td>
<td>0.759598</td>
<td>0.144551</td>
<td>0.134682</td>
<td>0.329349</td>
<td>0.262597</td>
</tr>
</tbody>
</table>

<p>144 rows × 11 columns</p>
</div>
</div>
</div>
</div>
<div id="31b54e53" class="cell" data-execution_count="45">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a><span class="co"># drop multiple references to each hitter</span></span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>summary_icc_PCs <span class="op">=</span> full_icc_PCs.drop_duplicates(subset<span class="op">=</span><span class="st">'player_id'</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div id="7e51c111" class="cell page-columns page-full" data-execution_count="46">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate mean, standard deviation, minimum, and maximum for PC1 and PC2 </span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>mean_rmsd_PC1 <span class="op">=</span> summary_icc_PCs[<span class="st">'RMSD_PC1'</span>].mean()</span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>std_rmsd_PC1 <span class="op">=</span> summary_icc_PCs[<span class="st">'RMSD_PC1'</span>].std()</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>min_rmsd_PC1 <span class="op">=</span> summary_icc_PCs[<span class="st">'RMSD_PC1'</span>].<span class="bu">min</span>()</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>max_rmsd_PC1 <span class="op">=</span> summary_icc_PCs[<span class="st">'RMSD_PC1'</span>].<span class="bu">max</span>() </span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>mean_rmsd_PC2 <span class="op">=</span> summary_icc_PCs[<span class="st">'RMSD_PC2'</span>].mean()</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>std_rmsd_PC2 <span class="op">=</span> summary_icc_PCs[<span class="st">'RMSD_PC2'</span>].std()</span>
<span id="cb47-9"><a href="#cb47-9" aria-hidden="true" tabindex="-1"></a>min_rmsd_PC2 <span class="op">=</span> summary_icc_PCs[<span class="st">'RMSD_PC2'</span>].<span class="bu">min</span>()</span>
<span id="cb47-10"><a href="#cb47-10" aria-hidden="true" tabindex="-1"></a>max_rmsd_PC2 <span class="op">=</span> summary_icc_PCs[<span class="st">'RMSD_PC2'</span>].<span class="bu">max</span>() </span>
<span id="cb47-11"><a href="#cb47-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-12"><a href="#cb47-12" aria-hidden="true" tabindex="-1"></a><span class="co"># create dictionary for results to weave into dataframe</span></span>
<span id="cb47-13"><a href="#cb47-13" aria-hidden="true" tabindex="-1"></a>rmsd_results <span class="op">=</span> {</span>
<span id="cb47-14"><a href="#cb47-14" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Mean'</span>: [mean_rmsd_PC1, mean_rmsd_PC2],</span>
<span id="cb47-15"><a href="#cb47-15" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Standard Deviation'</span>: [std_rmsd_PC1, std_rmsd_PC2],</span>
<span id="cb47-16"><a href="#cb47-16" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Min'</span>: [min_rmsd_PC1, min_rmsd_PC2],</span>
<span id="cb47-17"><a href="#cb47-17" aria-hidden="true" tabindex="-1"></a>    <span class="st">'Max'</span>: [max_rmsd_PC1, max_rmsd_PC2]</span>
<span id="cb47-18"><a href="#cb47-18" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb47-19"><a href="#cb47-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-20"><a href="#cb47-20" aria-hidden="true" tabindex="-1"></a><span class="co"># create dataframe for easy display of aggregate stats</span></span>
<span id="cb47-21"><a href="#cb47-21" aria-hidden="true" tabindex="-1"></a>rmsd_results_df <span class="op">=</span> pd.DataFrame(</span>
<span id="cb47-22"><a href="#cb47-22" aria-hidden="true" tabindex="-1"></a>    data<span class="op">=</span>rmsd_results, </span>
<span id="cb47-23"><a href="#cb47-23" aria-hidden="true" tabindex="-1"></a>    index<span class="op">=</span>[<span class="st">'PC1'</span>, <span class="st">'PC2'</span>]</span>
<span id="cb47-24"><a href="#cb47-24" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb47-25"><a href="#cb47-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-26"><a href="#cb47-26" aria-hidden="true" tabindex="-1"></a><span class="co"># display as markdown table</span></span>
<span id="cb47-27"><a href="#cb47-27" aria-hidden="true" tabindex="-1"></a>display(Markdown(rmsd_results_df.<span class="bu">round</span>(<span class="dv">3</span>).to_markdown()))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display cell-output-markdown column-body">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;"></th>
<th style="text-align: right;">Mean</th>
<th style="text-align: right;">Standard Deviation</th>
<th style="text-align: right;">Min</th>
<th style="text-align: right;">Max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">PC1</td>
<td style="text-align: right;">0.566</td>
<td style="text-align: right;">0.293</td>
<td style="text-align: right;">0.068</td>
<td style="text-align: right;">1.549</td>
</tr>
<tr class="even">
<td style="text-align: left;">PC2</td>
<td style="text-align: right;">0.359</td>
<td style="text-align: right;">0.149</td>
<td style="text-align: right;">0.047</td>
<td style="text-align: right;">0.644</td>
</tr>
</tbody>
</table>
</div>
</div>
<hr>
<p>By looking at the aggregated RMSD scores, we can see that PC1 scores varied by roughly 0.57 units, on average, while PC2 scores varied by roughly 0.36 units, on average. This makes sense, as PC1 captured more variance in the PCA models than PC2, and should have more within-hitter variance. I included the plot below to add context and show the distribution of RMSD scores.</p>
<div id="03afca7d" class="cell" data-execution_count="47">
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create scatterplot to display RMSD scores for each player</span></span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.scatter(</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>    summary_icc_PCs, </span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'RMSD_PC1'</span>,</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'RMSD_PC2'</span>, </span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>    <span class="co"># user player info as hover data</span></span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a>    hover_data<span class="op">=</span>[<span class="st">'last_name, first_name'</span>, <span class="st">'player_id'</span>],</span>
<span id="cb48-8"><a href="#cb48-8" aria-hidden="true" tabindex="-1"></a>    labels<span class="op">=</span>{</span>
<span id="cb48-9"><a href="#cb48-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">'RMSD_PC1'</span>: <span class="st">'PC1 RMSD'</span>, </span>
<span id="cb48-10"><a href="#cb48-10" aria-hidden="true" tabindex="-1"></a>        <span class="st">'RMSD_PC2'</span>: <span class="st">'PC2 RMSD'</span>, </span>
<span id="cb48-11"><a href="#cb48-11" aria-hidden="true" tabindex="-1"></a>        <span class="st">'last_name, first_name'</span>: <span class="st">'Player'</span></span>
<span id="cb48-12"><a href="#cb48-12" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb48-13"><a href="#cb48-13" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'PC1 vs. PC2 RMSD by Player (with 2021-2024 Data)'</span></span>
<span id="cb48-14"><a href="#cb48-14" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-15"><a href="#cb48-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb48-16"><a href="#cb48-16" aria-hidden="true" tabindex="-1"></a><span class="co"># update size and opacity of markers</span></span>
<span id="cb48-17"><a href="#cb48-17" aria-hidden="true" tabindex="-1"></a>fig.update_traces(</span>
<span id="cb48-18"><a href="#cb48-18" aria-hidden="true" tabindex="-1"></a>    marker<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">8</span>, opacity<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb48-19"><a href="#cb48-19" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb48-20"><a href="#cb48-20" aria-hidden="true" tabindex="-1"></a><span class="co"># add lines for means of PC1 and PC2</span></span>
<span id="cb48-21"><a href="#cb48-21" aria-hidden="true" tabindex="-1"></a>fig.add_hline(y<span class="op">=</span><span class="fl">0.359</span>, line_color<span class="op">=</span><span class="st">"red"</span>, line_dash<span class="op">=</span><span class="st">"dash"</span>)</span>
<span id="cb48-22"><a href="#cb48-22" aria-hidden="true" tabindex="-1"></a>fig.add_vline(x<span class="op">=</span><span class="fl">0.566</span>, line_color<span class="op">=</span><span class="st">"red"</span>, line_dash<span class="op">=</span><span class="st">"dash"</span>)</span>
<span id="cb48-23"><a href="#cb48-23" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="d1474c8f-6226-419e-8726-edfd7354a058" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("d1474c8f-6226-419e-8726-edfd7354a058")) {                    Plotly.newPlot(                        "d1474c8f-6226-419e-8726-edfd7354a058",                        [{"customdata":[["Reynolds, Bryan",668804],["France, Ty",664034],["Freeman, Freddie",518692],["Ohtani, Shohei",660271],["McMahon, Ryan",641857],["Cronenworth, Jake",630105],["Devers, Rafael",646240],["Hern\u00e1ndez, Teoscar",606192],["D\u00edaz, Yandy",650490],["Su\u00e1rez, Eugenio",553993],["Ram\u00edrez, Jos\u00e9",608070],["Olson, Matt",621566],["Castellanos, Nick",592206],["Santana, Carlos",467793],["Chapman, Matt",656305],["Swanson, Dansby",621020],["Verdugo, Alex",657077],["Torres, Gleyber",650402],["Semien, Marcus",543760],["Garc\u00eda, Adolis",666969],["Machado, Manny",592518],["Turner, Trea",607208],["Betts, Mookie",605141],["Happ, Ian",664023],["Lowe, Nathaniel",663993],["Adames, Willy",642715],["Arozarena, Randy",668227],["Arenado, Nolan",571448],["Guerrero Jr., Vladimir",665489],["Turner, Justin",457759],["Goldschmidt, Paul",502671],["Soto, Juan",665742],["Benintendi, Andrew",643217],["Bell, Josh",605137],["Lindor, Francisco",596019],["Alonso, Pete",624413]],"hovertemplate":"PC1 RMSD=%{x}\u003cbr\u003ePC2 RMSD=%{y}\u003cbr\u003ePlayer=%{customdata[0]}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":"#636efa","symbol":"circle","opacity":0.7,"size":8},"mode":"markers","name":"","orientation":"v","showlegend":false,"x":[0.27104155019736587,0.40821411428566406,0.44466745781312467,0.4757576508694294,0.6814373507678643,0.6898595371705932,0.6575777683823311,0.48358289281489436,0.3719989770592773,0.6646831476908643,0.8235365688402909,0.3293487921438294,0.1659416734175393,0.4864793545981375,0.4672047544088945,0.3190877778220533,0.5946266986523907,0.4302642020343702,0.7857616953994871,0.6286697668184424,0.6138880276565488,0.6715107232466626,0.7250475713412291,0.660466701821996,1.4386810402352013,0.06817383325299368,0.7025405630435494,0.4775244971048292,0.4014463009177182,0.585516210314443,0.651286309558203,0.258891057978352,0.7226148308004111,0.49214491148926603,0.1869139983740808,1.549477382128759],"xaxis":"x","y":[0.4724576249188923,0.4060300626678164,0.33029900632012704,0.5619758355355221,0.46584666522446433,0.5859371316987824,0.12014270031572588,0.32330842367175755,0.34037274732567513,0.2873792098482481,0.06433701645295573,0.2625967944329362,0.289564473763246,0.3681009181602646,0.6440954044556728,0.3326654295111584,0.25955361125888,0.4864506072773376,0.3496068858025464,0.5799586946845938,0.3755465963558232,0.13644479546076152,0.20291261452111276,0.04683941982343338,0.5613586855139415,0.3668399875689538,0.3818007304842384,0.28551261022988766,0.4647177931767238,0.2320901484150783,0.24791200636128607,0.38290120697833235,0.4947470324827332,0.22046107318480865,0.5019524904059547,0.4867943367068455],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"PC1 RMSD"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"PC2 RMSD"}},"legend":{"tracegroupgap":0},"title":{"text":"PC1 vs. PC2 RMSD by Player (with 2021-2024 Data)"},"shapes":[{"line":{"color":"red","dash":"dash"},"type":"line","x0":0,"x1":1,"xref":"x domain","y0":0.359,"y1":0.359,"yref":"y"},{"line":{"color":"red","dash":"dash"},"type":"line","x0":0.566,"x1":0.566,"xref":"x","y0":0,"y1":1,"yref":"y domain"}]},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('d1474c8f-6226-419e-8726-edfd7354a058');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<hr>
<p>While the intent of the plot was to display what the typical variance of PC1 and PC2 scores looked like, two hitters immediately stuck out: Pete Alonso and Nathaniel Lowe. Using the plot at the end of the ICC section (see <a href="#run-intraclass-correlations-between-years">9: Run Intraclass Correlations Between Years</a>), I noticed a similar PC1 pattern for Alonso and Lowe. Alonso started with high PC1 scores in 2021 (1.15) and 2022 (1.51), but these scores drastically decreased to -1.62 in 2023 and -1.88 in 2024. Lowe started with a low PC1 score in 2021 (-1.30), went to a high score in 2022 (1.70), then back to a low score in 2023 (-0.86) and a very low score in 2024 (-2.16). Given the drastic deviations for Alonso and Lowe, it would be interesting to see if these could be explained by differences in how these two were pitched between seasons, or if they made deliberate changes to their approach between 2021 and 2024.</p>
</section>
</section>
<section id="average-pc1-and-pc2-scores" class="level1">
<h1>10: Average PC1 and PC2 Scores</h1>
<p>Purely for amusement purposes, I plotted the average PC1 and PC2 scores to look at specific players, adapting the code from the RMSD plot. Even though I have drawn attention to follow-up investigations that need to further validate the ideas proposed in this report, it is still fun to look at how the trends map to real hitters and speculate a bit.</p>
<div id="c9274da6" class="cell" data-execution_count="48">
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> px.scatter(</span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>    summary_icc_PCs, </span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>    x<span class="op">=</span><span class="st">'PC1_mean'</span>,</span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>    y<span class="op">=</span><span class="st">'PC2_mean'</span>, </span>
<span id="cb49-5"><a href="#cb49-5" aria-hidden="true" tabindex="-1"></a>    hover_data<span class="op">=</span>[<span class="st">'last_name, first_name'</span>, <span class="st">'player_id'</span>],</span>
<span id="cb49-6"><a href="#cb49-6" aria-hidden="true" tabindex="-1"></a>    labels<span class="op">=</span>{</span>
<span id="cb49-7"><a href="#cb49-7" aria-hidden="true" tabindex="-1"></a>        <span class="st">'PC1_mean'</span>: <span class="st">'Average PC1 Score'</span>, </span>
<span id="cb49-8"><a href="#cb49-8" aria-hidden="true" tabindex="-1"></a>        <span class="st">'PC2_mean'</span>: <span class="st">'Average PC2 Score'</span>, </span>
<span id="cb49-9"><a href="#cb49-9" aria-hidden="true" tabindex="-1"></a>        <span class="st">'last_name, first_name'</span>: <span class="st">'Player'</span></span>
<span id="cb49-10"><a href="#cb49-10" aria-hidden="true" tabindex="-1"></a>        },</span>
<span id="cb49-11"><a href="#cb49-11" aria-hidden="true" tabindex="-1"></a>    title<span class="op">=</span><span class="st">'PC1 vs. PC2 by Player (with 2021-2024 Data)'</span></span>
<span id="cb49-12"><a href="#cb49-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-13"><a href="#cb49-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-14"><a href="#cb49-14" aria-hidden="true" tabindex="-1"></a>fig.update_traces(</span>
<span id="cb49-15"><a href="#cb49-15" aria-hidden="true" tabindex="-1"></a>    marker<span class="op">=</span><span class="bu">dict</span>(size<span class="op">=</span><span class="dv">8</span>, opacity<span class="op">=</span><span class="fl">0.7</span>)</span>
<span id="cb49-16"><a href="#cb49-16" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb49-17"><a href="#cb49-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb49-18"><a href="#cb49-18" aria-hidden="true" tabindex="-1"></a>fig.show()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div>                            <div id="e519d24d-9bee-4d72-8330-aeebd0f0a7b7" class="plotly-graph-div" style="height:525px; width:100%;"></div>            <script type="text/javascript">                require(["plotly"], function(Plotly) {                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("e519d24d-9bee-4d72-8330-aeebd0f0a7b7")) {                    Plotly.newPlot(                        "e519d24d-9bee-4d72-8330-aeebd0f0a7b7",                        [{"customdata":[["Reynolds, Bryan",668804],["France, Ty",664034],["Freeman, Freddie",518692],["Ohtani, Shohei",660271],["McMahon, Ryan",641857],["Cronenworth, Jake",630105],["Devers, Rafael",646240],["Hern\u00e1ndez, Teoscar",606192],["D\u00edaz, Yandy",650490],["Su\u00e1rez, Eugenio",553993],["Ram\u00edrez, Jos\u00e9",608070],["Olson, Matt",621566],["Castellanos, Nick",592206],["Santana, Carlos",467793],["Chapman, Matt",656305],["Swanson, Dansby",621020],["Verdugo, Alex",657077],["Torres, Gleyber",650402],["Semien, Marcus",543760],["Garc\u00eda, Adolis",666969],["Machado, Manny",592518],["Turner, Trea",607208],["Betts, Mookie",605141],["Happ, Ian",664023],["Lowe, Nathaniel",663993],["Adames, Willy",642715],["Arozarena, Randy",668227],["Arenado, Nolan",571448],["Guerrero Jr., Vladimir",665489],["Turner, Justin",457759],["Goldschmidt, Paul",502671],["Soto, Juan",665742],["Benintendi, Andrew",643217],["Bell, Josh",605137],["Lindor, Francisco",596019],["Alonso, Pete",624413]],"hovertemplate":"Average PC1 Score=%{x}\u003cbr\u003eAverage PC2 Score=%{y}\u003cbr\u003ePlayer=%{customdata[0]}\u003cbr\u003eplayer_id=%{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":"#636efa","symbol":"circle","opacity":0.7,"size":8},"mode":"markers","name":"","orientation":"v","showlegend":false,"x":[1.3849776765510131,1.534494182561506,1.6443798787160468,0.5014151130829758,-0.21890388580086867,-1.5027572508108977,2.2940535191744065,1.3753523023256373,-1.5121333558219745,-1.1621395296427817,-0.6483108412650634,0.6972481510525688,3.393437522541098,-1.2057583990608494,-1.277544406596522,0.6117675073031917,-1.6412077451652918,-0.057375662278567184,0.5889878492617922,1.759711727014269,0.9516028580731108,1.6083521786364288,-2.0925443411805222,-0.2579445211113528,-0.6564130929289885,0.9380807710422479,-1.2996837724939443,-0.4437054864351557,0.7535882404014465,-0.614572388352556,-1.472018398794035,-3.5567222293239604,0.7025084879015024,0.3810924685338519,0.32396051523107217,-0.20939524389664294],"xaxis":"x","y":[1.082272412735544,0.17522710490333263,1.4827950196588149,0.5243326102083519,0.4751578942805098,-0.030577055255896914,0.2591743395175234,-0.013419451657311617,1.02616480527065,0.3644682348305962,-0.5695241371154474,0.7595981694021001,-0.3627704415639132,0.5298009395576644,0.8889285091659889,1.1719961733844642,-0.19300274815986887,0.6579284563603334,1.6410012974758752,-0.3854606962483207,0.14879790532378945,-0.035552239167389546,0.8974166303681568,0.9819623163864678,0.34511371816837194,0.35203584515903563,-0.21713403239314,-1.2379690329965405,0.5064975466146908,0.33476134173565264,-0.583414873044204,1.162050590095238,0.7192568423456941,0.8208590969783336,0.3937514718024734,-0.2257068473997846],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"},"margin":{"b":0,"l":0,"r":0,"t":30}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Average PC1 Score"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Average PC2 Score"}},"legend":{"tracegroupgap":0},"title":{"text":"PC1 vs. PC2 by Player (with 2021-2024 Data)"}},                        {"responsive": true}                    ).then(function(){
                            
var gd = document.getElementById('e519d24d-9bee-4d72-8330-aeebd0f0a7b7');
var x = new MutationObserver(function (mutations, observer) {{
        var display = window.getComputedStyle(gd).display;
        if (!display || display === 'none') {{
            console.log([gd, 'removed!']);
            Plotly.purge(gd);
            observer.disconnect();
        }}
}});

// Listen for the removal of the full notebook cells
var notebookContainer = gd.closest('#notebook-container');
if (notebookContainer) {{
    x.observe(notebookContainer, {childList: true});
}}

// Listen for the clearing of the current output cell
var outputEl = gd.closest('.output');
if (outputEl) {{
    x.observe(outputEl, {childList: true});
}}

                        })                };                });            </script>        </div>
</div>
</div>
<hr>
<p>Most hitters fall within the relatively “normal” range for each score. Nick Castellanos had the highest PC1 score (3.39), but had a relatively normal PC2 score (-0.36), suggesting he is an aggressive hitter, without expanding the zone too much. Unsurprisingly, Juan Soto had by far the lowest PC1 score (-3.56), and was among the highest scores for PC2 (1.16). Soto is known for being an incredibly patient hitter, so this tracks with the constructs of PC1 and PC2. Marcus Semien and Freddie Freeman had the two highest PC2 scores (1.64 and 1.48, respectively), but had medium- to medium-high PC1 scores. Even though Soto has been hailed as having one of the best “eyes” for seeing pitches, Semien and Freeman may actually have a slight edge when viewed from their ability to swing at good pitches at the expense of bad ones. Perhaps the most peculiar finding was Nolan Arenado having the lowest PC2 score among hitters with all four seasons (-1.24). This may reflect a tendency to chase, a low swing percentage on good pitches to hit, or perhaps Arenado sees himself as a “bad-ball” hitter, and does not mind hitting pitches out of the zone.</p>
</section>
<section id="summaryconclusion" class="level1">
<h1>10: Summary/Conclusion</h1>
<p>To reiterate the summary of section <a href="#inter-year-interpretation">8: Inter-Year Interpretation</a>, the PCA results collapsed variance in swing decision metrics and produced two PCs that captured complementary constructs. The first PC captured a hitter’s tendency to swing in general, while the second captured the hitter’s tendency to swing at good pitches at the expense of swinging at bad ones. Because hitters varied more in PC1 than PC2, this suggests chase rate and other plate discipline metrics may be more reflective of a hitter’s general tendency to swing than initially thought. Hitters’ PC1 and PC2 scores were relatively stable between years, which suggests these may relate to a hitter’s inherent skill set. Lastly, PC scores were minimally associated with performance metrics, which suggests these scores alone are not predictive of performance, and there is not an ideal score for either.</p>
</section>
<section id="future-directions" class="level1">
<h1>11: Future Directions</h1>
<p>Future investigations can build off these results by analyzing swing decision data with greater specificity. This includes separating swing decisions in different counts (e.g., two-strike counts vs.&nbsp;all other counts), or distinguishing chase pitches from other out of zone pitches, since chase pitches are thrown to look like a strike before ending as a ball. Even though the present data contained metrics on how the hitter was pitched (e.g., in zone %, out zone %, etc.), I specifically excluded these features form the PCA model because of the potential challenges with the interpretation. For instance, do hitters swing at more pitches out of the zone because they see more pitches out of the zone, or are they thrown more pitches out of the zone because pitchers think they are more likely to swing? Again, more fine-grained analyses can start to unravel the role of pitches the hitter sees and the context of the plate appearance in their swing decisions.</p>
</section>
<section id="acknowledgements" class="level1">
<h1>Acknowledgements</h1>
<p>This represents the first report where I used <a href="https://plotly.com/python/">Plotly</a>–and <a href="https://plotly.com/python/plotly-express/">Plotly Express</a>, more specifically–for my visualizations. I would highly recommend their library, as the ability to hover over specific data points made the figures in this report easier to interpret. Despite this being my first report posted online using PCA, I used it previously in an academic project for my M.S. in Data Analytics from Western Governors University (WGU). Some of the code used for the PCA model here was adapted from that project, but I am unable to cite it because I am unable to put my coursework online.</p>
<div style="page-break-after: always;"></div>
</section>
<section id="references" class="level1 unnumbered">


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" data-line-spacing="2" role="list">
<div id="ref-assana2024" class="csl-entry" role="listitem">
Assana, S. (2024). <em>The Intraclass Correlation Coefficient (ICC): A Beginners Guide</em>. <a href="https://medium.com/@SalahAssana/a-beginners-guide-to-the-intraclass-correlation-coefficient-icc-288f7fe7bcfc">https://medium.com/@SalahAssana/a-beginners-guide-to-the-intraclass-correlation-coefficient-icc-288f7fe7bcfc</a>
</div>
<div id="ref-statcast" class="csl-entry" role="listitem">
Baseball Savant. (n.d.-a). <em>Statcast Custom Leaderboards</em>. <a href="https://baseballsavant.mlb.com/leaderboard/custom?year=2021">https://baseballsavant.mlb.com/leaderboard/custom?year=2021</a>
</div>
<div id="ref-statcasta" class="csl-entry" role="listitem">
Baseball Savant. (n.d.-b). <em>Statcast Custom Leaderboards</em>. <a href="https://baseballsavant.mlb.com/leaderboard/custom?year=2022">https://baseballsavant.mlb.com/leaderboard/custom?year=2022</a>
</div>
<div id="ref-statcastb" class="csl-entry" role="listitem">
Baseball Savant. (n.d.-c). <em>Statcast Custom Leaderboards</em>. <a href="https://baseballsavant.mlb.com/leaderboard/custom?year=2023">https://baseballsavant.mlb.com/leaderboard/custom?year=2023</a>
</div>
<div id="ref-statcastc" class="csl-entry" role="listitem">
Baseball Savant. (n.d.-d). <em>Statcast Custom Leaderboards</em>. <a href="https://baseballsavant.mlb.com/leaderboard/custom?year=2024">https://baseballsavant.mlb.com/leaderboard/custom?year=2024</a>
</div>
<div id="ref-principa2025" class="csl-entry" role="listitem">
GeeksforGeeks. (2025). <em>Principal component analysis(PCA)</em>. <a href="https://www.geeksforgeeks.org/principal-component-analysis-pca/">https://www.geeksforgeeks.org/principal-component-analysis-pca/</a>
</div>
<div id="ref-pcavisu" class="csl-entry" role="listitem">
Plotly. (n.d.). <em>PCA visualization in python</em>. <a href="https://plotly.com/python/pca-visualization/">https://plotly.com/python/pca-visualization/</a>
</div>
</div></section></div></main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>